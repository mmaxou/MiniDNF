(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Me={},ir=[],Rn=()=>{},hT=()=>!1,xl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mh=t=>t.startsWith("onUpdate:"),St=Object.assign,vh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},dT=Object.prototype.hasOwnProperty,Ne=(t,e)=>dT.call(t,e),se=Array.isArray,rr=t=>Uo(t)==="[object Map]",Ll=t=>Uo(t)==="[object Set]",yp=t=>Uo(t)==="[object Date]",ce=t=>typeof t=="function",Qe=t=>typeof t=="string",Ln=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",Wg=t=>(We(t)||ce(t))&&ce(t.then)&&ce(t.catch),jg=Object.prototype.toString,Uo=t=>jg.call(t),fT=t=>Uo(t).slice(8,-1),Bg=t=>Uo(t)==="[object Object]",yh=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ro=gh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ml=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},pT=/-(\w)/g,Os=Ml(t=>t.replace(pT,(e,n)=>n?n.toUpperCase():"")),_T=/\B([A-Z])/g,Ai=Ml(t=>t.replace(_T,"-$1").toLowerCase()),Kg=Ml(t=>t.charAt(0).toUpperCase()+t.slice(1)),jc=Ml(t=>t?`on${Kg(t)}`:""),ws=(t,e)=>!Object.is(t,e),Ha=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},el=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bp;const $l=()=>bp||(bp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bh(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Qe(s)?yT(s):bh(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Qe(t)||We(t))return t}const gT=/;(?![^(]*\))/g,mT=/:([^]+)/,vT=/\/\*[^]*?\*\//g;function yT(t){const e={};return t.replace(vT,"").split(gT).forEach(n=>{if(n){const s=n.split(mT);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Eh(t){let e="";if(Qe(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const s=Eh(t[n]);s&&(e+=s+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const bT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ET=gh(bT);function qg(t){return!!t||t===""}function wT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Fl(t[s],e[s]);return n}function Fl(t,e){if(t===e)return!0;let n=yp(t),s=yp(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ln(t),s=Ln(e),n||s)return t===e;if(n=se(t),s=se(e),n||s)return n&&s?wT(t,e):!1;if(n=We(t),s=We(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Fl(t[o],e[o]))return!1}}return String(t)===String(e)}function TT(t,e){return t.findIndex(n=>Fl(n,e))}const Gg=t=>!!(t&&t.__v_isRef===!0),Bn=t=>Qe(t)?t:t==null?"":se(t)||We(t)&&(t.toString===jg||!ce(t.toString))?Gg(t)?Bn(t.value):JSON.stringify(t,Yg,2):String(t),Yg=(t,e)=>Gg(e)?Yg(t,e.value):rr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Bc(s,r)+" =>"]=i,n),{})}:Ll(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bc(n))}:Ln(e)?Bc(e):We(e)&&!se(e)&&!Bg(e)?String(e):e,Bc=(t,e="")=>{var n;return Ln(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jt;class CT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=jt,!e&&jt&&(this.index=(jt.scopes||(jt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=jt;try{return jt=this,e()}finally{jt=n}}}on(){jt=this}off(){jt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function IT(){return jt}let Ue;const Kc=new WeakSet;class Qg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,jt&&jt.active&&jt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kc.has(this)&&(Kc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ep(this),Zg(this);const e=Ue,n=mn;Ue=this,mn=!0;try{return this.fn()}finally{em(this),Ue=e,mn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ch(e);this.deps=this.depsTail=void 0,Ep(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pu(this)&&this.run()}get dirty(){return Pu(this)}}let Xg=0,oo,ao;function Jg(t,e=!1){if(t.flags|=8,e){t.next=ao,ao=t;return}t.next=oo,oo=t}function wh(){Xg++}function Th(){if(--Xg>0)return;if(ao){let e=ao;for(ao=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;oo;){let e=oo;for(oo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Zg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function em(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Ch(s),AT(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Pu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function tm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===bo))return;t.globalVersion=bo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Pu(t)){t.flags&=-3;return}const n=Ue,s=mn;Ue=t,mn=!0;try{Zg(t);const i=t.fn(t._value);(e.version===0||ws(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ue=n,mn=s,em(t),t.flags&=-3}}function Ch(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ch(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function AT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let mn=!0;const nm=[];function xs(){nm.push(mn),mn=!1}function Ls(){const t=nm.pop();mn=t===void 0?!0:t}function Ep(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ue;Ue=void 0;try{e()}finally{Ue=n}}}let bo=0;class ST{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ih{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ue||!mn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new ST(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,sm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=s)}return n}trigger(e){this.version++,bo++,this.notify(e)}notify(e){wh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Th()}}}function sm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)sm(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ru=new WeakMap,hi=Symbol(""),ku=Symbol(""),Eo=Symbol("");function ut(t,e,n){if(mn&&Ue){let s=Ru.get(t);s||Ru.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Ih),i.map=s,i.key=n),i.track()}}function Kn(t,e,n,s,i,r){const o=Ru.get(t);if(!o){bo++;return}const l=c=>{c&&c.trigger()};if(wh(),e==="clear")o.forEach(l);else{const c=se(t),h=c&&yh(n);if(c&&n==="length"){const d=Number(s);o.forEach((_,g)=>{(g==="length"||g===Eo||!Ln(g)&&g>=d)&&l(_)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(Eo)),e){case"add":c?h&&l(o.get("length")):(l(o.get(hi)),rr(t)&&l(o.get(ku)));break;case"delete":c||(l(o.get(hi)),rr(t)&&l(o.get(ku)));break;case"set":rr(t)&&l(o.get(hi));break}}Th()}function zi(t){const e=Oe(t);return e===t?e:(ut(e,"iterate",Eo),rn(t)?e:e.map(ht))}function Ul(t){return ut(t=Oe(t),"iterate",Eo),t}const OT={__proto__:null,[Symbol.iterator](){return zc(this,Symbol.iterator,ht)},concat(...t){return zi(this).concat(...t.map(e=>se(e)?zi(e):e))},entries(){return zc(this,"entries",t=>(t[1]=ht(t[1]),t))},every(t,e){return Wn(this,"every",t,e,void 0,arguments)},filter(t,e){return Wn(this,"filter",t,e,n=>n.map(ht),arguments)},find(t,e){return Wn(this,"find",t,e,ht,arguments)},findIndex(t,e){return Wn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wn(this,"findLast",t,e,ht,arguments)},findLastIndex(t,e){return Wn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wn(this,"forEach",t,e,void 0,arguments)},includes(...t){return qc(this,"includes",t)},indexOf(...t){return qc(this,"indexOf",t)},join(t){return zi(this).join(t)},lastIndexOf(...t){return qc(this,"lastIndexOf",t)},map(t,e){return Wn(this,"map",t,e,void 0,arguments)},pop(){return qr(this,"pop")},push(...t){return qr(this,"push",t)},reduce(t,...e){return wp(this,"reduce",t,e)},reduceRight(t,...e){return wp(this,"reduceRight",t,e)},shift(){return qr(this,"shift")},some(t,e){return Wn(this,"some",t,e,void 0,arguments)},splice(...t){return qr(this,"splice",t)},toReversed(){return zi(this).toReversed()},toSorted(t){return zi(this).toSorted(t)},toSpliced(...t){return zi(this).toSpliced(...t)},unshift(...t){return qr(this,"unshift",t)},values(){return zc(this,"values",ht)}};function zc(t,e,n){const s=Ul(t),i=s[e]();return s!==t&&!rn(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const NT=Array.prototype;function Wn(t,e,n,s,i,r){const o=Ul(t),l=o!==t&&!rn(t),c=o[e];if(c!==NT[e]){const _=c.apply(t,r);return l?ht(_):_}let h=n;o!==t&&(l?h=function(_,g){return n.call(this,ht(_),g,t)}:n.length>2&&(h=function(_,g){return n.call(this,_,g,t)}));const d=c.call(o,h,s);return l&&i?i(d):d}function wp(t,e,n,s){const i=Ul(t);let r=n;return i!==t&&(rn(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,ht(l),c,t)}),i[e](r,...s)}function qc(t,e,n){const s=Oe(t);ut(s,"iterate",Eo);const i=s[e](...n);return(i===-1||i===!1)&&Nh(n[0])?(n[0]=Oe(n[0]),s[e](...n)):i}function qr(t,e,n=[]){xs(),wh();const s=Oe(t)[e].apply(t,n);return Th(),Ls(),s}const PT=gh("__proto__,__v_isRef,__isVue"),im=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ln));function RT(t){Ln(t)||(t=String(t));const e=Oe(this);return ut(e,"has",t),e.hasOwnProperty(t)}class rm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?VT:cm:r?lm:am).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=se(e);if(!i){let c;if(o&&(c=OT[n]))return c;if(n==="hasOwnProperty")return RT}const l=Reflect.get(e,n,pt(e)?e:s);return(Ln(n)?im.has(n):PT(n))||(i||ut(e,"get",n),r)?l:pt(l)?o&&yh(n)?l:l.value:We(l)?i?um(l):Sh(l):l}}class om extends rm{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=fi(r);if(!rn(s)&&!fi(s)&&(r=Oe(r),s=Oe(s)),!se(e)&&pt(r)&&!pt(s))return c?!1:(r.value=s,!0)}const o=se(e)&&yh(n)?Number(n)<e.length:Ne(e,n),l=Reflect.set(e,n,s,pt(e)?e:i);return e===Oe(i)&&(o?ws(s,r)&&Kn(e,"set",n,s):Kn(e,"add",n,s)),l}deleteProperty(e,n){const s=Ne(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Kn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Ln(n)||!im.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",se(e)?"length":hi),Reflect.ownKeys(e)}}class kT extends rm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const DT=new om,xT=new kT,LT=new om(!0);const Du=t=>t,Sa=t=>Reflect.getPrototypeOf(t);function MT(t,e,n){return function(...s){const i=this.__v_raw,r=Oe(i),o=rr(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=i[t](...s),d=n?Du:e?xu:ht;return!e&&ut(r,"iterate",c?ku:hi),{next(){const{value:_,done:g}=h.next();return g?{value:_,done:g}:{value:l?[d(_[0]),d(_[1])]:d(_),done:g}},[Symbol.iterator](){return this}}}}function Oa(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $T(t,e){const n={get(i){const r=this.__v_raw,o=Oe(r),l=Oe(i);t||(ws(i,l)&&ut(o,"get",i),ut(o,"get",l));const{has:c}=Sa(o),h=e?Du:t?xu:ht;if(c.call(o,i))return h(r.get(i));if(c.call(o,l))return h(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ut(Oe(i),"iterate",hi),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Oe(r),l=Oe(i);return t||(ws(i,l)&&ut(o,"has",i),ut(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=Oe(l),h=e?Du:t?xu:ht;return!t&&ut(c,"iterate",hi),l.forEach((d,_)=>i.call(r,h(d),h(_),o))}};return St(n,t?{add:Oa("add"),set:Oa("set"),delete:Oa("delete"),clear:Oa("clear")}:{add(i){!e&&!rn(i)&&!fi(i)&&(i=Oe(i));const r=Oe(this);return Sa(r).has.call(r,i)||(r.add(i),Kn(r,"add",i,i)),this},set(i,r){!e&&!rn(r)&&!fi(r)&&(r=Oe(r));const o=Oe(this),{has:l,get:c}=Sa(o);let h=l.call(o,i);h||(i=Oe(i),h=l.call(o,i));const d=c.call(o,i);return o.set(i,r),h?ws(r,d)&&Kn(o,"set",i,r):Kn(o,"add",i,r),this},delete(i){const r=Oe(this),{has:o,get:l}=Sa(r);let c=o.call(r,i);c||(i=Oe(i),c=o.call(r,i)),l&&l.call(r,i);const h=r.delete(i);return c&&Kn(r,"delete",i,void 0),h},clear(){const i=Oe(this),r=i.size!==0,o=i.clear();return r&&Kn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=MT(i,t,e)}),n}function Ah(t,e){const n=$T(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ne(n,i)&&i in s?n:s,i,r)}const FT={get:Ah(!1,!1)},UT={get:Ah(!1,!0)},HT={get:Ah(!0,!1)};const am=new WeakMap,lm=new WeakMap,cm=new WeakMap,VT=new WeakMap;function WT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jT(t){return t.__v_skip||!Object.isExtensible(t)?0:WT(fT(t))}function Sh(t){return fi(t)?t:Oh(t,!1,DT,FT,am)}function BT(t){return Oh(t,!1,LT,UT,lm)}function um(t){return Oh(t,!0,xT,HT,cm)}function Oh(t,e,n,s,i){if(!We(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=jT(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function or(t){return fi(t)?or(t.__v_raw):!!(t&&t.__v_isReactive)}function fi(t){return!!(t&&t.__v_isReadonly)}function rn(t){return!!(t&&t.__v_isShallow)}function Nh(t){return t?!!t.__v_raw:!1}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function KT(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&zg(t,"__v_skip",!0),t}const ht=t=>We(t)?Sh(t):t,xu=t=>We(t)?um(t):t;function pt(t){return t?t.__v_isRef===!0:!1}function ct(t){return zT(t,!1)}function zT(t,e){return pt(t)?t:new qT(t,e)}class qT{constructor(e,n){this.dep=new Ih,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Oe(e),this._value=n?e:ht(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||rn(e)||fi(e);e=s?e:Oe(e),ws(e,n)&&(this._rawValue=e,this._value=s?e:ht(e),this.dep.trigger())}}function GT(t){return pt(t)?t.value:t}const YT={get:(t,e,n)=>e==="__v_raw"?t:GT(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return pt(i)&&!pt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function hm(t){return or(t)?t:new Proxy(t,YT)}class QT{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ih(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Jg(this,!0),!0}get value(){const e=this.dep.track();return tm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function XT(t,e,n=!1){let s,i;return ce(t)?s=t:(s=t.get,i=t.set),new QT(s,i,n)}const Na={},tl=new WeakMap;let ni;function JT(t,e=!1,n=ni){if(n){let s=tl.get(n);s||tl.set(n,s=[]),s.push(t)}}function ZT(t,e,n=Me){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,h=x=>i?x:rn(x)||i===!1||i===0?zn(x,1):zn(x);let d,_,g,v,b=!1,T=!1;if(pt(t)?(_=()=>t.value,b=rn(t)):or(t)?(_=()=>h(t),b=!0):se(t)?(T=!0,b=t.some(x=>or(x)||rn(x)),_=()=>t.map(x=>{if(pt(x))return x.value;if(or(x))return h(x);if(ce(x))return c?c(x,2):x()})):ce(t)?e?_=c?()=>c(t,2):t:_=()=>{if(g){xs();try{g()}finally{Ls()}}const x=ni;ni=d;try{return c?c(t,3,[v]):t(v)}finally{ni=x}}:_=Rn,e&&i){const x=_,X=i===!0?1/0:i;_=()=>zn(x(),X)}const D=IT(),F=()=>{d.stop(),D&&D.active&&vh(D.effects,d)};if(r&&e){const x=e;e=(...X)=>{x(...X),F()}}let V=T?new Array(t.length).fill(Na):Na;const Y=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const X=d.run();if(i||b||(T?X.some((ae,pe)=>ws(ae,V[pe])):ws(X,V))){g&&g();const ae=ni;ni=d;try{const pe=[X,V===Na?void 0:T&&V[0]===Na?[]:V,v];c?c(e,3,pe):e(...pe),V=X}finally{ni=ae}}}else d.run()};return l&&l(Y),d=new Qg(_),d.scheduler=o?()=>o(Y,!1):Y,v=x=>JT(x,!1,d),g=d.onStop=()=>{const x=tl.get(d);if(x){if(c)c(x,4);else for(const X of x)X();tl.delete(d)}},e?s?Y(!0):V=d.run():o?o(Y.bind(null,!0),!0):d.run(),F.pause=d.pause.bind(d),F.resume=d.resume.bind(d),F.stop=F,F}function zn(t,e=1/0,n){if(e<=0||!We(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pt(t))zn(t.value,e,n);else if(se(t))for(let s=0;s<t.length;s++)zn(t[s],e,n);else if(Ll(t)||rr(t))t.forEach(s=>{zn(s,e,n)});else if(Bg(t)){for(const s in t)zn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&zn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ho(t,e,n,s){try{return s?t(...s):t()}catch(i){Hl(i,e,n)}}function Mn(t,e,n,s){if(ce(t)){const i=Ho(t,e,n,s);return i&&Wg(i)&&i.catch(r=>{Hl(r,e,n)}),i}if(se(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Mn(t[r],e,n,s));return i}}function Hl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Me;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let _=0;_<d.length;_++)if(d[_](t,c,h)===!1)return}l=l.parent}if(r){xs(),Ho(r,null,10,[t,c,h]),Ls();return}}eC(t,n,i,s,o)}function eC(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const wt=[];let On=-1;const ar=[];let gs=null,Qi=0;const dm=Promise.resolve();let nl=null;function fm(t){const e=nl||dm;return t?e.then(this?t.bind(this):t):e}function tC(t){let e=On+1,n=wt.length;for(;e<n;){const s=e+n>>>1,i=wt[s],r=wo(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Ph(t){if(!(t.flags&1)){const e=wo(t),n=wt[wt.length-1];!n||!(t.flags&2)&&e>=wo(n)?wt.push(t):wt.splice(tC(e),0,t),t.flags|=1,pm()}}function pm(){nl||(nl=dm.then(gm))}function nC(t){se(t)?ar.push(...t):gs&&t.id===-1?gs.splice(Qi+1,0,t):t.flags&1||(ar.push(t),t.flags|=1),pm()}function Tp(t,e,n=On+1){for(;n<wt.length;n++){const s=wt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;wt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function _m(t){if(ar.length){const e=[...new Set(ar)].sort((n,s)=>wo(n)-wo(s));if(ar.length=0,gs){gs.push(...e);return}for(gs=e,Qi=0;Qi<gs.length;Qi++){const n=gs[Qi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}gs=null,Qi=0}}const wo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function gm(t){try{for(On=0;On<wt.length;On++){const e=wt[On];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ho(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;On<wt.length;On++){const e=wt[On];e&&(e.flags&=-2)}On=-1,wt.length=0,_m(),nl=null,(wt.length||ar.length)&&gm()}}let sn=null,mm=null;function sl(t){const e=sn;return sn=t,mm=t&&t.type.__scopeId||null,e}function sC(t,e=sn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&kp(-1);const r=sl(e);let o;try{o=t(...i)}finally{sl(r),s._d&&kp(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ri(t,e){if(sn===null)return t;const n=Kl(sn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=Me]=e[i];r&&(ce(r)&&(r={mounted:r,updated:r}),r.deep&&zn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function ei(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(xs(),Mn(c,n,8,[t.el,l,t,e]),Ls())}}const iC=Symbol("_vte"),rC=t=>t.__isTeleport;function Rh(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rh(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function il(t,e,n,s,i=!1){if(se(t)){t.forEach((b,T)=>il(b,e&&(se(e)?e[T]:e),n,s,i));return}if(lo(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&il(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Kl(s.component):s.el,o=i?null:r,{i:l,r:c}=t,h=e&&e.r,d=l.refs===Me?l.refs={}:l.refs,_=l.setupState,g=Oe(_),v=_===Me?()=>!1:b=>Ne(g,b);if(h!=null&&h!==c&&(Qe(h)?(d[h]=null,v(h)&&(_[h]=null)):pt(h)&&(h.value=null)),ce(c))Ho(c,l,12,[o,d]);else{const b=Qe(c),T=pt(c);if(b||T){const D=()=>{if(t.f){const F=b?v(c)?_[c]:d[c]:c.value;i?se(F)&&vh(F,r):se(F)?F.includes(r)||F.push(r):b?(d[c]=[r],v(c)&&(_[c]=d[c])):(c.value=[r],t.k&&(d[t.k]=c.value))}else b?(d[c]=o,v(c)&&(_[c]=o)):T&&(c.value=o,t.k&&(d[t.k]=o))};o?(D.id=-1,Wt(D,n)):D()}}}$l().requestIdleCallback;$l().cancelIdleCallback;const lo=t=>!!t.type.__asyncLoader,ym=t=>t.type.__isKeepAlive;function oC(t,e){bm(t,"a",e)}function aC(t,e){bm(t,"da",e)}function bm(t,e,n=Tt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Vl(e,s,n),n){let i=n.parent;for(;i&&i.parent;)ym(i.parent.vnode)&&lC(s,e,n,i),i=i.parent}}function lC(t,e,n,s){const i=Vl(e,t,s,!0);Em(()=>{vh(s[e],i)},n)}function Vl(t,e,n=Tt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{xs();const l=Vo(n),c=Mn(e,n,t,o);return l(),Ls(),c});return s?i.unshift(r):i.push(r),r}}const as=t=>(e,n=Tt)=>{(!Io||t==="sp")&&Vl(t,(...s)=>e(...s),n)},cC=as("bm"),Wl=as("m"),uC=as("bu"),hC=as("u"),dC=as("bum"),Em=as("um"),fC=as("sp"),pC=as("rtg"),_C=as("rtc");function gC(t,e=Tt){Vl("ec",t,e)}const mC=Symbol.for("v-ndc");function vC(t,e,n,s){let i;const r=n,o=se(t);if(o||Qe(t)){const l=o&&or(t);let c=!1;l&&(c=!rn(t),t=Ul(t)),i=new Array(t.length);for(let h=0,d=t.length;h<d;h++)i[h]=e(c?ht(t[h]):t[h],h,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(We(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];i[c]=e(t[d],d,c,r)}}else i=[];return i}const Lu=t=>t?jm(t)?Kl(t):Lu(t.parent):null,co=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lu(t.parent),$root:t=>Lu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Tm(t),$forceUpdate:t=>t.f||(t.f=()=>{Ph(t.update)}),$nextTick:t=>t.n||(t.n=fm.bind(t.proxy)),$watch:t=>HC.bind(t)}),Gc=(t,e)=>t!==Me&&!t.__isScriptSetup&&Ne(t,e),yC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Gc(s,e))return o[e]=1,s[e];if(i!==Me&&Ne(i,e))return o[e]=2,i[e];if((h=t.propsOptions[0])&&Ne(h,e))return o[e]=3,r[e];if(n!==Me&&Ne(n,e))return o[e]=4,n[e];Mu&&(o[e]=0)}}const d=co[e];let _,g;if(d)return e==="$attrs"&&ut(t.attrs,"get",""),d(t);if((_=l.__cssModules)&&(_=_[e]))return _;if(n!==Me&&Ne(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,Ne(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Gc(i,e)?(i[e]=n,!0):s!==Me&&Ne(s,e)?(s[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==Me&&Ne(t,o)||Gc(e,o)||(l=r[0])&&Ne(l,o)||Ne(s,o)||Ne(co,o)||Ne(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Cp(t){return se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Mu=!0;function bC(t){const e=Tm(t),n=t.proxy,s=t.ctx;Mu=!1,e.beforeCreate&&Ip(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:h,created:d,beforeMount:_,mounted:g,beforeUpdate:v,updated:b,activated:T,deactivated:D,beforeDestroy:F,beforeUnmount:V,destroyed:Y,unmounted:x,render:X,renderTracked:ae,renderTriggered:pe,errorCaptured:we,serverPrefetch:Se,expose:Te,inheritAttrs:je,components:Xe,directives:Be,filters:Pt}=e;if(h&&EC(h,s,null),o)for(const de in o){const Ee=o[de];ce(Ee)&&(s[de]=Ee.bind(n))}if(i){const de=i.call(n,n);We(de)&&(t.data=Sh(de))}if(Mu=!0,r)for(const de in r){const Ee=r[de],nt=ce(Ee)?Ee.bind(n,n):ce(Ee.get)?Ee.get.bind(n,n):Rn,A=!ce(Ee)&&ce(Ee.set)?Ee.set.bind(n):Rn,_t=oI({get:nt,set:A});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Je=>_t.value=Je})}if(l)for(const de in l)wm(l[de],s,n,de);if(c){const de=ce(c)?c.call(n):c;Reflect.ownKeys(de).forEach(Ee=>{SC(Ee,de[Ee])})}d&&Ip(d,t,"c");function Ce(de,Ee){se(Ee)?Ee.forEach(nt=>de(nt.bind(n))):Ee&&de(Ee.bind(n))}if(Ce(cC,_),Ce(Wl,g),Ce(uC,v),Ce(hC,b),Ce(oC,T),Ce(aC,D),Ce(gC,we),Ce(_C,ae),Ce(pC,pe),Ce(dC,V),Ce(Em,x),Ce(fC,Se),se(Te))if(Te.length){const de=t.exposed||(t.exposed={});Te.forEach(Ee=>{Object.defineProperty(de,Ee,{get:()=>n[Ee],set:nt=>n[Ee]=nt})})}else t.exposed||(t.exposed={});X&&t.render===Rn&&(t.render=X),je!=null&&(t.inheritAttrs=je),Xe&&(t.components=Xe),Be&&(t.directives=Be),Se&&vm(t)}function EC(t,e,n=Rn){se(t)&&(t=$u(t));for(const s in t){const i=t[s];let r;We(i)?"default"in i?r=Va(i.from||s,i.default,!0):r=Va(i.from||s):r=Va(i),pt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Ip(t,e,n){Mn(se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function wm(t,e,n,s){let i=s.includes(".")?$m(n,s):()=>n[s];if(Qe(t)){const r=e[t];ce(r)&&Qc(i,r)}else if(ce(t))Qc(i,t.bind(n));else if(We(t))if(se(t))t.forEach(r=>wm(r,e,n,s));else{const r=ce(t.handler)?t.handler.bind(n):e[t.handler];ce(r)&&Qc(i,r,t)}}function Tm(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(h=>rl(c,h,o,!0)),rl(c,e,o)),We(e)&&r.set(e,c),c}function rl(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&rl(t,r,n,!0),i&&i.forEach(o=>rl(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=wC[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const wC={data:Ap,props:Sp,emits:Sp,methods:to,computed:to,beforeCreate:Et,created:Et,beforeMount:Et,mounted:Et,beforeUpdate:Et,updated:Et,beforeDestroy:Et,beforeUnmount:Et,destroyed:Et,unmounted:Et,activated:Et,deactivated:Et,errorCaptured:Et,serverPrefetch:Et,components:to,directives:to,watch:CC,provide:Ap,inject:TC};function Ap(t,e){return e?t?function(){return St(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function TC(t,e){return to($u(t),$u(e))}function $u(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Et(t,e){return t?[...new Set([].concat(t,e))]:e}function to(t,e){return t?St(Object.create(null),t,e):e}function Sp(t,e){return t?se(t)&&se(e)?[...new Set([...t,...e])]:St(Object.create(null),Cp(t),Cp(e??{})):e}function CC(t,e){if(!t)return e;if(!e)return t;const n=St(Object.create(null),t);for(const s in e)n[s]=Et(t[s],e[s]);return n}function Cm(){return{app:null,config:{isNativeTag:hT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let IC=0;function AC(t,e){return function(s,i=null){ce(s)||(s=St({},s)),i!=null&&!We(i)&&(i=null);const r=Cm(),o=new WeakSet,l=[];let c=!1;const h=r.app={_uid:IC++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:aI,get config(){return r.config},set config(d){},use(d,..._){return o.has(d)||(d&&ce(d.install)?(o.add(d),d.install(h,..._)):ce(d)&&(o.add(d),d(h,..._))),h},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),h},component(d,_){return _?(r.components[d]=_,h):r.components[d]},directive(d,_){return _?(r.directives[d]=_,h):r.directives[d]},mount(d,_,g){if(!c){const v=h._ceVNode||Xn(s,i);return v.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),t(v,d,g),c=!0,h._container=d,d.__vue_app__=h,Kl(v.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Mn(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,_){return r.provides[d]=_,h},runWithContext(d){const _=lr;lr=h;try{return d()}finally{lr=_}}};return h}}let lr=null;function SC(t,e){if(Tt){let n=Tt.provides;const s=Tt.parent&&Tt.parent.provides;s===n&&(n=Tt.provides=Object.create(s)),n[t]=e}}function Va(t,e,n=!1){const s=Tt||sn;if(s||lr){const i=lr?lr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ce(e)?e.call(s&&s.proxy):e}}const Im={},Am=()=>Object.create(Im),Sm=t=>Object.getPrototypeOf(t)===Im;function OC(t,e,n,s=!1){const i={},r=Am();t.propsDefaults=Object.create(null),Om(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:BT(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function NC(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=Oe(i),[c]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let _=0;_<d.length;_++){let g=d[_];if(jl(t.emitsOptions,g))continue;const v=e[g];if(c)if(Ne(r,g))v!==r[g]&&(r[g]=v,h=!0);else{const b=Os(g);i[b]=Fu(c,l,b,v,t,!1)}else v!==r[g]&&(r[g]=v,h=!0)}}}else{Om(t,e,i,r)&&(h=!0);let d;for(const _ in l)(!e||!Ne(e,_)&&((d=Ai(_))===_||!Ne(e,d)))&&(c?n&&(n[_]!==void 0||n[d]!==void 0)&&(i[_]=Fu(c,l,_,void 0,t,!0)):delete i[_]);if(r!==l)for(const _ in r)(!e||!Ne(e,_))&&(delete r[_],h=!0)}h&&Kn(t.attrs,"set","")}function Om(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(ro(c))continue;const h=e[c];let d;i&&Ne(i,d=Os(c))?!r||!r.includes(d)?n[d]=h:(l||(l={}))[d]=h:jl(t.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,o=!0)}if(r){const c=Oe(n),h=l||Me;for(let d=0;d<r.length;d++){const _=r[d];n[_]=Fu(i,c,_,h[_],t,!Ne(h,_))}}return o}function Fu(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=Ne(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ce(c)){const{propsDefaults:h}=i;if(n in h)s=h[n];else{const d=Vo(i);s=h[n]=c.call(null,e),d()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Ai(n))&&(s=!0))}return s}const PC=new WeakMap;function Nm(t,e,n=!1){const s=n?PC:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!ce(t)){const d=_=>{c=!0;const[g,v]=Nm(_,e,!0);St(o,g),v&&l.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!c)return We(t)&&s.set(t,ir),ir;if(se(r))for(let d=0;d<r.length;d++){const _=Os(r[d]);Op(_)&&(o[_]=Me)}else if(r)for(const d in r){const _=Os(d);if(Op(_)){const g=r[d],v=o[_]=se(g)||ce(g)?{type:g}:St({},g),b=v.type;let T=!1,D=!0;if(se(b))for(let F=0;F<b.length;++F){const V=b[F],Y=ce(V)&&V.name;if(Y==="Boolean"){T=!0;break}else Y==="String"&&(D=!1)}else T=ce(b)&&b.name==="Boolean";v[0]=T,v[1]=D,(T||Ne(v,"default"))&&l.push(_)}}const h=[o,l];return We(t)&&s.set(t,h),h}function Op(t){return t[0]!=="$"&&!ro(t)}const Pm=t=>t[0]==="_"||t==="$stable",kh=t=>se(t)?t.map(Pn):[Pn(t)],RC=(t,e,n)=>{if(e._n)return e;const s=sC((...i)=>kh(e(...i)),n);return s._c=!1,s},Rm=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Pm(i))continue;const r=t[i];if(ce(r))e[i]=RC(i,r,s);else if(r!=null){const o=kh(r);e[i]=()=>o}}},km=(t,e)=>{const n=kh(e);t.slots.default=()=>n},Dm=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},kC=(t,e,n)=>{const s=t.slots=Am();if(t.vnode.shapeFlag&32){const i=e._;i?(Dm(s,e,n),n&&zg(s,"_",i,!0)):Rm(e,s)}else e&&km(t,e)},DC=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Me;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:Dm(i,e,n):(r=!e.$stable,Rm(e,i)),o=e}else e&&(km(t,e),o={default:1});if(r)for(const l in i)!Pm(l)&&o[l]==null&&delete i[l]},Wt=qC;function xC(t){return LC(t)}function LC(t,e){const n=$l();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:_,nextSibling:g,setScopeId:v=Rn,insertStaticContent:b}=t,T=(m,y,I,N=null,S=null,R=null,W=void 0,U=null,L=!!y.dynamicChildren)=>{if(m===y)return;m&&!Gr(m,y)&&(N=$t(m),Je(m,S,R,!0),m=null),y.patchFlag===-2&&(L=!1,y.dynamicChildren=null);const{type:k,ref:J,shapeFlag:j}=y;switch(k){case Bl:D(m,y,I,N);break;case pi:F(m,y,I,N);break;case Xc:m==null&&V(y,I,N,W);break;case Nn:Xe(m,y,I,N,S,R,W,U,L);break;default:j&1?X(m,y,I,N,S,R,W,U,L):j&6?Be(m,y,I,N,S,R,W,U,L):(j&64||j&128)&&k.process(m,y,I,N,S,R,W,U,L,wn)}J!=null&&S&&il(J,m&&m.ref,R,y||m,!y)},D=(m,y,I,N)=>{if(m==null)s(y.el=l(y.children),I,N);else{const S=y.el=m.el;y.children!==m.children&&h(S,y.children)}},F=(m,y,I,N)=>{m==null?s(y.el=c(y.children||""),I,N):y.el=m.el},V=(m,y,I,N)=>{[m.el,m.anchor]=b(m.children,y,I,N,m.el,m.anchor)},Y=({el:m,anchor:y},I,N)=>{let S;for(;m&&m!==y;)S=g(m),s(m,I,N),m=S;s(y,I,N)},x=({el:m,anchor:y})=>{let I;for(;m&&m!==y;)I=g(m),i(m),m=I;i(y)},X=(m,y,I,N,S,R,W,U,L)=>{y.type==="svg"?W="svg":y.type==="math"&&(W="mathml"),m==null?ae(y,I,N,S,R,W,U,L):Se(m,y,S,R,W,U,L)},ae=(m,y,I,N,S,R,W,U)=>{let L,k;const{props:J,shapeFlag:j,transition:G,dirs:Q}=m;if(L=m.el=o(m.type,R,J&&J.is,J),j&8?d(L,m.children):j&16&&we(m.children,L,null,N,S,Yc(m,R),W,U),Q&&ei(m,null,N,"created"),pe(L,m,m.scopeId,W,N),J){for(const ye in J)ye!=="value"&&!ro(ye)&&r(L,ye,null,J[ye],R,N);"value"in J&&r(L,"value",null,J.value,R),(k=J.onVnodeBeforeMount)&&Sn(k,N,m)}Q&&ei(m,null,N,"beforeMount");const ue=MC(S,G);ue&&G.beforeEnter(L),s(L,y,I),((k=J&&J.onVnodeMounted)||ue||Q)&&Wt(()=>{k&&Sn(k,N,m),ue&&G.enter(L),Q&&ei(m,null,N,"mounted")},S)},pe=(m,y,I,N,S)=>{if(I&&v(m,I),N)for(let R=0;R<N.length;R++)v(m,N[R]);if(S){let R=S.subTree;if(y===R||Um(R.type)&&(R.ssContent===y||R.ssFallback===y)){const W=S.vnode;pe(m,W,W.scopeId,W.slotScopeIds,S.parent)}}},we=(m,y,I,N,S,R,W,U,L=0)=>{for(let k=L;k<m.length;k++){const J=m[k]=U?ms(m[k]):Pn(m[k]);T(null,J,y,I,N,S,R,W,U)}},Se=(m,y,I,N,S,R,W)=>{const U=y.el=m.el;let{patchFlag:L,dynamicChildren:k,dirs:J}=y;L|=m.patchFlag&16;const j=m.props||Me,G=y.props||Me;let Q;if(I&&ti(I,!1),(Q=G.onVnodeBeforeUpdate)&&Sn(Q,I,y,m),J&&ei(y,m,I,"beforeUpdate"),I&&ti(I,!0),(j.innerHTML&&G.innerHTML==null||j.textContent&&G.textContent==null)&&d(U,""),k?Te(m.dynamicChildren,k,U,I,N,Yc(y,S),R):W||Ee(m,y,U,null,I,N,Yc(y,S),R,!1),L>0){if(L&16)je(U,j,G,I,S);else if(L&2&&j.class!==G.class&&r(U,"class",null,G.class,S),L&4&&r(U,"style",j.style,G.style,S),L&8){const ue=y.dynamicProps;for(let ye=0;ye<ue.length;ye++){const fe=ue[ye],Ye=j[fe],Ze=G[fe];(Ze!==Ye||fe==="value")&&r(U,fe,Ye,Ze,S,I)}}L&1&&m.children!==y.children&&d(U,y.children)}else!W&&k==null&&je(U,j,G,I,S);((Q=G.onVnodeUpdated)||J)&&Wt(()=>{Q&&Sn(Q,I,y,m),J&&ei(y,m,I,"updated")},N)},Te=(m,y,I,N,S,R,W)=>{for(let U=0;U<y.length;U++){const L=m[U],k=y[U],J=L.el&&(L.type===Nn||!Gr(L,k)||L.shapeFlag&70)?_(L.el):I;T(L,k,J,null,N,S,R,W,!0)}},je=(m,y,I,N,S)=>{if(y!==I){if(y!==Me)for(const R in y)!ro(R)&&!(R in I)&&r(m,R,y[R],null,S,N);for(const R in I){if(ro(R))continue;const W=I[R],U=y[R];W!==U&&R!=="value"&&r(m,R,U,W,S,N)}"value"in I&&r(m,"value",y.value,I.value,S)}},Xe=(m,y,I,N,S,R,W,U,L)=>{const k=y.el=m?m.el:l(""),J=y.anchor=m?m.anchor:l("");let{patchFlag:j,dynamicChildren:G,slotScopeIds:Q}=y;Q&&(U=U?U.concat(Q):Q),m==null?(s(k,I,N),s(J,I,N),we(y.children||[],I,J,S,R,W,U,L)):j>0&&j&64&&G&&m.dynamicChildren?(Te(m.dynamicChildren,G,I,S,R,W,U),(y.key!=null||S&&y===S.subTree)&&xm(m,y,!0)):Ee(m,y,I,J,S,R,W,U,L)},Be=(m,y,I,N,S,R,W,U,L)=>{y.slotScopeIds=U,m==null?y.shapeFlag&512?S.ctx.activate(y,I,N,W,L):Pt(y,I,N,S,R,W,L):Mt(m,y,L)},Pt=(m,y,I,N,S,R,W)=>{const U=m.component=eI(m,N,S);if(ym(m)&&(U.ctx.renderer=wn),tI(U,!1,W),U.asyncDep){if(S&&S.registerDep(U,Ce,W),!m.el){const L=U.subTree=Xn(pi);F(null,L,y,I)}}else Ce(U,m,y,I,S,R,W)},Mt=(m,y,I)=>{const N=y.component=m.component;if(KC(m,y,I))if(N.asyncDep&&!N.asyncResolved){de(N,y,I);return}else N.next=y,N.update();else y.el=m.el,N.vnode=y},Ce=(m,y,I,N,S,R,W)=>{const U=()=>{if(m.isMounted){let{next:j,bu:G,u:Q,parent:ue,vnode:ye}=m;{const Rt=Lm(m);if(Rt){j&&(j.el=ye.el,de(m,j,W)),Rt.asyncDep.then(()=>{m.isUnmounted||U()});return}}let fe=j,Ye;ti(m,!1),j?(j.el=ye.el,de(m,j,W)):j=ye,G&&Ha(G),(Ye=j.props&&j.props.onVnodeBeforeUpdate)&&Sn(Ye,ue,j,ye),ti(m,!0);const Ze=Pp(m),Yt=m.subTree;m.subTree=Ze,T(Yt,Ze,_(Yt.el),$t(Yt),m,S,R),j.el=Ze.el,fe===null&&zC(m,Ze.el),Q&&Wt(Q,S),(Ye=j.props&&j.props.onVnodeUpdated)&&Wt(()=>Sn(Ye,ue,j,ye),S)}else{let j;const{el:G,props:Q}=y,{bm:ue,m:ye,parent:fe,root:Ye,type:Ze}=m,Yt=lo(y);ti(m,!1),ue&&Ha(ue),!Yt&&(j=Q&&Q.onVnodeBeforeMount)&&Sn(j,fe,y),ti(m,!0);{Ye.ce&&Ye.ce._injectChildStyle(Ze);const Rt=m.subTree=Pp(m);T(null,Rt,I,N,m,S,R),y.el=Rt.el}if(ye&&Wt(ye,S),!Yt&&(j=Q&&Q.onVnodeMounted)){const Rt=y;Wt(()=>Sn(j,fe,Rt),S)}(y.shapeFlag&256||fe&&lo(fe.vnode)&&fe.vnode.shapeFlag&256)&&m.a&&Wt(m.a,S),m.isMounted=!0,y=I=N=null}};m.scope.on();const L=m.effect=new Qg(U);m.scope.off();const k=m.update=L.run.bind(L),J=m.job=L.runIfDirty.bind(L);J.i=m,J.id=m.uid,L.scheduler=()=>Ph(J),ti(m,!0),k()},de=(m,y,I)=>{y.component=m;const N=m.vnode.props;m.vnode=y,m.next=null,NC(m,y.props,N,I),DC(m,y.children,I),xs(),Tp(m),Ls()},Ee=(m,y,I,N,S,R,W,U,L=!1)=>{const k=m&&m.children,J=m?m.shapeFlag:0,j=y.children,{patchFlag:G,shapeFlag:Q}=y;if(G>0){if(G&128){A(k,j,I,N,S,R,W,U,L);return}else if(G&256){nt(k,j,I,N,S,R,W,U,L);return}}Q&8?(J&16&&Ke(k,S,R),j!==k&&d(I,j)):J&16?Q&16?A(k,j,I,N,S,R,W,U,L):Ke(k,S,R,!0):(J&8&&d(I,""),Q&16&&we(j,I,N,S,R,W,U,L))},nt=(m,y,I,N,S,R,W,U,L)=>{m=m||ir,y=y||ir;const k=m.length,J=y.length,j=Math.min(k,J);let G;for(G=0;G<j;G++){const Q=y[G]=L?ms(y[G]):Pn(y[G]);T(m[G],Q,I,null,S,R,W,U,L)}k>J?Ke(m,S,R,!0,!1,j):we(y,I,N,S,R,W,U,L,j)},A=(m,y,I,N,S,R,W,U,L)=>{let k=0;const J=y.length;let j=m.length-1,G=J-1;for(;k<=j&&k<=G;){const Q=m[k],ue=y[k]=L?ms(y[k]):Pn(y[k]);if(Gr(Q,ue))T(Q,ue,I,null,S,R,W,U,L);else break;k++}for(;k<=j&&k<=G;){const Q=m[j],ue=y[G]=L?ms(y[G]):Pn(y[G]);if(Gr(Q,ue))T(Q,ue,I,null,S,R,W,U,L);else break;j--,G--}if(k>j){if(k<=G){const Q=G+1,ue=Q<J?y[Q].el:N;for(;k<=G;)T(null,y[k]=L?ms(y[k]):Pn(y[k]),I,ue,S,R,W,U,L),k++}}else if(k>G)for(;k<=j;)Je(m[k],S,R,!0),k++;else{const Q=k,ue=k,ye=new Map;for(k=ue;k<=G;k++){const gt=y[k]=L?ms(y[k]):Pn(y[k]);gt.key!=null&&ye.set(gt.key,k)}let fe,Ye=0;const Ze=G-ue+1;let Yt=!1,Rt=0;const Ws=new Array(Ze);for(k=0;k<Ze;k++)Ws[k]=0;for(k=Q;k<=j;k++){const gt=m[k];if(Ye>=Ze){Je(gt,S,R,!0);continue}let Qt;if(gt.key!=null)Qt=ye.get(gt.key);else for(fe=ue;fe<=G;fe++)if(Ws[fe-ue]===0&&Gr(gt,y[fe])){Qt=fe;break}Qt===void 0?Je(gt,S,R,!0):(Ws[Qt-ue]=k+1,Qt>=Rt?Rt=Qt:Yt=!0,T(gt,y[Qt],I,null,S,R,W,U,L),Ye++)}const aa=Yt?$C(Ws):ir;for(fe=aa.length-1,k=Ze-1;k>=0;k--){const gt=ue+k,Qt=y[gt],la=gt+1<J?y[gt+1].el:N;Ws[k]===0?T(null,Qt,I,la,S,R,W,U,L):Yt&&(fe<0||k!==aa[fe]?_t(Qt,I,la,2):fe--)}}},_t=(m,y,I,N,S=null)=>{const{el:R,type:W,transition:U,children:L,shapeFlag:k}=m;if(k&6){_t(m.component.subTree,y,I,N);return}if(k&128){m.suspense.move(y,I,N);return}if(k&64){W.move(m,y,I,wn);return}if(W===Nn){s(R,y,I);for(let j=0;j<L.length;j++)_t(L[j],y,I,N);s(m.anchor,y,I);return}if(W===Xc){Y(m,y,I);return}if(N!==2&&k&1&&U)if(N===0)U.beforeEnter(R),s(R,y,I),Wt(()=>U.enter(R),S);else{const{leave:j,delayLeave:G,afterLeave:Q}=U,ue=()=>s(R,y,I),ye=()=>{j(R,()=>{ue(),Q&&Q()})};G?G(R,ue,ye):ye()}else s(R,y,I)},Je=(m,y,I,N=!1,S=!1)=>{const{type:R,props:W,ref:U,children:L,dynamicChildren:k,shapeFlag:J,patchFlag:j,dirs:G,cacheIndex:Q}=m;if(j===-2&&(S=!1),U!=null&&il(U,null,I,m,!0),Q!=null&&(y.renderCache[Q]=void 0),J&256){y.ctx.deactivate(m);return}const ue=J&1&&G,ye=!lo(m);let fe;if(ye&&(fe=W&&W.onVnodeBeforeUnmount)&&Sn(fe,y,m),J&6)lt(m.component,I,N);else{if(J&128){m.suspense.unmount(I,N);return}ue&&ei(m,null,y,"beforeUnmount"),J&64?m.type.remove(m,y,I,wn,N):k&&!k.hasOnce&&(R!==Nn||j>0&&j&64)?Ke(k,y,I,!1,!0):(R===Nn&&j&384||!S&&J&16)&&Ke(L,y,I),N&&un(m)}(ye&&(fe=W&&W.onVnodeUnmounted)||ue)&&Wt(()=>{fe&&Sn(fe,y,m),ue&&ei(m,null,y,"unmounted")},I)},un=m=>{const{type:y,el:I,anchor:N,transition:S}=m;if(y===Nn){st(I,N);return}if(y===Xc){x(m);return}const R=()=>{i(I),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(m.shapeFlag&1&&S&&!S.persisted){const{leave:W,delayLeave:U}=S,L=()=>W(I,R);U?U(m.el,R,L):L()}else R()},st=(m,y)=>{let I;for(;m!==y;)I=g(m),i(m),m=I;i(y)},lt=(m,y,I)=>{const{bum:N,scope:S,job:R,subTree:W,um:U,m:L,a:k}=m;Np(L),Np(k),N&&Ha(N),S.stop(),R&&(R.flags|=8,Je(W,m,y,I)),U&&Wt(U,y),Wt(()=>{m.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},Ke=(m,y,I,N=!1,S=!1,R=0)=>{for(let W=R;W<m.length;W++)Je(m[W],y,I,N,S)},$t=m=>{if(m.shapeFlag&6)return $t(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=g(m.anchor||m.el),I=y&&y[iC];return I?g(I):y};let z=!1;const hn=(m,y,I)=>{m==null?y._vnode&&Je(y._vnode,null,null,!0):T(y._vnode||null,m,y,null,null,null,I),y._vnode=m,z||(z=!0,Tp(),_m(),z=!1)},wn={p:T,um:Je,m:_t,r:un,mt:Pt,mc:we,pc:Ee,pbc:Te,n:$t,o:t};return{render:hn,hydrate:void 0,createApp:AC(hn)}}function Yc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ti({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function MC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xm(t,e,n=!1){const s=t.children,i=e.children;if(se(s)&&se(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=ms(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&xm(o,l)),l.type===Bl&&(l.el=o.el)}}function $C(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const h=t[s];if(h!==0){if(i=n[n.length-1],t[i]<h){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<h?r=l+1:o=l;h<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Lm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lm(e)}function Np(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const FC=Symbol.for("v-scx"),UC=()=>Va(FC);function Qc(t,e,n){return Mm(t,e,n)}function Mm(t,e,n=Me){const{immediate:s,deep:i,flush:r,once:o}=n,l=St({},n),c=e&&s||!e&&r!=="post";let h;if(Io){if(r==="sync"){const v=UC();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=Rn,v.resume=Rn,v.pause=Rn,v}}const d=Tt;l.call=(v,b,T)=>Mn(v,d,b,T);let _=!1;r==="post"?l.scheduler=v=>{Wt(v,d&&d.suspense)}:r!=="sync"&&(_=!0,l.scheduler=(v,b)=>{b?v():Ph(v)}),l.augmentJob=v=>{e&&(v.flags|=4),_&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=ZT(t,e,l);return Io&&(h?h.push(g):c&&g()),g}function HC(t,e,n){const s=this.proxy,i=Qe(t)?t.includes(".")?$m(s,t):()=>s[t]:t.bind(s,s);let r;ce(e)?r=e:(r=e.handler,n=e);const o=Vo(this),l=Mm(i,r.bind(s),n);return o(),l}function $m(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const VC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Os(e)}Modifiers`]||t[`${Ai(e)}Modifiers`];function WC(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Me;let i=n;const r=e.startsWith("update:"),o=r&&VC(s,e.slice(7));o&&(o.trim&&(i=n.map(d=>Qe(d)?d.trim():d)),o.number&&(i=n.map(el)));let l,c=s[l=jc(e)]||s[l=jc(Os(e))];!c&&r&&(c=s[l=jc(Ai(e))]),c&&Mn(c,t,6,i);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Mn(h,t,6,i)}}function Fm(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!ce(t)){const c=h=>{const d=Fm(h,e,!0);d&&(l=!0,St(o,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(We(t)&&s.set(t,null),null):(se(r)?r.forEach(c=>o[c]=null):St(o,r),We(t)&&s.set(t,o),o)}function jl(t,e){return!t||!xl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,Ai(e))||Ne(t,e))}function Pp(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:h,renderCache:d,props:_,data:g,setupState:v,ctx:b,inheritAttrs:T}=t,D=sl(t);let F,V;try{if(n.shapeFlag&4){const x=i||s,X=x;F=Pn(h.call(X,x,d,_,v,g,b)),V=l}else{const x=e;F=Pn(x.length>1?x(_,{attrs:l,slots:o,emit:c}):x(_,null)),V=e.props?l:jC(l)}}catch(x){uo.length=0,Hl(x,t,1),F=Xn(pi)}let Y=F;if(V&&T!==!1){const x=Object.keys(V),{shapeFlag:X}=Y;x.length&&X&7&&(r&&x.some(mh)&&(V=BC(V,r)),Y=mr(Y,V,!1,!0))}return n.dirs&&(Y=mr(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&Rh(Y,n.transition),F=Y,sl(D),F}const jC=t=>{let e;for(const n in t)(n==="class"||n==="style"||xl(n))&&((e||(e={}))[n]=t[n]);return e},BC=(t,e)=>{const n={};for(const s in t)(!mh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function KC(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Rp(s,o,h):!!o;if(c&8){const d=e.dynamicProps;for(let _=0;_<d.length;_++){const g=d[_];if(o[g]!==s[g]&&!jl(h,g))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Rp(s,o,h):!0:!!o;return!1}function Rp(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!jl(n,r))return!0}return!1}function zC({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Um=t=>t.__isSuspense;function qC(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):nC(t)}const Nn=Symbol.for("v-fgt"),Bl=Symbol.for("v-txt"),pi=Symbol.for("v-cmt"),Xc=Symbol.for("v-stc"),uo=[];let Kt=null;function dt(t=!1){uo.push(Kt=t?null:[])}function GC(){uo.pop(),Kt=uo[uo.length-1]||null}let To=1;function kp(t,e=!1){To+=t,t<0&&Kt&&e&&(Kt.hasOnce=!0)}function Hm(t){return t.dynamicChildren=To>0?Kt||ir:null,GC(),To>0&&Kt&&Kt.push(t),t}function Bt(t,e,n,s,i,r){return Hm(M(t,e,n,s,i,r,!0))}function Uu(t,e,n,s,i){return Hm(Xn(t,e,n,s,i,!0))}function Vm(t){return t?t.__v_isVNode===!0:!1}function Gr(t,e){return t.type===e.type&&t.key===e.key}const Wm=({key:t})=>t??null,Wa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||pt(t)||ce(t)?{i:sn,r:t,k:e,f:!!n}:t:null);function M(t,e=null,n=null,s=0,i=null,r=t===Nn?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wm(e),ref:e&&Wa(e),scopeId:mm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:sn};return l?(Dh(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=Qe(n)?8:16),To>0&&!o&&Kt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Kt.push(c),c}const Xn=YC;function YC(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===mC)&&(t=pi),Vm(t)){const l=mr(t,e,!0);return n&&Dh(l,n),To>0&&!r&&Kt&&(l.shapeFlag&6?Kt[Kt.indexOf(t)]=l:Kt.push(l)),l.patchFlag=-2,l}if(rI(t)&&(t=t.__vccOpts),e){e=QC(e);let{class:l,style:c}=e;l&&!Qe(l)&&(e.class=Eh(l)),We(c)&&(Nh(c)&&!se(c)&&(c=St({},c)),e.style=bh(c))}const o=Qe(t)?1:Um(t)?128:rC(t)?64:We(t)?4:ce(t)?2:0;return M(t,e,n,s,i,o,r,!0)}function QC(t){return t?Nh(t)||Sm(t)?St({},t):t:null}function mr(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,h=e?XC(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Wm(h),ref:e&&e.ref?n&&r?se(r)?r.concat(Wa(e)):[r,Wa(e)]:Wa(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Nn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mr(t.ssContent),ssFallback:t.ssFallback&&mr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&Rh(d,c.clone(d)),d}function Co(t=" ",e=0){return Xn(Bl,null,t,e)}function cr(t="",e=!1){return e?(dt(),Uu(pi,null,t)):Xn(pi,null,t)}function Pn(t){return t==null||typeof t=="boolean"?Xn(pi):se(t)?Xn(Nn,null,t.slice()):Vm(t)?ms(t):Xn(Bl,null,String(t))}function ms(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mr(t)}function Dh(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Dh(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Sm(e)?e._ctx=sn:i===3&&sn&&(sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:sn},n=32):(e=String(e),s&64?(n=16,e=[Co(e)]):n=8);t.children=e,t.shapeFlag|=n}function XC(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Eh([e.class,s.class]));else if(i==="style")e.style=bh([e.style,s.style]);else if(xl(i)){const r=e[i],o=s[i];o&&r!==o&&!(se(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Sn(t,e,n,s=null){Mn(t,e,7,[n,s])}const JC=Cm();let ZC=0;function eI(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||JC,r={uid:ZC++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new CT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nm(s,i),emitsOptions:Fm(s,i),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:s.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=WC.bind(null,r),t.ce&&t.ce(r),r}let Tt=null,ol,Hu;{const t=$l(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ol=e("__VUE_INSTANCE_SETTERS__",n=>Tt=n),Hu=e("__VUE_SSR_SETTERS__",n=>Io=n)}const Vo=t=>{const e=Tt;return ol(t),t.scope.on(),()=>{t.scope.off(),ol(e)}},Dp=()=>{Tt&&Tt.scope.off(),ol(null)};function jm(t){return t.vnode.shapeFlag&4}let Io=!1;function tI(t,e=!1,n=!1){e&&Hu(e);const{props:s,children:i}=t.vnode,r=jm(t);OC(t,s,r,e),kC(t,i,n);const o=r?nI(t,e):void 0;return e&&Hu(!1),o}function nI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yC);const{setup:s}=n;if(s){xs();const i=t.setupContext=s.length>1?iI(t):null,r=Vo(t),o=Ho(s,t,0,[t.props,i]),l=Wg(o);if(Ls(),r(),(l||t.sp)&&!lo(t)&&vm(t),l){if(o.then(Dp,Dp),e)return o.then(c=>{xp(t,c)}).catch(c=>{Hl(c,t,0)});t.asyncDep=o}else xp(t,o)}else Bm(t)}function xp(t,e,n){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)&&(t.setupState=hm(e)),Bm(t)}function Bm(t,e,n){const s=t.type;t.render||(t.render=s.render||Rn);{const i=Vo(t);xs();try{bC(t)}finally{Ls(),i()}}}const sI={get(t,e){return ut(t,"get",""),t[e]}};function iI(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,sI),slots:t.slots,emit:t.emit,expose:e}}function Kl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hm(KT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in co)return co[n](t)},has(e,n){return n in e||n in co}})):t.proxy}function rI(t){return ce(t)&&"__vccOpts"in t}const oI=(t,e)=>XT(t,e,Io),aI="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vu;const Lp=typeof window<"u"&&window.trustedTypes;if(Lp)try{Vu=Lp.createPolicy("vue",{createHTML:t=>t})}catch{}const Km=Vu?t=>Vu.createHTML(t):t=>t,lI="http://www.w3.org/2000/svg",cI="http://www.w3.org/1998/Math/MathML",jn=typeof document<"u"?document:null,Mp=jn&&jn.createElement("template"),uI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?jn.createElementNS(lI,t):e==="mathml"?jn.createElementNS(cI,t):n?jn.createElement(t,{is:n}):jn.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>jn.createTextNode(t),createComment:t=>jn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Mp.innerHTML=Km(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Mp.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},hI=Symbol("_vtc");function dI(t,e,n){const s=t[hI];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const $p=Symbol("_vod"),fI=Symbol("_vsh"),pI=Symbol(""),_I=/(^|;)\s*display\s*:/;function gI(t,e,n){const s=t.style,i=Qe(n);let r=!1;if(n&&!i){if(e)if(Qe(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ja(s,l,"")}else for(const o in e)n[o]==null&&ja(s,o,"");for(const o in n)o==="display"&&(r=!0),ja(s,o,n[o])}else if(i){if(e!==n){const o=s[pI];o&&(n+=";"+o),s.cssText=n,r=_I.test(n)}}else e&&t.removeAttribute("style");$p in t&&(t[$p]=r?s.display:"",t[fI]&&(s.display="none"))}const Fp=/\s*!important$/;function ja(t,e,n){if(se(n))n.forEach(s=>ja(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=mI(t,e);Fp.test(n)?t.setProperty(Ai(s),n.replace(Fp,""),"important"):t[s]=n}}const Up=["Webkit","Moz","ms"],Jc={};function mI(t,e){const n=Jc[e];if(n)return n;let s=Os(e);if(s!=="filter"&&s in t)return Jc[e]=s;s=Kg(s);for(let i=0;i<Up.length;i++){const r=Up[i]+s;if(r in t)return Jc[e]=r}return e}const Hp="http://www.w3.org/1999/xlink";function Vp(t,e,n,s,i,r=ET(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hp,e.slice(6,e.length)):t.setAttributeNS(Hp,e,n):n==null||r&&!qg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Ln(n)?String(n):n)}function Wp(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Km(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=qg(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function oi(t,e,n,s){t.addEventListener(e,n,s)}function vI(t,e,n,s){t.removeEventListener(e,n,s)}const jp=Symbol("_vei");function yI(t,e,n,s,i=null){const r=t[jp]||(t[jp]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=bI(e);if(s){const h=r[e]=TI(s,i);oi(t,l,h,c)}else o&&(vI(t,l,o,c),r[e]=void 0)}}const Bp=/(?:Once|Passive|Capture)$/;function bI(t){let e;if(Bp.test(t)){e={};let s;for(;s=t.match(Bp);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ai(t.slice(2)),e]}let Zc=0;const EI=Promise.resolve(),wI=()=>Zc||(EI.then(()=>Zc=0),Zc=Date.now());function TI(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Mn(CI(s,n.value),e,5,[s])};return n.value=t,n.attached=wI(),n}function CI(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Kp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,II=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?dI(t,s,o):e==="style"?gI(t,n,s):xl(e)?mh(e)||yI(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):AI(t,e,s,o))?(Wp(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Vp(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qe(s))?Wp(t,Os(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Vp(t,e,s,o))};function AI(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kp(e)&&ce(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kp(e)&&Qe(n)?!1:e in t}const al=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>Ha(e,n):e};function SI(t){t.target.composing=!0}function zp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ur=Symbol("_assign"),Xi={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ur]=al(i);const r=s||i.props&&i.props.type==="number";oi(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=el(l)),t[ur](l)}),n&&oi(t,"change",()=>{t.value=t.value.trim()}),e||(oi(t,"compositionstart",SI),oi(t,"compositionend",zp),oi(t,"change",zp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ur]=al(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?el(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},OI={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Ll(e);oi(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?el(ll(o)):ll(o));t[ur](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,fm(()=>{t._assigning=!1})}),t[ur]=al(s)},mounted(t,{value:e}){qp(t,e)},beforeUpdate(t,e,n){t[ur]=al(n)},updated(t,{value:e}){t._assigning||qp(t,e)}};function qp(t,e){const n=t.multiple,s=se(e);if(!(n&&!s&&!Ll(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=ll(o);if(n)if(s){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=TT(e,l)>-1}else o.selected=e.has(l);else if(Fl(ll(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ll(t){return"_value"in t?t._value:t.value}const NI=["ctrl","shift","alt","meta"],PI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>NI.some(n=>t[`${n}Key`]&&!e.includes(n))},no=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=PI[e[o]];if(l&&l(i,e))return}return t(i,...r)})},RI=St({patchProp:II},uI);let Gp;function kI(){return Gp||(Gp=xC(RI))}const DI=(...t)=>{const e=kI().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=LI(s);if(!i)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,xI(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function xI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function LI(t){return Qe(t)?document.querySelector(t):t}const MI=()=>{};var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+zm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$I=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,d=r>>2,_=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,v=h&63;c||(v=64,o||(g=64)),s.push(n[d],n[_],n[g],n[v])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$I(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||h==null||_==null)throw new FI;const g=r<<2|l>>4;if(s.push(g),h!==64){const v=l<<4&240|h>>2;if(s.push(v),_!==64){const b=h<<6&192|_;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gm=function(t){const e=qm(t);return xh.encodeByteArray(e,!0)},cl=function(t){return Gm(t).replace(/\./g,"")},ul=function(t){try{return xh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){return Ym(void 0,t)}function Ym(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!HI(n)||(t[n]=Ym(t[n],e[n]));return t}function HI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>VI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof Yp>"u")return;const t=Yp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ul(t[1]);return e&&JSON.parse(e)},Lh=()=>{try{return MI()||WI()||jI()||BI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qm=t=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KI=t=>{const e=Qm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Xm=()=>{var t;return(t=Lh())===null||t===void 0?void 0:t.config},Jm=t=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cl(JSON.stringify(n)),cl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YI(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QI(){return zm.NODE_ADMIN===!0}function XI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="FirebaseError";class Ms extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZI,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?eA(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ms(i,l,s)}}function eA(t,e){return t.replace(tA,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const tA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){return JSON.parse(t)}function et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Ao(ul(r[0])||""),n=Ao(ul(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},nA=function(t){const e=ev(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sA=function(t){const e=ev(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Wu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function _i(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Qp(r)&&Qp(o)){if(!_i(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Qp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function so(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const g=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,d;for(let _=0;_<80;_++){_<40?_<20?(h=l^r&(o^l),d=1518500249):(h=r^o^l,d=1859775393):_<60?(h=r&o|l&(r|o),d=2400959708):(h=r^o^l,d=3395469782);const g=(i<<5|i>>>27)+h+c+d+s[_]&4294967295;c=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function rA(t,e){const n=new oA(t,e);return n.subscribe.bind(n)}class oA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=eu),i.error===void 0&&(i.error=eu),i.complete===void 0&&(i.complete=eu);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eu(){}function $h(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,$(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ql=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(t){return t===si?void 0:t}function hA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const fA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},pA=xe.INFO,_A={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},gA=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=_A[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=pA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const mA=(t,e)=>e.some(n=>t instanceof n);let Xp,Jp;function vA(){return Xp||(Xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return Jp||(Jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,ju=new WeakMap,nv=new WeakMap,tu=new WeakMap,Uh=new WeakMap;function bA(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ts(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tv.set(n,t)}).catch(()=>{}),Uh.set(e,t),e}function EA(t){if(ju.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});ju.set(t,e)}let Bu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ju.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wA(t){Bu=t(Bu)}function TA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(nu(this),e,...n);return nv.set(s,e.sort?e.sort():[e]),Ts(s)}:yA().includes(t)?function(...e){return t.apply(nu(this),e),Ts(tv.get(this))}:function(...e){return Ts(t.apply(nu(this),e))}}function CA(t){return typeof t=="function"?TA(t):(t instanceof IDBTransaction&&EA(t),mA(t,vA())?new Proxy(t,Bu):t)}function Ts(t){if(t instanceof IDBRequest)return bA(t);if(tu.has(t))return tu.get(t);const e=CA(t);return e!==t&&(tu.set(t,e),Uh.set(e,t)),e}const nu=t=>Uh.get(t);function IA(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Ts(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Ts(o.result),c.oldVersion,c.newVersion,Ts(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const AA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],su=new Map;function Zp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(su.get(e))return su.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=SA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||AA.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return su.set(e,r),r}wA(t=>({...t,get:(e,n,s)=>Zp(e,n)||t.get(e,n,s),has:(e,n)=>!!Zp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ku="@firebase/app",e_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Fh("@firebase/app"),PA="@firebase/app-compat",RA="@firebase/analytics-compat",kA="@firebase/analytics",DA="@firebase/app-check-compat",xA="@firebase/app-check",LA="@firebase/auth",MA="@firebase/auth-compat",$A="@firebase/database",FA="@firebase/data-connect",UA="@firebase/database-compat",HA="@firebase/functions",VA="@firebase/functions-compat",WA="@firebase/installations",jA="@firebase/installations-compat",BA="@firebase/messaging",KA="@firebase/messaging-compat",zA="@firebase/performance",qA="@firebase/performance-compat",GA="@firebase/remote-config",YA="@firebase/remote-config-compat",QA="@firebase/storage",XA="@firebase/storage-compat",JA="@firebase/firestore",ZA="@firebase/vertexai",eS="@firebase/firestore-compat",tS="firebase",nS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]",sS={[Ku]:"fire-core",[PA]:"fire-core-compat",[kA]:"fire-analytics",[RA]:"fire-analytics-compat",[xA]:"fire-app-check",[DA]:"fire-app-check-compat",[LA]:"fire-auth",[MA]:"fire-auth-compat",[$A]:"fire-rtdb",[FA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[HA]:"fire-fn",[VA]:"fire-fn-compat",[WA]:"fire-iid",[jA]:"fire-iid-compat",[BA]:"fire-fcm",[KA]:"fire-fcm-compat",[zA]:"fire-perf",[qA]:"fire-perf-compat",[GA]:"fire-rc",[YA]:"fire-rc-compat",[QA]:"fire-gcs",[XA]:"fire-gcs-compat",[JA]:"fire-fst",[eS]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[tS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Map,iS=new Map,qu=new Map;function t_(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yr(t){const e=t.name;if(qu.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;qu.set(e,t);for(const n of dl.values())t_(n,t);for(const n of iS.values())t_(n,t);return!0}function Hh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Wo("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=nS;function sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=Xm()),!n)throw Cs.create("no-options");const r=dl.get(i);if(r){if(_i(n,r.options)&&_i(s,r.config))return r;throw Cs.create("duplicate-app",{appName:i})}const o=new dA(i);for(const c of qu.values())o.addComponent(c);const l=new oS(n,s,o);return dl.set(i,l),l}function iv(t=zu){const e=dl.get(t);if(!e&&t===zu&&Xm())return sv();if(!e)throw Cs.create("no-app",{appName:t});return e}function Is(t,e,n){var s;let i=(s=sS[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}yr(new gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebase-heartbeat-database",lS=1,So="firebase-heartbeat-store";let iu=null;function rv(){return iu||(iu=IA(aS,lS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),iu}async function cS(t){try{const n=(await rv()).transaction(So),s=await n.objectStore(So).get(ov(t));return await n.done,s}catch(e){if(e instanceof Ms)ns.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function n_(t,e){try{const s=(await rv()).transaction(So,"readwrite");await s.objectStore(So).put(e,ov(t)),await s.done}catch(n){if(n instanceof Ms)ns.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(s.message)}}}function ov(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=1024,hS=30;class dS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=s_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>hS){const o=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ns.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s_(),{heartbeatsToSend:s,unsentEntries:i}=fS(this._heartbeatsCache.heartbeats),r=cl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ns.warn(n),""}}}function s_(){return new Date().toISOString().substring(0,10)}function fS(t,e=uS){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),i_(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i_(t){return cl(JSON.stringify({version:2,heartbeats:t})).length}function _S(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){yr(new gi("platform-logger",e=>new OA(e),"PRIVATE")),yr(new gi("heartbeat",e=>new dS(e),"PRIVATE")),Is(Ku,e_,t),Is(Ku,e_,"esm2017"),Is("fire-js","")}gS("");function Vh(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function av(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=av,lv=new Wo("auth","Firebase",av());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Fh("@firebase/auth");function vS(t,...e){fl.logLevel<=xe.WARN&&fl.warn(`Auth (${Rr}): ${t}`,...e)}function Ba(t,...e){fl.logLevel<=xe.ERROR&&fl.error(`Auth (${Rr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw Wh(t,...e)}function kn(t,...e){return Wh(t,...e)}function cv(t,e,n){const s=Object.assign(Object.assign({},mS()),{[e]:n});return new Wo("auth","Firebase",s).create(e,{appName:t.name})}function Jn(t){return cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wh(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return lv.create(t,...e)}function te(t,e,...n){if(!t)throw Wh(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ba(e),new Error(e)}function ss(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yS(){return r_()==="http:"||r_()==="https:"}function r_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yS()||GI()||"connection"in navigator)?navigator.onLine:!0}function ES(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=Mh()||Zm()}get(){return bS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new jo(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,n,s,i={}){return hv(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Pr(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},r);return qI()||(h.referrerPolicy="no-referrer"),uv.fetch()(dv(t,t.config.apiHost,n,l),h)})}async function hv(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},wS),e);try{const i=new IS(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Pa(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pa(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Pa(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Pa(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw cv(t,d,h);bn(t,d)}}catch(i){if(i instanceof Ms)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function Bo(t,e,n,s,i={}){const r=await Fs(t,e,n,s,i);return"mfaPendingCredential"in r&&bn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function dv(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?jh(t.config,i):`${t.config.apiScheme}://${i}`}function CS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kn(this.auth,"network-request-failed")),TS.get())})}}function Pa(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=kn(t,e,s);return i.customData._tokenResponse=n,i}function o_(t){return t!==void 0&&t.enterprise!==void 0}class AS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SS(t,e){return Fs(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function fv(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NS(t,e=!1){const n=Nt(t),s=await n.getIdToken(e),i=Bh(s);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:ho(ru(i.auth_time)),issuedAtTime:ho(ru(i.iat)),expirationTime:ho(ru(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function ru(t){return Number(t)*1e3}function Bh(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ba("JWT malformed, contained fewer than 3 sections"),null;try{const i=ul(n);return i?JSON.parse(i):(Ba("Failed to decode base64 JWT payload"),null)}catch(i){return Ba("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a_(t){const e=Bh(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ms&&PS(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function PS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ho(this.lastLoginAt),this.creationTime=ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Oo(t,fv(n,{idToken:s}));te(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?pv(r.providerUserInfo):[],l=DS(t.providerData,o),c=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Yu(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,_)}async function kS(t){const e=Nt(t);await pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DS(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function pv(t){return t.map(e=>{var{providerId:n}=e,s=Vh(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e){const n=await hv(t,{},async()=>{const s=Pr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=dv(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",uv.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LS(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await xS(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new hr;return s&&(te(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(te(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hr,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Vh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NS(this,e)}reload(){return kS(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Oo(this,OS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,c,h,d;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(h=n.createdAt)!==null&&h!==void 0?h:void 0,V=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Y,emailVerified:x,isAnonymous:X,providerData:ae,stsTokenManager:pe}=n;te(Y&&pe,e,"internal-error");const we=hr.fromJSON(this.name,pe);te(typeof Y=="string",e,"internal-error"),ps(_,e.name),ps(g,e.name),te(typeof x=="boolean",e,"internal-error"),te(typeof X=="boolean",e,"internal-error"),ps(v,e.name),ps(b,e.name),ps(T,e.name),ps(D,e.name),ps(F,e.name),ps(V,e.name);const Se=new Gn({uid:Y,auth:e,email:g,emailVerified:x,displayName:_,isAnonymous:X,photoURL:b,phoneNumber:v,tenantId:T,stsTokenManager:we,createdAt:F,lastLoginAt:V});return ae&&Array.isArray(ae)&&(Se.providerData=ae.map(Te=>Object.assign({},Te))),D&&(Se._redirectEventId=D),Se}static async _fromIdTokenResponse(e,n,s=!1){const i=new hr;i.updateFromServerResponse(n);const r=new Gn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await pl(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];te(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?pv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new hr;l.updateFromIdToken(s);const c=new Gn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function Yn(t){ss(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_v.type="NONE";const c_=_v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e,n){return`firebase:${t}:${e}:${n}`}class dr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Ka(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ka("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new dr(Yn(c_),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||Yn(c_);const o=Ka(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){const _=Gn._fromJSON(e,d);h!==r&&(l=_),r=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new dr(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new dr(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ev(e))return"Blackberry";if(wv(e))return"Webos";if(mv(e))return"Safari";if((e.includes("chrome/")||vv(e))&&!e.includes("edge/"))return"Chrome";if(bv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gv(t=Ot()){return/firefox\//i.test(t)}function mv(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vv(t=Ot()){return/crios\//i.test(t)}function yv(t=Ot()){return/iemobile/i.test(t)}function bv(t=Ot()){return/android/i.test(t)}function Ev(t=Ot()){return/blackberry/i.test(t)}function wv(t=Ot()){return/webos/i.test(t)}function Kh(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MS(t=Ot()){var e;return Kh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $S(){return YI()&&document.documentMode===10}function Tv(t=Ot()){return Kh(t)||bv(t)||wv(t)||Ev(t)||/windows phone/i.test(t)||yv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e=[]){let n;switch(t){case"Browser":n=u_(Ot());break;case"Worker":n=`${u_(Ot())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=6;class VS{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HS,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await dr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fv(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ES()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(Jn(this));const n=e?Nt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await US(this),n=new VS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await dr.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Si(t){return Nt(t)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rA(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jS(t){Gl=t}function Iv(t){return Gl.loadJS(t)}function BS(){return Gl.recaptchaEnterpriseScript}function KS(){return Gl.gapiScript}function zS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qS{constructor(){this.enterprise=new GS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YS="recaptcha-enterprise",Av="NO_RECAPTCHA";class QS{constructor(e){this.type=YS,this.auth=Si(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{SS(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new AS(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;o_(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(Av)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qS().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&o_(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=BS();c.length!==0&&(c+=l),Iv(c).then(()=>{i(l,r,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function d_(t,e,n,s=!1,i=!1){const r=new QS(t);let o;if(i)o=Av;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Qu(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await d_(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await d_(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){const n=Hh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(_i(r,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function JS(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function ZS(t,e,n){const s=Si(t);te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=Sv(e),{host:o,port:l}=eO(e),c=l===null?"":`:${l}`,h={url:`${r}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),te(_i(h,s.config.emulator)&&_i(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,tO()}function Sv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eO(t){const e=Sv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:f_(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:f_(o)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function nO(t,e){return Fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return Bo(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function rO(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends zh{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new No(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new No(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qu(e,n,"signInWithPassword",sO);case"emailLink":return iO(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qu(e,s,"signUpPassword",nO);case"emailLink":return rO(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fr(t,e){return Bo(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="http://localhost";class mi extends zh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Vh(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new mi(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fr(e,n)}buildRequest(){const e={requestUri:oO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lO(t){const e=so(io(t)).link,n=e?so(io(e)).deep_link_id:null,s=so(io(t)).deep_link_id;return(s?so(io(s)).link:null)||s||n||e||t}class qh{constructor(e){var n,s,i,r,o,l;const c=so(io(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,_=aO((i=c.mode)!==null&&i!==void 0?i:null);te(h&&d&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=d,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=lO(e);try{return new qh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.providerId=kr.PROVIDER_ID}static credential(e,n){return No._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qh.parseLink(n);return te(s,"argument-error"),No._fromEmailAndCode(e,s.code,s.tenantId)}}kr.PROVIDER_ID="password";kr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Ko{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ko{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ko{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){return Bo(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Gn._fromIdTokenResponse(e,s,i),o=p_(s);return new vi({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=p_(s);return new vi({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Ms{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,_l.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new _l(e,n,s,i)}}function Nv(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?_l._fromErrorAndOperation(t,r,e,s):r})}async function uO(t,e,n=!1){const s=await Oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e,n=!1){const{auth:s}=t;if(nn(s.app))return Promise.reject(Jn(s));const i="reauthenticate";try{const r=await Oo(t,Nv(s,i,e,t),n);te(r.idToken,s,"internal-error");const o=Bh(r.idToken);te(o,s,"internal-error");const{sub:l}=o;return te(t.uid===l,s,"user-mismatch"),vi._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&bn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(t,e,n=!1){if(nn(t.app))return Promise.reject(Jn(t));const s="signIn",i=await Nv(t,s,e),r=await vi._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function dO(t,e){return Pv(Si(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t){const e=Si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fO(t,e,n){if(nn(t.app))return Promise.reject(Jn(t));const s=Si(t),o=await Qu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Rv(t),c}),l=await vi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function pO(t,e,n){return nn(t.app)?Promise.reject(Jn(t)):dO(Nt(t),kr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Rv(t),s})}function _O(t,e,n,s){return Nt(t).onIdTokenChanged(e,n,s)}function gO(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function mO(t,e,n,s){return Nt(t).onAuthStateChanged(e,n,s)}const gl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1e3,yO=10;class Dv extends kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);$S()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yO):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dv.type="LOCAL";const bO=Dv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xv.type="SESSION";const Lv=xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Yl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,r)),c=await EO(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const h=Gh("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(_){const g=_;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(d),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function TO(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function CO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AO(){return Mv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="firebaseLocalStorageDb",SO=1,ml="firebaseLocalStorage",Fv="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ql(t,e){return t.transaction([ml],e?"readwrite":"readonly").objectStore(ml)}function OO(){const t=indexedDB.deleteDatabase($v);return new zo(t).toPromise()}function Xu(){const t=indexedDB.open($v,SO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ml,{keyPath:Fv})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ml)?e(s):(s.close(),await OO(),e(await Xu()))})})}async function __(t,e,n){const s=Ql(t,!0).put({[Fv]:e,value:n});return new zo(s).toPromise()}async function NO(t,e){const n=Ql(t,!1).get(e),s=await new zo(n).toPromise();return s===void 0?null:s.value}function g_(t,e){const n=Ql(t,!0).delete(e);return new zo(n).toPromise()}const PO=800,RO=3;class Uv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yl._getInstance(AO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CO(),!this.activeServiceWorker)return;this.sender=new wO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xu();return await __(e,gl,"1"),await g_(e,gl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>__(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Ql(i,!1).getAll();return new zo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uv.type="LOCAL";const kO=Uv;new jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){return e?Yn(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends zh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xO(t){return Pv(t.auth,new Yh(t),t.bypassAuthState)}function LO(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),hO(n,new Yh(t),t.bypassAuthState)}async function MO(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),uO(n,new Yh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xO;case"linkViaPopup":case"linkViaRedirect":return MO;case"reauthViaPopup":case"reauthViaRedirect":return LO;default:bn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new jo(2e3,1e4);class tr extends Hv{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,tr.currentPopupAction&&tr.currentPopupAction.cancel(),tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$O.get())};e()}}tr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",za=new Map;class UO extends Hv{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=za.get(this.auth._key());if(!e){try{const s=await HO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}za.set(this.auth._key(),e)}return this.bypassAuthState||za.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HO(t,e){const n=jO(e),s=WO(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function VO(t,e){za.set(t._key(),e)}function WO(t){return Yn(t._redirectPersistence)}function jO(t){return Ka(FO,t.config.apiKey,t.name)}async function BO(t,e,n=!1){if(nn(t.app))return Promise.reject(Jn(t));const s=Si(t),i=DO(s,e),o=await new UO(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=10*60*1e3;class zO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Vv(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QO=/^https?/;async function XO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GO(t);for(const n of e)try{if(JO(n))return}catch{}bn(t,"unauthorized-domain")}function JO(t){const e=Gu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!QO.test(n))return!1;if(YO.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new jo(3e4,6e4);function v_(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eN(t){return new Promise((e,n)=>{var s,i,r;function o(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(kn(t,"network-request-failed"))},timeout:ZO.get()})}if(!((i=(s=Dn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Dn().gapi)===null||r===void 0)&&r.load)o();else{const l=zS("iframefcb");return Dn()[l]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},Iv(`${KS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw qa=null,e})}let qa=null;function tN(t){return qa=qa||eN(t),qa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new jo(5e3,15e3),sN="__/auth/iframe",iN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jh(e,iN):`https://${t.config.authDomain}/${sN}`,s={apiKey:e.apiKey,appName:t.name,v:Rr},i=oN.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Pr(s).slice(1)}`}async function lN(t){const e=await tN(t),n=Dn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:aN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),l=Dn().setTimeout(()=>{r(o)},nN.get());function c(){Dn().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,hN=600,dN="_blank",fN="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(t,e,n,s=uN,i=hN){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},cN),{width:s.toString(),height:i.toString(),top:r,left:o}),h=Ot().toLowerCase();n&&(l=vv(h)?dN:n),gv(h)&&(e=e||fN,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(MS(h)&&l!=="_self")return _N(e||"",l),new y_(null);const _=window.open(e||"",l,d);te(_,t,"popup-blocked");try{_.focus()}catch{}return new y_(_)}function _N(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__/auth/handler",mN="emulator/auth/handler",vN=encodeURIComponent("fac");async function b_(t,e,n,s,i,r){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Rr,eventId:i};if(e instanceof Ov){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,_]of Object.entries({}))o[d]=_}if(e instanceof Ko){const d=e.getScopes().filter(_=>_!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),h=c?`#${vN}=${encodeURIComponent(c)}`:"";return`${yN(t)}?${Pr(l).slice(1)}${h}`}function yN({config:t}){return t.emulator?jh(t,mN):`https://${t.authDomain}/${gN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lv,this._completeRedirectFn=BO,this._overrideRedirectResult=VO}async _openPopup(e,n,s,i){var r;ss((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await b_(e,n,s,Gu(),i);return pN(e,o,Gh())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await b_(e,n,s,Gu(),i);return TO(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ss(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await lN(e),s=new zO(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ou,{type:ou},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[ou];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tv()||mv()||Kh()}}const EN=bN;var E_="@firebase/auth",w_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CN(t){yr(new gi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cv(t)},h=new WS(s,i,r,c);return JS(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yr(new gi("auth-internal",e=>{const n=Si(e.getProvider("auth").getImmediate());return(s=>new wN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(E_,w_,TN(t)),Is(E_,w_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=5*60,AN=Jm("authIdTokenMaxAge")||IN;let T_=null;const SN=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AN)return;const i=n==null?void 0:n.token;T_!==i&&(T_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pr(t=iv()){const e=Hh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XS(t,{popupRedirectResolver:EN,persistence:[kO,bO,Lv]}),s=Jm("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=SN(r.toString());gO(n,o,()=>o(n.currentUser)),_O(n,l=>o(l))}}const i=Qm("auth");return i&&ZS(n,`http://${i}`),n}function ON(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jS({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=kn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",ON().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CN("Browser");var Ga={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var NN=Ga.exports,C_;function PN(){return C_||(C_=1,function(t,e){(function(n,s){t.exports=s()})(NN,function(){const n=new Map,s={set(f,a,u){n.has(f)||n.set(f,new Map);const p=n.get(f);p.has(a)||p.size===0?p.set(a,u):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(f,a)=>n.has(f)&&n.get(f).get(a)||null,remove(f,a){if(!n.has(f))return;const u=n.get(f);u.delete(a),u.size===0&&n.delete(f)}},i="transitionend",r=f=>(f&&window.CSS&&window.CSS.escape&&(f=f.replace(/#([^\s"#']+)/g,(a,u)=>`#${CSS.escape(u)}`)),f),o=f=>{f.dispatchEvent(new Event(i))},l=f=>!(!f||typeof f!="object")&&(f.jquery!==void 0&&(f=f[0]),f.nodeType!==void 0),c=f=>l(f)?f.jquery?f[0]:f:typeof f=="string"&&f.length>0?document.querySelector(r(f)):null,h=f=>{if(!l(f)||f.getClientRects().length===0)return!1;const a=getComputedStyle(f).getPropertyValue("visibility")==="visible",u=f.closest("details:not([open])");if(!u)return a;if(u!==f){const p=f.closest("summary");if(p&&p.parentNode!==u||p===null)return!1}return a},d=f=>!f||f.nodeType!==Node.ELEMENT_NODE||!!f.classList.contains("disabled")||(f.disabled!==void 0?f.disabled:f.hasAttribute("disabled")&&f.getAttribute("disabled")!=="false"),_=f=>{if(!document.documentElement.attachShadow)return null;if(typeof f.getRootNode=="function"){const a=f.getRootNode();return a instanceof ShadowRoot?a:null}return f instanceof ShadowRoot?f:f.parentNode?_(f.parentNode):null},g=()=>{},v=f=>{f.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],D=()=>document.documentElement.dir==="rtl",F=f=>{var a;a=()=>{const u=b();if(u){const p=f.NAME,E=u.fn[p];u.fn[p]=f.jQueryInterface,u.fn[p].Constructor=f,u.fn[p].noConflict=()=>(u.fn[p]=E,f.jQueryInterface)}},document.readyState==="loading"?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of T)u()}),T.push(a)):a()},V=(f,a=[],u=f)=>typeof f=="function"?f(...a):u,Y=(f,a,u=!0)=>{if(!u)return void V(f);const p=(C=>{if(!C)return 0;let{transitionDuration:O,transitionDelay:H}=window.getComputedStyle(C);const K=Number.parseFloat(O),q=Number.parseFloat(H);return K||q?(O=O.split(",")[0],H=H.split(",")[0],1e3*(Number.parseFloat(O)+Number.parseFloat(H))):0})(a)+5;let E=!1;const w=({target:C})=>{C===a&&(E=!0,a.removeEventListener(i,w),V(f))};a.addEventListener(i,w),setTimeout(()=>{E||o(a)},p)},x=(f,a,u,p)=>{const E=f.length;let w=f.indexOf(a);return w===-1?!u&&p?f[E-1]:f[0]:(w+=u?1:-1,p&&(w=(w+E)%E),f[Math.max(0,Math.min(w,E-1))])},X=/[^.]*(?=\..*)\.|.*/,ae=/\..*/,pe=/::\d+$/,we={};let Se=1;const Te={mouseenter:"mouseover",mouseleave:"mouseout"},je=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Xe(f,a){return a&&`${a}::${Se++}`||f.uidEvent||Se++}function Be(f){const a=Xe(f);return f.uidEvent=a,we[a]=we[a]||{},we[a]}function Pt(f,a,u=null){return Object.values(f).find(p=>p.callable===a&&p.delegationSelector===u)}function Mt(f,a,u){const p=typeof a=="string",E=p?u:a||u;let w=nt(f);return je.has(w)||(w=f),[p,E,w]}function Ce(f,a,u,p,E){if(typeof a!="string"||!f)return;let[w,C,O]=Mt(a,u,p);a in Te&&(C=(re=>function(ie){if(!ie.relatedTarget||ie.relatedTarget!==ie.delegateTarget&&!ie.delegateTarget.contains(ie.relatedTarget))return re.call(this,ie)})(C));const H=Be(f),K=H[O]||(H[O]={}),q=Pt(K,C,w?u:null);if(q)return void(q.oneOff=q.oneOff&&E);const B=Xe(C,a.replace(X,"")),le=w?function(ee,re,ie){return function oe(ke){const Fe=ee.querySelectorAll(re);for(let{target:_e}=ke;_e&&_e!==this;_e=_e.parentNode)for(const Ae of Fe)if(Ae===_e)return _t(ke,{delegateTarget:_e}),oe.oneOff&&A.off(ee,ke.type,re,ie),ie.apply(_e,[ke])}}(f,u,C):function(ee,re){return function ie(oe){return _t(oe,{delegateTarget:ee}),ie.oneOff&&A.off(ee,oe.type,re),re.apply(ee,[oe])}}(f,C);le.delegationSelector=w?u:null,le.callable=C,le.oneOff=E,le.uidEvent=B,K[B]=le,f.addEventListener(O,le,w)}function de(f,a,u,p,E){const w=Pt(a[u],p,E);w&&(f.removeEventListener(u,w,!!E),delete a[u][w.uidEvent])}function Ee(f,a,u,p){const E=a[u]||{};for(const[w,C]of Object.entries(E))w.includes(p)&&de(f,a,u,C.callable,C.delegationSelector)}function nt(f){return f=f.replace(ae,""),Te[f]||f}const A={on(f,a,u,p){Ce(f,a,u,p,!1)},one(f,a,u,p){Ce(f,a,u,p,!0)},off(f,a,u,p){if(typeof a!="string"||!f)return;const[E,w,C]=Mt(a,u,p),O=C!==a,H=Be(f),K=H[C]||{},q=a.startsWith(".");if(w===void 0){if(q)for(const B of Object.keys(H))Ee(f,H,B,a.slice(1));for(const[B,le]of Object.entries(K)){const ee=B.replace(pe,"");O&&!a.includes(ee)||de(f,H,C,le.callable,le.delegationSelector)}}else{if(!Object.keys(K).length)return;de(f,H,C,w,E?u:null)}},trigger(f,a,u){if(typeof a!="string"||!f)return null;const p=b();let E=null,w=!0,C=!0,O=!1;a!==nt(a)&&p&&(E=p.Event(a,u),p(f).trigger(E),w=!E.isPropagationStopped(),C=!E.isImmediatePropagationStopped(),O=E.isDefaultPrevented());const H=_t(new Event(a,{bubbles:w,cancelable:!0}),u);return O&&H.preventDefault(),C&&f.dispatchEvent(H),H.defaultPrevented&&E&&E.preventDefault(),H}};function _t(f,a={}){for(const[u,p]of Object.entries(a))try{f[u]=p}catch{Object.defineProperty(f,u,{configurable:!0,get:()=>p})}return f}function Je(f){if(f==="true")return!0;if(f==="false")return!1;if(f===Number(f).toString())return Number(f);if(f===""||f==="null")return null;if(typeof f!="string")return f;try{return JSON.parse(decodeURIComponent(f))}catch{return f}}function un(f){return f.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const st={setDataAttribute(f,a,u){f.setAttribute(`data-bs-${un(a)}`,u)},removeDataAttribute(f,a){f.removeAttribute(`data-bs-${un(a)}`)},getDataAttributes(f){if(!f)return{};const a={},u=Object.keys(f.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of u){let E=p.replace(/^bs/,"");E=E.charAt(0).toLowerCase()+E.slice(1,E.length),a[E]=Je(f.dataset[p])}return a},getDataAttribute:(f,a)=>Je(f.getAttribute(`data-bs-${un(a)}`))};class lt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,u){const p=l(u)?st.getDataAttribute(u,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...l(u)?st.getDataAttributes(u):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,u=this.constructor.DefaultType){for(const[E,w]of Object.entries(u)){const C=a[E],O=l(C)?"element":(p=C)==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(O))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${E}" provided type "${O}" but expected type "${w}".`)}var p}}class Ke extends lt{constructor(a,u){super(),(a=c(a))&&(this._element=a,this._config=this._getConfig(u),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),A.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,u,p=!0){Y(a,u,p)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return s.get(c(a),this.DATA_KEY)}static getOrCreateInstance(a,u={}){return this.getInstance(a)||new this(a,typeof u=="object"?u:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const $t=f=>{let a=f.getAttribute("data-bs-target");if(!a||a==="#"){let u=f.getAttribute("href");if(!u||!u.includes("#")&&!u.startsWith("."))return null;u.includes("#")&&!u.startsWith("#")&&(u=`#${u.split("#")[1]}`),a=u&&u!=="#"?u.trim():null}return a?a.split(",").map(u=>r(u)).join(","):null},z={find:(f,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,f)),findOne:(f,a=document.documentElement)=>Element.prototype.querySelector.call(a,f),children:(f,a)=>[].concat(...f.children).filter(u=>u.matches(a)),parents(f,a){const u=[];let p=f.parentNode.closest(a);for(;p;)u.push(p),p=p.parentNode.closest(a);return u},prev(f,a){let u=f.previousElementSibling;for(;u;){if(u.matches(a))return[u];u=u.previousElementSibling}return[]},next(f,a){let u=f.nextElementSibling;for(;u;){if(u.matches(a))return[u];u=u.nextElementSibling}return[]},focusableChildren(f){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(",");return this.find(a,f).filter(u=>!d(u)&&h(u))},getSelectorFromElement(f){const a=$t(f);return a&&z.findOne(a)?a:null},getElementFromSelector(f){const a=$t(f);return a?z.findOne(a):null},getMultipleElementsFromSelector(f){const a=$t(f);return a?z.find(a):[]}},hn=(f,a="hide")=>{const u=`click.dismiss${f.EVENT_KEY}`,p=f.NAME;A.on(document,u,`[data-bs-dismiss="${p}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),d(this))return;const w=z.getElementFromSelector(this)||this.closest(`.${p}`);f.getOrCreateInstance(w)[a]()})},wn=".bs.alert",ki=`close${wn}`,m=`closed${wn}`;class y extends Ke{static get NAME(){return"alert"}close(){if(A.trigger(this._element,ki).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),A.trigger(this._element,m),this.dispose()}static jQueryInterface(a){return this.each(function(){const u=y.getOrCreateInstance(this);if(typeof a=="string"){if(u[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);u[a](this)}})}}hn(y,"close"),F(y);const I='[data-bs-toggle="button"]';class N extends Ke{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const u=N.getOrCreateInstance(this);a==="toggle"&&u[a]()})}}A.on(document,"click.bs.button.data-api",I,f=>{f.preventDefault();const a=f.target.closest(I);N.getOrCreateInstance(a).toggle()}),F(N);const S=".bs.swipe",R=`touchstart${S}`,W=`touchmove${S}`,U=`touchend${S}`,L=`pointerdown${S}`,k=`pointerup${S}`,J={endCallback:null,leftCallback:null,rightCallback:null},j={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class G extends lt{constructor(a,u){super(),this._element=a,a&&G.isSupported()&&(this._config=this._getConfig(u),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return J}static get DefaultType(){return j}static get NAME(){return"swipe"}dispose(){A.off(this._element,S)}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),V(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const u=a/this._deltaX;this._deltaX=0,u&&V(u>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(A.on(this._element,L,a=>this._start(a)),A.on(this._element,k,a=>this._end(a)),this._element.classList.add("pointer-event")):(A.on(this._element,R,a=>this._start(a)),A.on(this._element,W,a=>this._move(a)),A.on(this._element,U,a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Q=".bs.carousel",ue=".data-api",ye="next",fe="prev",Ye="left",Ze="right",Yt=`slide${Q}`,Rt=`slid${Q}`,Ws=`keydown${Q}`,aa=`mouseenter${Q}`,gt=`mouseleave${Q}`,Qt=`dragstart${Q}`,la=`load${Q}${ue}`,hE=`click${Q}${ue}`,jd="carousel",ca="active",Bd=".active",Kd=".carousel-item",dE=Bd+Kd,fE={ArrowLeft:Ze,ArrowRight:Ye},pE={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_E={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Di extends Ke{constructor(a,u){super(a,u),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===jd&&this.cycle()}static get Default(){return pE}static get DefaultType(){return _E}static get NAME(){return"carousel"}next(){this._slide(ye)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(fe)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?A.one(this._element,Rt,()=>this.cycle()):this.cycle())}to(a){const u=this._getItems();if(a>u.length-1||a<0)return;if(this._isSliding)return void A.one(this._element,Rt,()=>this.to(a));const p=this._getItemIndex(this._getActive());if(p===a)return;const E=a>p?ye:fe;this._slide(E,u[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&A.on(this._element,Ws,a=>this._keydown(a)),this._config.pause==="hover"&&(A.on(this._element,aa,()=>this.pause()),A.on(this._element,gt,()=>this._maybeEnableCycle())),this._config.touch&&G.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const u of z.find(".carousel-item img",this._element))A.on(u,Qt,p=>p.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(Ye)),rightCallback:()=>this._slide(this._directionToOrder(Ze)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new G(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const u=fE[a.key];u&&(a.preventDefault(),this._slide(this._directionToOrder(u)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const u=z.findOne(Bd,this._indicatorsElement);u.classList.remove(ca),u.removeAttribute("aria-current");const p=z.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);p&&(p.classList.add(ca),p.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const u=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=u||this._config.defaultInterval}_slide(a,u=null){if(this._isSliding)return;const p=this._getActive(),E=a===ye,w=u||x(this._getItems(),p,E,this._config.wrap);if(w===p)return;const C=this._getItemIndex(w),O=B=>A.trigger(this._element,B,{relatedTarget:w,direction:this._orderToDirection(a),from:this._getItemIndex(p),to:C});if(O(Yt).defaultPrevented||!p||!w)return;const H=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(C),this._activeElement=w;const K=E?"carousel-item-start":"carousel-item-end",q=E?"carousel-item-next":"carousel-item-prev";w.classList.add(q),v(w),p.classList.add(K),w.classList.add(K),this._queueCallback(()=>{w.classList.remove(K,q),w.classList.add(ca),p.classList.remove(ca,q,K),this._isSliding=!1,O(Rt)},p,this._isAnimated()),H&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return z.findOne(dE,this._element)}_getItems(){return z.find(Kd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return D()?a===Ye?fe:ye:a===Ye?ye:fe}_orderToDirection(a){return D()?a===fe?Ye:Ze:a===fe?Ze:Ye}static jQueryInterface(a){return this.each(function(){const u=Di.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(u[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);u[a]()}}else u.to(a)})}}A.on(document,hE,"[data-bs-slide], [data-bs-slide-to]",function(f){const a=z.getElementFromSelector(this);if(!a||!a.classList.contains(jd))return;f.preventDefault();const u=Di.getOrCreateInstance(a),p=this.getAttribute("data-bs-slide-to");return p?(u.to(p),void u._maybeEnableCycle()):st.getDataAttribute(this,"slide")==="next"?(u.next(),void u._maybeEnableCycle()):(u.prev(),void u._maybeEnableCycle())}),A.on(window,la,()=>{const f=z.find('[data-bs-ride="carousel"]');for(const a of f)Di.getOrCreateInstance(a)}),F(Di);const Hr=".bs.collapse",gE=`show${Hr}`,mE=`shown${Hr}`,vE=`hide${Hr}`,yE=`hidden${Hr}`,bE=`click${Hr}.data-api`,hc="show",xi="collapse",ua="collapsing",EE=`:scope .${xi} .${xi}`,dc='[data-bs-toggle="collapse"]',wE={parent:null,toggle:!0},TE={parent:"(null|element)",toggle:"boolean"};class Li extends Ke{constructor(a,u){super(a,u),this._isTransitioning=!1,this._triggerArray=[];const p=z.find(dc);for(const E of p){const w=z.getSelectorFromElement(E),C=z.find(w).filter(O=>O===this._element);w!==null&&C.length&&this._triggerArray.push(E)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wE}static get DefaultType(){return TE}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(E=>E!==this._element).map(E=>Li.getOrCreateInstance(E,{toggle:!1}))),a.length&&a[0]._isTransitioning||A.trigger(this._element,gE).defaultPrevented)return;for(const E of a)E.hide();const u=this._getDimension();this._element.classList.remove(xi),this._element.classList.add(ua),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const p=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ua),this._element.classList.add(xi,hc),this._element.style[u]="",A.trigger(this._element,mE)},this._element,!0),this._element.style[u]=`${this._element[p]}px`}hide(){if(this._isTransitioning||!this._isShown()||A.trigger(this._element,vE).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,v(this._element),this._element.classList.add(ua),this._element.classList.remove(xi,hc);for(const u of this._triggerArray){const p=z.getElementFromSelector(u);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ua),this._element.classList.add(xi),A.trigger(this._element,yE)},this._element,!0)}_isShown(a=this._element){return a.classList.contains(hc)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=c(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(dc);for(const u of a){const p=z.getElementFromSelector(u);p&&this._addAriaAndCollapsedClass([u],this._isShown(p))}}_getFirstLevelChildren(a){const u=z.find(EE,this._config.parent);return z.find(a,this._config.parent).filter(p=>!u.includes(p))}_addAriaAndCollapsedClass(a,u){if(a.length)for(const p of a)p.classList.toggle("collapsed",!u),p.setAttribute("aria-expanded",u)}static jQueryInterface(a){const u={};return typeof a=="string"&&/show|hide/.test(a)&&(u.toggle=!1),this.each(function(){const p=Li.getOrCreateInstance(this,u);if(typeof a=="string"){if(p[a]===void 0)throw new TypeError(`No method named "${a}"`);p[a]()}})}}A.on(document,bE,dc,function(f){(f.target.tagName==="A"||f.delegateTarget&&f.delegateTarget.tagName==="A")&&f.preventDefault();for(const a of z.getMultipleElementsFromSelector(this))Li.getOrCreateInstance(a,{toggle:!1}).toggle()}),F(Li);var mt="top",Ft="bottom",Ut="right",vt="left",ha="auto",Mi=[mt,Ft,Ut,vt],js="start",$i="end",zd="clippingParents",fc="viewport",Fi="popper",qd="reference",pc=Mi.reduce(function(f,a){return f.concat([a+"-"+js,a+"-"+$i])},[]),_c=[].concat(Mi,[ha]).reduce(function(f,a){return f.concat([a,a+"-"+js,a+"-"+$i])},[]),Gd="beforeRead",Yd="read",Qd="afterRead",Xd="beforeMain",Jd="main",Zd="afterMain",ef="beforeWrite",tf="write",nf="afterWrite",sf=[Gd,Yd,Qd,Xd,Jd,Zd,ef,tf,nf];function Tn(f){return f?(f.nodeName||"").toLowerCase():null}function Ht(f){if(f==null)return window;if(f.toString()!=="[object Window]"){var a=f.ownerDocument;return a&&a.defaultView||window}return f}function Bs(f){return f instanceof Ht(f).Element||f instanceof Element}function Xt(f){return f instanceof Ht(f).HTMLElement||f instanceof HTMLElement}function gc(f){return typeof ShadowRoot<"u"&&(f instanceof Ht(f).ShadowRoot||f instanceof ShadowRoot)}const mc={name:"applyStyles",enabled:!0,phase:"write",fn:function(f){var a=f.state;Object.keys(a.elements).forEach(function(u){var p=a.styles[u]||{},E=a.attributes[u]||{},w=a.elements[u];Xt(w)&&Tn(w)&&(Object.assign(w.style,p),Object.keys(E).forEach(function(C){var O=E[C];O===!1?w.removeAttribute(C):w.setAttribute(C,O===!0?"":O)}))})},effect:function(f){var a=f.state,u={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,u.popper),a.styles=u,a.elements.arrow&&Object.assign(a.elements.arrow.style,u.arrow),function(){Object.keys(a.elements).forEach(function(p){var E=a.elements[p],w=a.attributes[p]||{},C=Object.keys(a.styles.hasOwnProperty(p)?a.styles[p]:u[p]).reduce(function(O,H){return O[H]="",O},{});Xt(E)&&Tn(E)&&(Object.assign(E.style,C),Object.keys(w).forEach(function(O){E.removeAttribute(O)}))})}},requires:["computeStyles"]};function Cn(f){return f.split("-")[0]}var Ks=Math.max,da=Math.min,Ui=Math.round;function vc(){var f=navigator.userAgentData;return f!=null&&f.brands&&Array.isArray(f.brands)?f.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function rf(){return!/^((?!chrome|android).)*safari/i.test(vc())}function Hi(f,a,u){a===void 0&&(a=!1),u===void 0&&(u=!1);var p=f.getBoundingClientRect(),E=1,w=1;a&&Xt(f)&&(E=f.offsetWidth>0&&Ui(p.width)/f.offsetWidth||1,w=f.offsetHeight>0&&Ui(p.height)/f.offsetHeight||1);var C=(Bs(f)?Ht(f):window).visualViewport,O=!rf()&&u,H=(p.left+(O&&C?C.offsetLeft:0))/E,K=(p.top+(O&&C?C.offsetTop:0))/w,q=p.width/E,B=p.height/w;return{width:q,height:B,top:K,right:H+q,bottom:K+B,left:H,x:H,y:K}}function yc(f){var a=Hi(f),u=f.offsetWidth,p=f.offsetHeight;return Math.abs(a.width-u)<=1&&(u=a.width),Math.abs(a.height-p)<=1&&(p=a.height),{x:f.offsetLeft,y:f.offsetTop,width:u,height:p}}function of(f,a){var u=a.getRootNode&&a.getRootNode();if(f.contains(a))return!0;if(u&&gc(u)){var p=a;do{if(p&&f.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Un(f){return Ht(f).getComputedStyle(f)}function CE(f){return["table","td","th"].indexOf(Tn(f))>=0}function hs(f){return((Bs(f)?f.ownerDocument:f.document)||window.document).documentElement}function fa(f){return Tn(f)==="html"?f:f.assignedSlot||f.parentNode||(gc(f)?f.host:null)||hs(f)}function af(f){return Xt(f)&&Un(f).position!=="fixed"?f.offsetParent:null}function Vr(f){for(var a=Ht(f),u=af(f);u&&CE(u)&&Un(u).position==="static";)u=af(u);return u&&(Tn(u)==="html"||Tn(u)==="body"&&Un(u).position==="static")?a:u||function(p){var E=/firefox/i.test(vc());if(/Trident/i.test(vc())&&Xt(p)&&Un(p).position==="fixed")return null;var w=fa(p);for(gc(w)&&(w=w.host);Xt(w)&&["html","body"].indexOf(Tn(w))<0;){var C=Un(w);if(C.transform!=="none"||C.perspective!=="none"||C.contain==="paint"||["transform","perspective"].indexOf(C.willChange)!==-1||E&&C.willChange==="filter"||E&&C.filter&&C.filter!=="none")return w;w=w.parentNode}return null}(f)||a}function bc(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function Wr(f,a,u){return Ks(f,da(a,u))}function lf(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function cf(f,a){return a.reduce(function(u,p){return u[p]=f,u},{})}const uf={name:"arrow",enabled:!0,phase:"main",fn:function(f){var a,u=f.state,p=f.name,E=f.options,w=u.elements.arrow,C=u.modifiersData.popperOffsets,O=Cn(u.placement),H=bc(O),K=[vt,Ut].indexOf(O)>=0?"height":"width";if(w&&C){var q=function(De,Re){return lf(typeof(De=typeof De=="function"?De(Object.assign({},Re.rects,{placement:Re.placement})):De)!="number"?De:cf(De,Mi))}(E.padding,u),B=yc(w),le=H==="y"?mt:vt,ee=H==="y"?Ft:Ut,re=u.rects.reference[K]+u.rects.reference[H]-C[H]-u.rects.popper[K],ie=C[H]-u.rects.reference[H],oe=Vr(w),ke=oe?H==="y"?oe.clientHeight||0:oe.clientWidth||0:0,Fe=re/2-ie/2,_e=q[le],Ae=ke-B[K]-q[ee],he=ke/2-B[K]/2+Fe,be=Wr(_e,he,Ae),Pe=H;u.modifiersData[p]=((a={})[Pe]=be,a.centerOffset=be-he,a)}},effect:function(f){var a=f.state,u=f.options.element,p=u===void 0?"[data-popper-arrow]":u;p!=null&&(typeof p!="string"||(p=a.elements.popper.querySelector(p)))&&of(a.elements.popper,p)&&(a.elements.arrow=p)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vi(f){return f.split("-")[1]}var IE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hf(f){var a,u=f.popper,p=f.popperRect,E=f.placement,w=f.variation,C=f.offsets,O=f.position,H=f.gpuAcceleration,K=f.adaptive,q=f.roundOffsets,B=f.isFixed,le=C.x,ee=le===void 0?0:le,re=C.y,ie=re===void 0?0:re,oe=typeof q=="function"?q({x:ee,y:ie}):{x:ee,y:ie};ee=oe.x,ie=oe.y;var ke=C.hasOwnProperty("x"),Fe=C.hasOwnProperty("y"),_e=vt,Ae=mt,he=window;if(K){var be=Vr(u),Pe="clientHeight",De="clientWidth";be===Ht(u)&&Un(be=hs(u)).position!=="static"&&O==="absolute"&&(Pe="scrollHeight",De="scrollWidth"),(E===mt||(E===vt||E===Ut)&&w===$i)&&(Ae=Ft,ie-=(B&&be===he&&he.visualViewport?he.visualViewport.height:be[Pe])-p.height,ie*=H?1:-1),E!==vt&&(E!==mt&&E!==Ft||w!==$i)||(_e=Ut,ee-=(B&&be===he&&he.visualViewport?he.visualViewport.width:be[De])-p.width,ee*=H?1:-1)}var Re,Ge=Object.assign({position:O},K&&IE),Vt=q===!0?function(fn,yt){var Zt=fn.x,en=fn.y,ze=yt.devicePixelRatio||1;return{x:Ui(Zt*ze)/ze||0,y:Ui(en*ze)/ze||0}}({x:ee,y:ie},Ht(u)):{x:ee,y:ie};return ee=Vt.x,ie=Vt.y,H?Object.assign({},Ge,((Re={})[Ae]=Fe?"0":"",Re[_e]=ke?"0":"",Re.transform=(he.devicePixelRatio||1)<=1?"translate("+ee+"px, "+ie+"px)":"translate3d("+ee+"px, "+ie+"px, 0)",Re)):Object.assign({},Ge,((a={})[Ae]=Fe?ie+"px":"",a[_e]=ke?ee+"px":"",a.transform="",a))}const Ec={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(f){var a=f.state,u=f.options,p=u.gpuAcceleration,E=p===void 0||p,w=u.adaptive,C=w===void 0||w,O=u.roundOffsets,H=O===void 0||O,K={placement:Cn(a.placement),variation:Vi(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:E,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,hf(Object.assign({},K,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:C,roundOffsets:H})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,hf(Object.assign({},K,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:H})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var pa={passive:!0};const wc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(f){var a=f.state,u=f.instance,p=f.options,E=p.scroll,w=E===void 0||E,C=p.resize,O=C===void 0||C,H=Ht(a.elements.popper),K=[].concat(a.scrollParents.reference,a.scrollParents.popper);return w&&K.forEach(function(q){q.addEventListener("scroll",u.update,pa)}),O&&H.addEventListener("resize",u.update,pa),function(){w&&K.forEach(function(q){q.removeEventListener("scroll",u.update,pa)}),O&&H.removeEventListener("resize",u.update,pa)}},data:{}};var AE={left:"right",right:"left",bottom:"top",top:"bottom"};function _a(f){return f.replace(/left|right|bottom|top/g,function(a){return AE[a]})}var SE={start:"end",end:"start"};function df(f){return f.replace(/start|end/g,function(a){return SE[a]})}function Tc(f){var a=Ht(f);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Cc(f){return Hi(hs(f)).left+Tc(f).scrollLeft}function Ic(f){var a=Un(f),u=a.overflow,p=a.overflowX,E=a.overflowY;return/auto|scroll|overlay|hidden/.test(u+E+p)}function ff(f){return["html","body","#document"].indexOf(Tn(f))>=0?f.ownerDocument.body:Xt(f)&&Ic(f)?f:ff(fa(f))}function jr(f,a){var u;a===void 0&&(a=[]);var p=ff(f),E=p===((u=f.ownerDocument)==null?void 0:u.body),w=Ht(p),C=E?[w].concat(w.visualViewport||[],Ic(p)?p:[]):p,O=a.concat(C);return E?O:O.concat(jr(fa(C)))}function Ac(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function pf(f,a,u){return a===fc?Ac(function(p,E){var w=Ht(p),C=hs(p),O=w.visualViewport,H=C.clientWidth,K=C.clientHeight,q=0,B=0;if(O){H=O.width,K=O.height;var le=rf();(le||!le&&E==="fixed")&&(q=O.offsetLeft,B=O.offsetTop)}return{width:H,height:K,x:q+Cc(p),y:B}}(f,u)):Bs(a)?function(p,E){var w=Hi(p,!1,E==="fixed");return w.top=w.top+p.clientTop,w.left=w.left+p.clientLeft,w.bottom=w.top+p.clientHeight,w.right=w.left+p.clientWidth,w.width=p.clientWidth,w.height=p.clientHeight,w.x=w.left,w.y=w.top,w}(a,u):Ac(function(p){var E,w=hs(p),C=Tc(p),O=(E=p.ownerDocument)==null?void 0:E.body,H=Ks(w.scrollWidth,w.clientWidth,O?O.scrollWidth:0,O?O.clientWidth:0),K=Ks(w.scrollHeight,w.clientHeight,O?O.scrollHeight:0,O?O.clientHeight:0),q=-C.scrollLeft+Cc(p),B=-C.scrollTop;return Un(O||w).direction==="rtl"&&(q+=Ks(w.clientWidth,O?O.clientWidth:0)-H),{width:H,height:K,x:q,y:B}}(hs(f)))}function _f(f){var a,u=f.reference,p=f.element,E=f.placement,w=E?Cn(E):null,C=E?Vi(E):null,O=u.x+u.width/2-p.width/2,H=u.y+u.height/2-p.height/2;switch(w){case mt:a={x:O,y:u.y-p.height};break;case Ft:a={x:O,y:u.y+u.height};break;case Ut:a={x:u.x+u.width,y:H};break;case vt:a={x:u.x-p.width,y:H};break;default:a={x:u.x,y:u.y}}var K=w?bc(w):null;if(K!=null){var q=K==="y"?"height":"width";switch(C){case js:a[K]=a[K]-(u[q]/2-p[q]/2);break;case $i:a[K]=a[K]+(u[q]/2-p[q]/2)}}return a}function Wi(f,a){a===void 0&&(a={});var u=a,p=u.placement,E=p===void 0?f.placement:p,w=u.strategy,C=w===void 0?f.strategy:w,O=u.boundary,H=O===void 0?zd:O,K=u.rootBoundary,q=K===void 0?fc:K,B=u.elementContext,le=B===void 0?Fi:B,ee=u.altBoundary,re=ee!==void 0&&ee,ie=u.padding,oe=ie===void 0?0:ie,ke=lf(typeof oe!="number"?oe:cf(oe,Mi)),Fe=le===Fi?qd:Fi,_e=f.rects.popper,Ae=f.elements[re?Fe:le],he=function(yt,Zt,en,ze){var In=Zt==="clippingParents"?function(Le){var bt=jr(fa(Le)),tn=["absolute","fixed"].indexOf(Un(Le).position)>=0&&Xt(Le)?Vr(Le):Le;return Bs(tn)?bt.filter(function(fs){return Bs(fs)&&of(fs,tn)&&Tn(fs)!=="body"}):[]}(yt):[].concat(Zt),An=[].concat(In,[en]),Ki=An[0],it=An.reduce(function(Le,bt){var tn=pf(yt,bt,ze);return Le.top=Ks(tn.top,Le.top),Le.right=da(tn.right,Le.right),Le.bottom=da(tn.bottom,Le.bottom),Le.left=Ks(tn.left,Le.left),Le},pf(yt,Ki,ze));return it.width=it.right-it.left,it.height=it.bottom-it.top,it.x=it.left,it.y=it.top,it}(Bs(Ae)?Ae:Ae.contextElement||hs(f.elements.popper),H,q,C),be=Hi(f.elements.reference),Pe=_f({reference:be,element:_e,placement:E}),De=Ac(Object.assign({},_e,Pe)),Re=le===Fi?De:be,Ge={top:he.top-Re.top+ke.top,bottom:Re.bottom-he.bottom+ke.bottom,left:he.left-Re.left+ke.left,right:Re.right-he.right+ke.right},Vt=f.modifiersData.offset;if(le===Fi&&Vt){var fn=Vt[E];Object.keys(Ge).forEach(function(yt){var Zt=[Ut,Ft].indexOf(yt)>=0?1:-1,en=[mt,Ft].indexOf(yt)>=0?"y":"x";Ge[yt]+=fn[en]*Zt})}return Ge}function OE(f,a){a===void 0&&(a={});var u=a,p=u.placement,E=u.boundary,w=u.rootBoundary,C=u.padding,O=u.flipVariations,H=u.allowedAutoPlacements,K=H===void 0?_c:H,q=Vi(p),B=q?O?pc:pc.filter(function(re){return Vi(re)===q}):Mi,le=B.filter(function(re){return K.indexOf(re)>=0});le.length===0&&(le=B);var ee=le.reduce(function(re,ie){return re[ie]=Wi(f,{placement:ie,boundary:E,rootBoundary:w,padding:C})[Cn(ie)],re},{});return Object.keys(ee).sort(function(re,ie){return ee[re]-ee[ie]})}const gf={name:"flip",enabled:!0,phase:"main",fn:function(f){var a=f.state,u=f.options,p=f.name;if(!a.modifiersData[p]._skip){for(var E=u.mainAxis,w=E===void 0||E,C=u.altAxis,O=C===void 0||C,H=u.fallbackPlacements,K=u.padding,q=u.boundary,B=u.rootBoundary,le=u.altBoundary,ee=u.flipVariations,re=ee===void 0||ee,ie=u.allowedAutoPlacements,oe=a.options.placement,ke=Cn(oe),Fe=H||(ke!==oe&&re?function(Le){if(Cn(Le)===ha)return[];var bt=_a(Le);return[df(Le),bt,df(bt)]}(oe):[_a(oe)]),_e=[oe].concat(Fe).reduce(function(Le,bt){return Le.concat(Cn(bt)===ha?OE(a,{placement:bt,boundary:q,rootBoundary:B,padding:K,flipVariations:re,allowedAutoPlacements:ie}):bt)},[]),Ae=a.rects.reference,he=a.rects.popper,be=new Map,Pe=!0,De=_e[0],Re=0;Re<_e.length;Re++){var Ge=_e[Re],Vt=Cn(Ge),fn=Vi(Ge)===js,yt=[mt,Ft].indexOf(Vt)>=0,Zt=yt?"width":"height",en=Wi(a,{placement:Ge,boundary:q,rootBoundary:B,altBoundary:le,padding:K}),ze=yt?fn?Ut:vt:fn?Ft:mt;Ae[Zt]>he[Zt]&&(ze=_a(ze));var In=_a(ze),An=[];if(w&&An.push(en[Vt]<=0),O&&An.push(en[ze]<=0,en[In]<=0),An.every(function(Le){return Le})){De=Ge,Pe=!1;break}be.set(Ge,An)}if(Pe)for(var Ki=function(Le){var bt=_e.find(function(tn){var fs=be.get(tn);if(fs)return fs.slice(0,Le).every(function(Ca){return Ca})});if(bt)return De=bt,"break"},it=re?3:1;it>0&&Ki(it)!=="break";it--);a.placement!==De&&(a.modifiersData[p]._skip=!0,a.placement=De,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mf(f,a,u){return u===void 0&&(u={x:0,y:0}),{top:f.top-a.height-u.y,right:f.right-a.width+u.x,bottom:f.bottom-a.height+u.y,left:f.left-a.width-u.x}}function vf(f){return[mt,Ut,Ft,vt].some(function(a){return f[a]>=0})}const yf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(f){var a=f.state,u=f.name,p=a.rects.reference,E=a.rects.popper,w=a.modifiersData.preventOverflow,C=Wi(a,{elementContext:"reference"}),O=Wi(a,{altBoundary:!0}),H=mf(C,p),K=mf(O,E,w),q=vf(H),B=vf(K);a.modifiersData[u]={referenceClippingOffsets:H,popperEscapeOffsets:K,isReferenceHidden:q,hasPopperEscaped:B},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":q,"data-popper-escaped":B})}},bf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(f){var a=f.state,u=f.options,p=f.name,E=u.offset,w=E===void 0?[0,0]:E,C=_c.reduce(function(q,B){return q[B]=function(le,ee,re){var ie=Cn(le),oe=[vt,mt].indexOf(ie)>=0?-1:1,ke=typeof re=="function"?re(Object.assign({},ee,{placement:le})):re,Fe=ke[0],_e=ke[1];return Fe=Fe||0,_e=(_e||0)*oe,[vt,Ut].indexOf(ie)>=0?{x:_e,y:Fe}:{x:Fe,y:_e}}(B,a.rects,w),q},{}),O=C[a.placement],H=O.x,K=O.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=H,a.modifiersData.popperOffsets.y+=K),a.modifiersData[p]=C}},Sc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(f){var a=f.state,u=f.name;a.modifiersData[u]=_f({reference:a.rects.reference,element:a.rects.popper,placement:a.placement})},data:{}},Ef={name:"preventOverflow",enabled:!0,phase:"main",fn:function(f){var a=f.state,u=f.options,p=f.name,E=u.mainAxis,w=E===void 0||E,C=u.altAxis,O=C!==void 0&&C,H=u.boundary,K=u.rootBoundary,q=u.altBoundary,B=u.padding,le=u.tether,ee=le===void 0||le,re=u.tetherOffset,ie=re===void 0?0:re,oe=Wi(a,{boundary:H,rootBoundary:K,padding:B,altBoundary:q}),ke=Cn(a.placement),Fe=Vi(a.placement),_e=!Fe,Ae=bc(ke),he=Ae==="x"?"y":"x",be=a.modifiersData.popperOffsets,Pe=a.rects.reference,De=a.rects.popper,Re=typeof ie=="function"?ie(Object.assign({},a.rects,{placement:a.placement})):ie,Ge=typeof Re=="number"?{mainAxis:Re,altAxis:Re}:Object.assign({mainAxis:0,altAxis:0},Re),Vt=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,fn={x:0,y:0};if(be){if(w){var yt,Zt=Ae==="y"?mt:vt,en=Ae==="y"?Ft:Ut,ze=Ae==="y"?"height":"width",In=be[Ae],An=In+oe[Zt],Ki=In-oe[en],it=ee?-De[ze]/2:0,Le=Fe===js?Pe[ze]:De[ze],bt=Fe===js?-De[ze]:-Pe[ze],tn=a.elements.arrow,fs=ee&&tn?yc(tn):{width:0,height:0},Ca=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ap=Ca[Zt],lp=Ca[en],Ia=Wr(0,Pe[ze],fs[ze]),sT=_e?Pe[ze]/2-it-Ia-ap-Ge.mainAxis:Le-Ia-ap-Ge.mainAxis,iT=_e?-Pe[ze]/2+it+Ia+lp+Ge.mainAxis:bt+Ia+lp+Ge.mainAxis,Hc=a.elements.arrow&&Vr(a.elements.arrow),rT=Hc?Ae==="y"?Hc.clientTop||0:Hc.clientLeft||0:0,cp=(yt=Vt==null?void 0:Vt[Ae])!=null?yt:0,oT=In+iT-cp,up=Wr(ee?da(An,In+sT-cp-rT):An,In,ee?Ks(Ki,oT):Ki);be[Ae]=up,fn[Ae]=up-In}if(O){var hp,aT=Ae==="x"?mt:vt,lT=Ae==="x"?Ft:Ut,Zs=be[he],Aa=he==="y"?"height":"width",dp=Zs+oe[aT],fp=Zs-oe[lT],Vc=[mt,vt].indexOf(ke)!==-1,pp=(hp=Vt==null?void 0:Vt[he])!=null?hp:0,_p=Vc?dp:Zs-Pe[Aa]-De[Aa]-pp+Ge.altAxis,gp=Vc?Zs+Pe[Aa]+De[Aa]-pp-Ge.altAxis:fp,mp=ee&&Vc?function(cT,uT,Wc){var vp=Wr(cT,uT,Wc);return vp>Wc?Wc:vp}(_p,Zs,gp):Wr(ee?_p:dp,Zs,ee?gp:fp);be[he]=mp,fn[he]=mp-Zs}a.modifiersData[p]=fn}},requiresIfExists:["offset"]};function NE(f,a,u){u===void 0&&(u=!1);var p,E,w=Xt(a),C=Xt(a)&&function(B){var le=B.getBoundingClientRect(),ee=Ui(le.width)/B.offsetWidth||1,re=Ui(le.height)/B.offsetHeight||1;return ee!==1||re!==1}(a),O=hs(a),H=Hi(f,C,u),K={scrollLeft:0,scrollTop:0},q={x:0,y:0};return(w||!w&&!u)&&((Tn(a)!=="body"||Ic(O))&&(K=(p=a)!==Ht(p)&&Xt(p)?{scrollLeft:(E=p).scrollLeft,scrollTop:E.scrollTop}:Tc(p)),Xt(a)?((q=Hi(a,!0)).x+=a.clientLeft,q.y+=a.clientTop):O&&(q.x=Cc(O))),{x:H.left+K.scrollLeft-q.x,y:H.top+K.scrollTop-q.y,width:H.width,height:H.height}}function PE(f){var a=new Map,u=new Set,p=[];function E(w){u.add(w.name),[].concat(w.requires||[],w.requiresIfExists||[]).forEach(function(C){if(!u.has(C)){var O=a.get(C);O&&E(O)}}),p.push(w)}return f.forEach(function(w){a.set(w.name,w)}),f.forEach(function(w){u.has(w.name)||E(w)}),p}var wf={placement:"bottom",modifiers:[],strategy:"absolute"};function Tf(){for(var f=arguments.length,a=new Array(f),u=0;u<f;u++)a[u]=arguments[u];return!a.some(function(p){return!(p&&typeof p.getBoundingClientRect=="function")})}function ga(f){f===void 0&&(f={});var a=f,u=a.defaultModifiers,p=u===void 0?[]:u,E=a.defaultOptions,w=E===void 0?wf:E;return function(C,O,H){H===void 0&&(H=w);var K,q,B={placement:"bottom",orderedModifiers:[],options:Object.assign({},wf,w),modifiersData:{},elements:{reference:C,popper:O},attributes:{},styles:{}},le=[],ee=!1,re={state:B,setOptions:function(oe){var ke=typeof oe=="function"?oe(B.options):oe;ie(),B.options=Object.assign({},w,B.options,ke),B.scrollParents={reference:Bs(C)?jr(C):C.contextElement?jr(C.contextElement):[],popper:jr(O)};var Fe,_e,Ae=function(he){var be=PE(he);return sf.reduce(function(Pe,De){return Pe.concat(be.filter(function(Re){return Re.phase===De}))},[])}((Fe=[].concat(p,B.options.modifiers),_e=Fe.reduce(function(he,be){var Pe=he[be.name];return he[be.name]=Pe?Object.assign({},Pe,be,{options:Object.assign({},Pe.options,be.options),data:Object.assign({},Pe.data,be.data)}):be,he},{}),Object.keys(_e).map(function(he){return _e[he]})));return B.orderedModifiers=Ae.filter(function(he){return he.enabled}),B.orderedModifiers.forEach(function(he){var be=he.name,Pe=he.options,De=Pe===void 0?{}:Pe,Re=he.effect;if(typeof Re=="function"){var Ge=Re({state:B,name:be,instance:re,options:De});le.push(Ge||function(){})}}),re.update()},forceUpdate:function(){if(!ee){var oe=B.elements,ke=oe.reference,Fe=oe.popper;if(Tf(ke,Fe)){B.rects={reference:NE(ke,Vr(Fe),B.options.strategy==="fixed"),popper:yc(Fe)},B.reset=!1,B.placement=B.options.placement,B.orderedModifiers.forEach(function(Re){return B.modifiersData[Re.name]=Object.assign({},Re.data)});for(var _e=0;_e<B.orderedModifiers.length;_e++)if(B.reset!==!0){var Ae=B.orderedModifiers[_e],he=Ae.fn,be=Ae.options,Pe=be===void 0?{}:be,De=Ae.name;typeof he=="function"&&(B=he({state:B,options:Pe,name:De,instance:re})||B)}else B.reset=!1,_e=-1}}},update:(K=function(){return new Promise(function(oe){re.forceUpdate(),oe(B)})},function(){return q||(q=new Promise(function(oe){Promise.resolve().then(function(){q=void 0,oe(K())})})),q}),destroy:function(){ie(),ee=!0}};if(!Tf(C,O))return re;function ie(){le.forEach(function(oe){return oe()}),le=[]}return re.setOptions(H).then(function(oe){!ee&&H.onFirstUpdate&&H.onFirstUpdate(oe)}),re}}var RE=ga(),kE=ga({defaultModifiers:[wc,Sc,Ec,mc]}),Oc=ga({defaultModifiers:[wc,Sc,Ec,mc,bf,gf,Ef,uf,yf]});const Cf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Zd,afterRead:Qd,afterWrite:nf,applyStyles:mc,arrow:uf,auto:ha,basePlacements:Mi,beforeMain:Xd,beforeRead:Gd,beforeWrite:ef,bottom:Ft,clippingParents:zd,computeStyles:Ec,createPopper:Oc,createPopperBase:RE,createPopperLite:kE,detectOverflow:Wi,end:$i,eventListeners:wc,flip:gf,hide:yf,left:vt,main:Jd,modifierPhases:sf,offset:bf,placements:_c,popper:Fi,popperGenerator:ga,popperOffsets:Sc,preventOverflow:Ef,read:Yd,reference:qd,right:Ut,start:js,top:mt,variationPlacements:pc,viewport:fc,write:tf},Symbol.toStringTag,{value:"Module"})),If="dropdown",zs=".bs.dropdown",Nc=".data-api",DE="ArrowUp",Af="ArrowDown",xE=`hide${zs}`,LE=`hidden${zs}`,ME=`show${zs}`,$E=`shown${zs}`,Sf=`click${zs}${Nc}`,Of=`keydown${zs}${Nc}`,FE=`keyup${zs}${Nc}`,ji="show",qs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',UE=`${qs}.${ji}`,ma=".dropdown-menu",HE=D()?"top-end":"top-start",VE=D()?"top-start":"top-end",WE=D()?"bottom-end":"bottom-start",jE=D()?"bottom-start":"bottom-end",BE=D()?"left-start":"right-start",KE=D()?"right-start":"left-start",zE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class dn extends Ke{constructor(a,u){super(a,u),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,ma)[0]||z.prev(this._element,ma)[0]||z.findOne(ma,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zE}static get DefaultType(){return qE}static get NAME(){return If}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!A.trigger(this._element,ME,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const u of[].concat(...document.body.children))A.on(u,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ji),this._element.classList.add(ji),A.trigger(this._element,$E,a)}}hide(){if(d(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!A.trigger(this._element,xE,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))A.off(u,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(ji),this._element.classList.remove(ji),this._element.setAttribute("aria-expanded","false"),st.removeDataAttribute(this._menu,"popper"),A.trigger(this._element,LE,a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!l(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${If.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(Cf===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:l(this._config.reference)?a=c(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const u=this._getPopperConfig();this._popper=Oc(a,this._menu,u)}_isShown(){return this._menu.classList.contains(ji)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return BE;if(a.classList.contains("dropstart"))return KE;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const u=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?u?VE:HE:u?jE:WE}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(u=>Number.parseInt(u,10)):typeof a=="function"?u=>a(u,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(st.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...V(this._config.popperConfig,[a])}}_selectMenuItem({key:a,target:u}){const p=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(E=>h(E));p.length&&x(p,u,a===Af,!p.includes(u)).focus()}static jQueryInterface(a){return this.each(function(){const u=dn.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0)throw new TypeError(`No method named "${a}"`);u[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const u=z.find(UE);for(const p of u){const E=dn.getInstance(p);if(!E||E._config.autoClose===!1)continue;const w=a.composedPath(),C=w.includes(E._menu);if(w.includes(E._element)||E._config.autoClose==="inside"&&!C||E._config.autoClose==="outside"&&C||E._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const O={relatedTarget:E._element};a.type==="click"&&(O.clickEvent=a),E._completeHide(O)}}static dataApiKeydownHandler(a){const u=/input|textarea/i.test(a.target.tagName),p=a.key==="Escape",E=[DE,Af].includes(a.key);if(!E&&!p||u&&!p)return;a.preventDefault();const w=this.matches(qs)?this:z.prev(this,qs)[0]||z.next(this,qs)[0]||z.findOne(qs,a.delegateTarget.parentNode),C=dn.getOrCreateInstance(w);if(E)return a.stopPropagation(),C.show(),void C._selectMenuItem(a);C._isShown()&&(a.stopPropagation(),C.hide(),w.focus())}}A.on(document,Of,qs,dn.dataApiKeydownHandler),A.on(document,Of,ma,dn.dataApiKeydownHandler),A.on(document,Sf,dn.clearMenus),A.on(document,FE,dn.clearMenus),A.on(document,Sf,qs,function(f){f.preventDefault(),dn.getOrCreateInstance(this).toggle()}),F(dn);const Nf="backdrop",Pf="show",Rf=`mousedown.bs.${Nf}`,GE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},YE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class kf extends lt{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return GE}static get DefaultType(){return YE}static get NAME(){return Nf}show(a){if(!this._config.isVisible)return void V(a);this._append();const u=this._getElement();this._config.isAnimated&&v(u),u.classList.add(Pf),this._emulateAnimation(()=>{V(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(Pf),this._emulateAnimation(()=>{this.dispose(),V(a)})):V(a)}dispose(){this._isAppended&&(A.off(this._element,Rf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=c(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),A.on(a,Rf,()=>{V(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){Y(a,this._getElement(),this._config.isAnimated)}}const va=".bs.focustrap",QE=`focusin${va}`,XE=`keydown.tab${va}`,Df="backward",JE={autofocus:!0,trapElement:null},ZE={autofocus:"boolean",trapElement:"element"};class xf extends lt{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return JE}static get DefaultType(){return ZE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),A.off(document,va),A.on(document,QE,a=>this._handleFocusin(a)),A.on(document,XE,a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,A.off(document,va))}_handleFocusin(a){const{trapElement:u}=this._config;if(a.target===document||a.target===u||u.contains(a.target))return;const p=z.focusableChildren(u);p.length===0?u.focus():this._lastTabNavDirection===Df?p[p.length-1].focus():p[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?Df:"forward")}}const Lf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mf=".sticky-top",ya="padding-right",$f="margin-right";class Pc{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ya,u=>u+a),this._setElementAttributes(Lf,ya,u=>u+a),this._setElementAttributes(Mf,$f,u=>u-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ya),this._resetElementAttributes(Lf,ya),this._resetElementAttributes(Mf,$f)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,u,p){const E=this.getWidth();this._applyManipulationCallback(a,w=>{if(w!==this._element&&window.innerWidth>w.clientWidth+E)return;this._saveInitialAttribute(w,u);const C=window.getComputedStyle(w).getPropertyValue(u);w.style.setProperty(u,`${p(Number.parseFloat(C))}px`)})}_saveInitialAttribute(a,u){const p=a.style.getPropertyValue(u);p&&st.setDataAttribute(a,u,p)}_resetElementAttributes(a,u){this._applyManipulationCallback(a,p=>{const E=st.getDataAttribute(p,u);E!==null?(st.removeDataAttribute(p,u),p.style.setProperty(u,E)):p.style.removeProperty(u)})}_applyManipulationCallback(a,u){if(l(a))u(a);else for(const p of z.find(a,this._element))u(p)}}const Jt=".bs.modal",ew=`hide${Jt}`,tw=`hidePrevented${Jt}`,Ff=`hidden${Jt}`,Uf=`show${Jt}`,nw=`shown${Jt}`,sw=`resize${Jt}`,iw=`click.dismiss${Jt}`,rw=`mousedown.dismiss${Jt}`,ow=`keydown.dismiss${Jt}`,aw=`click${Jt}.data-api`,Hf="modal-open",Vf="show",Rc="modal-static",lw={backdrop:!0,focus:!0,keyboard:!0},cw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gs extends Ke{constructor(a,u){super(a,u),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pc,this._addEventListeners()}static get Default(){return lw}static get DefaultType(){return cw}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||A.trigger(this._element,Uf,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Hf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&(A.trigger(this._element,ew).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Vf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){A.off(window,Jt),A.off(this._dialog,Jt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xf({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const u=z.findOne(".modal-body",this._dialog);u&&(u.scrollTop=0),v(this._element),this._element.classList.add(Vf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,A.trigger(this._element,nw,{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){A.on(this._element,ow,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),A.on(window,sw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),A.on(this._element,rw,a=>{A.one(this._element,iw,u=>{this._element===a.target&&this._element===u.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Hf),this._resetAdjustments(),this._scrollBar.reset(),A.trigger(this._element,Ff)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(A.trigger(this._element,tw).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(Rc)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Rc),this._queueCallback(()=>{this._element.classList.remove(Rc),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,u=this._scrollBar.getWidth(),p=u>0;if(p&&!a){const E=D()?"paddingLeft":"paddingRight";this._element.style[E]=`${u}px`}if(!p&&a){const E=D()?"paddingRight":"paddingLeft";this._element.style[E]=`${u}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,u){return this.each(function(){const p=Gs.getOrCreateInstance(this,a);if(typeof a=="string"){if(p[a]===void 0)throw new TypeError(`No method named "${a}"`);p[a](u)}})}}A.on(document,aw,'[data-bs-toggle="modal"]',function(f){const a=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&f.preventDefault(),A.one(a,Uf,p=>{p.defaultPrevented||A.one(a,Ff,()=>{h(this)&&this.focus()})});const u=z.findOne(".modal.show");u&&Gs.getInstance(u).hide(),Gs.getOrCreateInstance(a).toggle(this)}),hn(Gs),F(Gs);const Hn=".bs.offcanvas",Wf=".data-api",uw=`load${Hn}${Wf}`,jf="show",Bf="showing",Kf="hiding",zf=".offcanvas.show",hw=`show${Hn}`,dw=`shown${Hn}`,fw=`hide${Hn}`,qf=`hidePrevented${Hn}`,Gf=`hidden${Hn}`,pw=`resize${Hn}`,_w=`click${Hn}${Wf}`,gw=`keydown.dismiss${Hn}`,mw={backdrop:!0,keyboard:!0,scroll:!1},vw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vn extends Ke{constructor(a,u){super(a,u),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mw}static get DefaultType(){return vw}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||A.trigger(this._element,hw,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jf),this._element.classList.remove(Bf),A.trigger(this._element,dw,{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(A.trigger(this._element,fw).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Kf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(jf,Kf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pc().reset(),A.trigger(this._element,Gf)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new kf({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():A.trigger(this._element,qf)}:null})}_initializeFocusTrap(){return new xf({trapElement:this._element})}_addEventListeners(){A.on(this._element,gw,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():A.trigger(this._element,qf))})}static jQueryInterface(a){return this.each(function(){const u=Vn.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);u[a](this)}})}}A.on(document,_w,'[data-bs-toggle="offcanvas"]',function(f){const a=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this))return;A.one(a,Gf,()=>{h(this)&&this.focus()});const u=z.findOne(zf);u&&u!==a&&Vn.getInstance(u).hide(),Vn.getOrCreateInstance(a).toggle(this)}),A.on(window,uw,()=>{for(const f of z.find(zf))Vn.getOrCreateInstance(f).show()}),A.on(window,pw,()=>{for(const f of z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(f).position!=="fixed"&&Vn.getOrCreateInstance(f).hide()}),hn(Vn),F(Vn);const Yf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ew=(f,a)=>{const u=f.nodeName.toLowerCase();return a.includes(u)?!yw.has(u)||!!bw.test(f.nodeValue):a.filter(p=>p instanceof RegExp).some(p=>p.test(u))},ww={allowList:Yf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Tw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Cw={entry:"(string|element|function|null)",selector:"(string|element)"};class Iw extends lt{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return ww}static get DefaultType(){return Tw}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[E,w]of Object.entries(this._config.content))this._setContent(a,w,E);const u=a.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&u.classList.add(...p.split(" ")),u}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[u,p]of Object.entries(a))super._typeCheckConfig({selector:u,entry:p},Cw)}_setContent(a,u,p){const E=z.findOne(p,a);E&&((u=this._resolvePossibleFunction(u))?l(u)?this._putElementInTemplate(c(u),E):this._config.html?E.innerHTML=this._maybeSanitize(u):E.textContent=u:E.remove())}_maybeSanitize(a){return this._config.sanitize?function(u,p,E){if(!u.length)return u;if(E&&typeof E=="function")return E(u);const w=new window.DOMParser().parseFromString(u,"text/html"),C=[].concat(...w.body.querySelectorAll("*"));for(const O of C){const H=O.nodeName.toLowerCase();if(!Object.keys(p).includes(H)){O.remove();continue}const K=[].concat(...O.attributes),q=[].concat(p["*"]||[],p[H]||[]);for(const B of K)Ew(B,q)||O.removeAttribute(B.nodeName)}return w.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return V(a,[this])}_putElementInTemplate(a,u){if(this._config.html)return u.innerHTML="",void u.append(a);u.textContent=a.textContent}}const Aw=new Set(["sanitize","allowList","sanitizeFn"]),kc="fade",ba="show",Qf=".modal",Xf="hide.bs.modal",Br="hover",Dc="focus",Sw={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Ow={allowList:Yf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Nw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ys extends Ke{constructor(a,u){if(Cf===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,u),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ow}static get DefaultType(){return Nw}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),A.off(this._element.closest(Qf),Xf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=A.trigger(this._element,this.constructor.eventName("show")),u=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!u)return;this._disposePopper();const p=this._getTipElement();this._element.setAttribute("aria-describedby",p.getAttribute("id"));const{container:E}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(E.append(p),A.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(p),p.classList.add(ba),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))A.on(w,"mouseover",g);this._queueCallback(()=>{A.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!A.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ba),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))A.off(a,"mouseover",g);this._activeTrigger.click=!1,this._activeTrigger[Dc]=!1,this._activeTrigger[Br]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),A.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const u=this._getTemplateFactory(a).toHtml();if(!u)return null;u.classList.remove(kc,ba),u.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(E=>{do E+=Math.floor(1e6*Math.random());while(document.getElementById(E));return E})(this.constructor.NAME).toString();return u.setAttribute("id",p),this._isAnimated()&&u.classList.add(kc),u}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new Iw({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kc)}_isShown(){return this.tip&&this.tip.classList.contains(ba)}_createPopper(a){const u=V(this._config.placement,[this,a,this._element]),p=Sw[u.toUpperCase()];return Oc(this._element,a,this._getPopperConfig(p))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(u=>Number.parseInt(u,10)):typeof a=="function"?u=>a(u,this._element):a}_resolvePossibleFunction(a){return V(a,[this._element])}_getPopperConfig(a){const u={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...u,...V(this._config.popperConfig,[u])}}_setListeners(){const a=this._config.trigger.split(" ");for(const u of a)if(u==="click")A.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if(u!=="manual"){const p=u===Br?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),E=u===Br?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");A.on(this._element,p,this._config.selector,w=>{const C=this._initializeOnDelegatedTarget(w);C._activeTrigger[w.type==="focusin"?Dc:Br]=!0,C._enter()}),A.on(this._element,E,this._config.selector,w=>{const C=this._initializeOnDelegatedTarget(w);C._activeTrigger[w.type==="focusout"?Dc:Br]=C._element.contains(w.relatedTarget),C._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},A.on(this._element.closest(Qf),Xf,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,u){clearTimeout(this._timeout),this._timeout=setTimeout(a,u)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const u=st.getDataAttributes(this._element);for(const p of Object.keys(u))Aw.has(p)&&delete u[p];return a={...u,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:c(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[u,p]of Object.entries(this._config))this.constructor.Default[u]!==p&&(a[u]=p);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const u=Ys.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0)throw new TypeError(`No method named "${a}"`);u[a]()}})}}F(Ys);const Pw={...Ys.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rw={...Ys.DefaultType,content:"(null|string|element|function)"};class Ea extends Ys{static get Default(){return Pw}static get DefaultType(){return Rw}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const u=Ea.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0)throw new TypeError(`No method named "${a}"`);u[a]()}})}}F(Ea);const xc=".bs.scrollspy",kw=`activate${xc}`,Jf=`click${xc}`,Dw=`load${xc}.data-api`,Bi="active",Lc="[href]",Zf=".nav-link",xw=`${Zf}, .nav-item > ${Zf}, .list-group-item`,Lw={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Mw={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kr extends Ke{constructor(a,u){super(a,u),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lw}static get DefaultType(){return Mw}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=c(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(u=>Number.parseFloat(u))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(A.off(this._config.target,Jf),A.on(this._config.target,Jf,Lc,a=>{const u=this._observableSections.get(a.target.hash);if(u){a.preventDefault();const p=this._rootElement||window,E=u.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:E,behavior:"smooth"});p.scrollTop=E}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(u=>this._observerCallback(u),a)}_observerCallback(a){const u=C=>this._targetLinks.get(`#${C.target.id}`),p=C=>{this._previousScrollData.visibleEntryTop=C.target.offsetTop,this._process(u(C))},E=(this._rootElement||document.documentElement).scrollTop,w=E>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=E;for(const C of a){if(!C.isIntersecting){this._activeTarget=null,this._clearActiveClass(u(C));continue}const O=C.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&O){if(p(C),!E)return}else w||O||p(C)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=z.find(Lc,this._config.target);for(const u of a){if(!u.hash||d(u))continue;const p=z.findOne(decodeURI(u.hash),this._element);h(p)&&(this._targetLinks.set(decodeURI(u.hash),u),this._observableSections.set(u.hash,p))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(Bi),this._activateParents(a),A.trigger(this._element,kw,{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))z.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(Bi);else for(const u of z.parents(a,".nav, .list-group"))for(const p of z.prev(u,xw))p.classList.add(Bi)}_clearActiveClass(a){a.classList.remove(Bi);const u=z.find(`${Lc}.${Bi}`,a);for(const p of u)p.classList.remove(Bi)}static jQueryInterface(a){return this.each(function(){const u=Kr.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);u[a]()}})}}A.on(window,Dw,()=>{for(const f of z.find('[data-bs-spy="scroll"]'))Kr.getOrCreateInstance(f)}),F(Kr);const Qs=".bs.tab",$w=`hide${Qs}`,Fw=`hidden${Qs}`,Uw=`show${Qs}`,Hw=`shown${Qs}`,Vw=`click${Qs}`,Ww=`keydown${Qs}`,jw=`load${Qs}`,Bw="ArrowLeft",ep="ArrowRight",Kw="ArrowUp",tp="ArrowDown",Mc="Home",np="End",Xs="active",sp="fade",$c="show",ip=".dropdown-toggle",Fc=`:not(${ip})`,rp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Uc=`.nav-link${Fc}, .list-group-item${Fc}, [role="tab"]${Fc}, ${rp}`,zw=`.${Xs}[data-bs-toggle="tab"], .${Xs}[data-bs-toggle="pill"], .${Xs}[data-bs-toggle="list"]`;class Js extends Ke{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),A.on(this._element,Ww,u=>this._keydown(u)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const u=this._getActiveElem(),p=u?A.trigger(u,$w,{relatedTarget:a}):null;A.trigger(a,Uw,{relatedTarget:u}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(u,a),this._activate(a,u))}_activate(a,u){a&&(a.classList.add(Xs),this._activate(z.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),A.trigger(a,Hw,{relatedTarget:u})):a.classList.add($c)},a,a.classList.contains(sp)))}_deactivate(a,u){a&&(a.classList.remove(Xs),a.blur(),this._deactivate(z.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),A.trigger(a,Fw,{relatedTarget:u})):a.classList.remove($c)},a,a.classList.contains(sp)))}_keydown(a){if(![Bw,ep,Kw,tp,Mc,np].includes(a.key))return;a.stopPropagation(),a.preventDefault();const u=this._getChildren().filter(E=>!d(E));let p;if([Mc,np].includes(a.key))p=u[a.key===Mc?0:u.length-1];else{const E=[ep,tp].includes(a.key);p=x(u,a.target,E,!0)}p&&(p.focus({preventScroll:!0}),Js.getOrCreateInstance(p).show())}_getChildren(){return z.find(Uc,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,u){this._setAttributeIfNotExists(a,"role","tablist");for(const p of u)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const u=this._elemIsActive(a),p=this._getOuterElement(a);a.setAttribute("aria-selected",u),p!==a&&this._setAttributeIfNotExists(p,"role","presentation"),u||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const u=z.getElementFromSelector(a);u&&(this._setAttributeIfNotExists(u,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(u,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,u){const p=this._getOuterElement(a);if(!p.classList.contains("dropdown"))return;const E=(w,C)=>{const O=z.findOne(w,p);O&&O.classList.toggle(C,u)};E(ip,Xs),E(".dropdown-menu",$c),p.setAttribute("aria-expanded",u)}_setAttributeIfNotExists(a,u,p){a.hasAttribute(u)||a.setAttribute(u,p)}_elemIsActive(a){return a.classList.contains(Xs)}_getInnerElement(a){return a.matches(Uc)?a:z.findOne(Uc,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const u=Js.getOrCreateInstance(this);if(typeof a=="string"){if(u[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);u[a]()}})}}A.on(document,Vw,rp,function(f){["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this)||Js.getOrCreateInstance(this).show()}),A.on(window,jw,()=>{for(const f of z.find(zw))Js.getOrCreateInstance(f)}),F(Js);const ds=".bs.toast",qw=`mouseover${ds}`,Gw=`mouseout${ds}`,Yw=`focusin${ds}`,Qw=`focusout${ds}`,Xw=`hide${ds}`,Jw=`hidden${ds}`,Zw=`show${ds}`,eT=`shown${ds}`,op="hide",wa="show",Ta="showing",tT={animation:"boolean",autohide:"boolean",delay:"number"},nT={animation:!0,autohide:!0,delay:5e3};class zr extends Ke{constructor(a,u){super(a,u),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nT}static get DefaultType(){return tT}static get NAME(){return"toast"}show(){A.trigger(this._element,Zw).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(op),v(this._element),this._element.classList.add(wa,Ta),this._queueCallback(()=>{this._element.classList.remove(Ta),A.trigger(this._element,eT),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(A.trigger(this._element,Xw).defaultPrevented||(this._element.classList.add(Ta),this._queueCallback(()=>{this._element.classList.add(op),this._element.classList.remove(Ta,wa),A.trigger(this._element,Jw)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wa),super.dispose()}isShown(){return this._element.classList.contains(wa)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,u){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=u;break;case"focusin":case"focusout":this._hasKeyboardInteraction=u}if(u)return void this._clearTimeout();const p=a.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){A.on(this._element,qw,a=>this._onInteraction(a,!0)),A.on(this._element,Gw,a=>this._onInteraction(a,!1)),A.on(this._element,Yw,a=>this._onInteraction(a,!0)),A.on(this._element,Qw,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const u=zr.getOrCreateInstance(this,a);if(typeof a=="string"){if(u[a]===void 0)throw new TypeError(`No method named "${a}"`);u[a](this)}})}}return hn(zr),F(zr),{Alert:y,Button:N,Carousel:Di,Collapse:Li,Dropdown:dn,Modal:Gs,Offcanvas:Vn,Popover:Ea,ScrollSpy:Kr,Tab:Js,Toast:zr,Tooltip:Ys}})}(Ga)),Ga.exports}var Ju=PN();const Wv=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},RN={class:"container mt-5"},kN={class:"row justify-content-center"},DN={class:"col-md-6"},xN={class:"card"},LN={class:"card-body"},MN={class:"mb-3"},$N={class:"mb-3"},FN={key:0,class:"alert alert-danger",role:"alert"},UN={class:"text-end mb-3"},HN=["disabled"],VN={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},WN={class:"mb-3"},jN={class:"mb-3"},BN={class:"mb-3"},KN={class:"mb-3"},zN=["disabled"],qN={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},GN={class:"modal fade",id:"feedbackModal",tabindex:"-1","aria-labelledby":"feedbackModalLabel","aria-hidden":"true"},YN={class:"modal-dialog"},QN={class:"modal-content"},XN={class:"modal-header"},JN={class:"modal-title",id:"feedbackModalLabel"},ZN={class:"modal-body"},e0={__name:"Auth",setup(t){const e=pr(),n=ct(!1),s=ct({email:"",password:""}),i=ct({email:"",password:"",confirmPassword:""}),r=ct(!1),o=ct(""),l=ct(null),c=ct(""),h=ct("");Wl(()=>{const v=document.getElementById("feedbackModal");v&&(l.value=new Ju.Modal(v))});const d=(v,b)=>{c.value=v,h.value=b,l.value&&(l.value.show(),setTimeout(()=>{l.value&&l.value.hide()},3e3))},_=async()=>{o.value="",r.value=!0;try{const{email:v,password:b}=s.value;await pO(e,v,b),console.log("登录成功")}catch(v){switch(v.code){case"auth/invalid-credential":o.value="邮箱或密码错误";break;case"auth/too-many-requests":o.value="登录尝试次数过多，请稍后再试";break;default:o.value="登录失败，请重试"}}finally{r.value=!1}},g=async()=>{o.value="",r.value=!0;try{const{email:v,password:b,confirmPassword:T}=i.value;if(b!==T){d("注册失败","两次输入的密码不一致");return}await fO(e,v,b),d("注册成功","账号创建成功！"),i.value={email:"",password:"",confirmPassword:""}}catch(v){switch(v.code){case"auth/email-already-in-use":d("注册失败","该邮箱已被注册");break;case"auth/weak-password":d("注册失败","密码强度太弱，请使用至少6位字符");break;default:d("注册失败","注册失败，请重试")}}finally{r.value=!1}};return(v,b)=>(dt(),Bt("div",RN,[b[16]||(b[16]=M("h1",{class:"text-center game-title mb-4"},"迷你DNF",-1)),M("div",kN,[M("div",DN,[M("div",xN,[M("div",LN,[n.value?(dt(),Bt("form",{key:1,onSubmit:no(g,["prevent"])},[M("div",WN,[b[10]||(b[10]=M("label",{for:"registerEmail",class:"form-label"},"邮箱",-1)),ri(M("input",{type:"email",class:"form-control",id:"registerEmail","onUpdate:modelValue":b[3]||(b[3]=T=>i.value.email=T),required:""},null,512),[[Xi,i.value.email]])]),M("div",jN,[b[11]||(b[11]=M("label",{for:"registerPassword",class:"form-label"},"密码",-1)),ri(M("input",{type:"password",class:"form-control",id:"registerPassword","onUpdate:modelValue":b[4]||(b[4]=T=>i.value.password=T),required:""},null,512),[[Xi,i.value.password]])]),M("div",BN,[b[12]||(b[12]=M("label",{for:"confirmPassword",class:"form-label"},"确认密码",-1)),ri(M("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":b[5]||(b[5]=T=>i.value.confirmPassword=T),required:""},null,512),[[Xi,i.value.confirmPassword]])]),M("div",KN,[M("a",{href:"#",class:"text-primary",onClick:b[6]||(b[6]=no(T=>n.value=!1,["prevent"]))},"返回登录")]),M("button",{type:"submit",class:"btn btn-primary w-100",disabled:r.value},[r.value?(dt(),Bt("span",qN)):cr("",!0),b[13]||(b[13]=Co(" 注册 "))],8,zN)],32)):(dt(),Bt("form",{key:0,onSubmit:no(_,["prevent"])},[M("div",MN,[b[7]||(b[7]=M("label",{for:"loginEmail",class:"form-label"},"邮箱",-1)),ri(M("input",{type:"email",class:"form-control",id:"loginEmail","onUpdate:modelValue":b[0]||(b[0]=T=>s.value.email=T),required:""},null,512),[[Xi,s.value.email]])]),M("div",$N,[b[8]||(b[8]=M("label",{for:"loginPassword",class:"form-label"},"密码",-1)),ri(M("input",{type:"password",class:"form-control",id:"loginPassword","onUpdate:modelValue":b[1]||(b[1]=T=>s.value.password=T),required:""},null,512),[[Xi,s.value.password]])]),o.value?(dt(),Bt("div",FN,Bn(o.value),1)):cr("",!0),M("div",UN,[M("a",{href:"#",class:"text-primary",onClick:b[2]||(b[2]=no(T=>n.value=!0,["prevent"]))},"没有账号？点此注册")]),M("button",{type:"submit",class:"btn btn-primary w-100",disabled:r.value},[r.value?(dt(),Bt("span",VN)):cr("",!0),b[9]||(b[9]=Co(" 登录 "))],8,HN)],32))])])])]),M("div",GN,[M("div",YN,[M("div",QN,[M("div",XN,[M("h5",JN,Bn(c.value),1),b[14]||(b[14]=M("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),M("div",ZN,Bn(h.value),1),b[15]||(b[15]=M("div",{class:"modal-footer"},[M("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"确定")],-1))])])])]))}},t0=Wv(e0,[["__scopeId","data-v-89cf517a"]]);var I_={};const A_="@firebase/database",S_="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv="";function n0(t){jv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ao(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ls(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new s0(e)}}catch{}return new i0},ai=Bv("localStorage"),r0=Bv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Fh("@firebase/database"),o0=function(){let t=1;return function(){return t++}}(),Kv=function(t){const e=lA(t),n=new iA;n.update(e);const s=n.digest();return xh.encodeByteArray(s)},qo=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=qo.apply(null,s):typeof s=="object"?e+=et(s):e+=s,e+=" "}return e};let fo=null,O_=!0;const a0=function(t,e){$(!0,"Can't turn on custom loggers persistently."),_r.logLevel=xe.VERBOSE,fo=_r.log.bind(_r)},ft=function(...t){if(O_===!0&&(O_=!1,fo===null&&r0.get("logging_enabled")===!0&&a0()),fo){const e=qo.apply(null,t);fo(e)}},Go=function(t){return function(...e){ft(t,...e)}},Zu=function(...t){const e="FIREBASE INTERNAL ERROR: "+qo(...t);_r.error(e)},is=function(...t){const e=`FIREBASE FATAL ERROR: ${qo(...t)}`;throw _r.error(e),new Error(e)},xt=function(...t){const e="FIREBASE WARNING: "+qo(...t);_r.warn(e)},l0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},c0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},br="[MIN_NAME]",yi="[MAX_NAME]",Dr=function(t,e){if(t===e)return 0;if(t===br||e===yi)return-1;if(e===br||t===yi)return 1;{const n=N_(t),s=N_(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},u0=function(t,e){return t===e?0:t<e?-1:1},Yr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+et(e))},Qh=function(t){if(typeof t!="object"||t===null)return et(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=et(e[s]),n+=":",n+=Qh(t[e[s]]);return n+="}",n},qv=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Gv=function(t){$(!zv(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,l,c;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=l+s,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const h=[];for(c=n;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)h.push(r%2?1:0),r=Math.floor(r/2);h.push(i?1:0),h.reverse();const d=h.join("");let _="";for(c=0;c<64;c+=8){let g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),_=_+g}return _.toLowerCase()},h0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},d0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const p0=new RegExp("^-?(0*)\\d{1,10}$"),_0=-2147483648,g0=2147483647,N_=function(t){if(p0.test(t)){const e=Number(t);if(e>=_0&&e<=g0)return e}return null},xr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xt("Exception was thrown by user callback.",n),e},Math.floor(0))}},m0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},po=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}class Ya{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ya.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="5",Yv="v",Qv="s",Xv="r",Jv="f",Zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ey="ls",ty="p",eh="ac",ny="websocket",sy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,s,i,r=!1,o="",l=!1,c=!1,h=null){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function b0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ry(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let s;if(e===ny)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sy)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);b0(t)&&(n.ns=t.namespace);const i=[];return Lt(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.counters_={}}incrementCounter(e,n=1){ls(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={},lu={};function Jh(t){const e=t.toString();return au[e]||(au[e]=new E0),au[e]}function w0(t,e){const n=t.toString();return lu[n]||(lu[n]=e()),lu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&xr(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="start",C0="close",I0="pLPCommand",A0="pRTLPCB",oy="id",ay="pw",ly="ser",S0="cb",O0="seg",N0="ts",P0="d",R0="dframe",cy=1870,uy=30,k0=cy-uy,D0=25e3,x0=3e4;class nr{constructor(e,n,s,i,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Go(e),this.stats_=Jh(n),this.urlFn=c=>(this.appCheckToken&&(c[eh]=this.appCheckToken),ry(n,sy,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new T0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(x0)),c0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zh((...r)=>{const[o,l,c,h,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===P_)this.id=l,this.password=c;else if(o===C0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[P_]="t",s[ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[S0]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Yv]=Xh,this.transportSessionId&&(s[Qv]=this.transportSessionId),this.lastSessionId&&(s[ey]=this.lastSessionId),this.applicationId&&(s[ty]=this.applicationId),this.appCheckToken&&(s[eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(s[Xv]=Jv);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nr.forceAllow_=!0}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){return nr.forceAllow_?!0:!nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!h0()&&!d0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Gm(n),i=qv(s,k0);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[R0]="t",s[oy]=e,s[ay]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zh{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o0(),window[I0+this.uniqueCallbackIdentifier]=e,window[A0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zh.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ft("frame writing exception"),l.stack&&ft(l.stack),ft(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oy]=this.myID,e[ay]=this.myPW,e[ly]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uy+s.length<=cy;){const o=this.pendingSegs.shift();s=s+"&"+O0+i+"="+o.seg+"&"+N0+i+"="+o.ts+"&"+P0+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(D0)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=16384,M0=45e3;let vl=null;typeof MozWebSocket<"u"?vl=MozWebSocket:typeof WebSocket<"u"&&(vl=WebSocket);class pn{constructor(e,n,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Go(this.connId),this.stats_=Jh(n),this.connURL=pn.connectionURL_(n,o,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Yv]=Xh,typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(o[Xv]=Jv),n&&(o[Qv]=n),s&&(o[ey]=s),i&&(o[eh]=i),r&&(o[ty]=r),ry(e,ny,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ai.set("previous_websocket_failure",!0);try{let s;QI(),this.mySock=new vl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&vl!==null&&!pn.forceDisallow_}static previouslyFailed(){return ai.isInMemoryStorage||ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){ai.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ao(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=qv(n,L0);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(M0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static get ALL_TRANSPORTS(){return[nr,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=pn&&pn.isAvailable();let s=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[pn];else{const i=this.transports_=[];for(const r of Po.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Po.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Po.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=6e4,F0=5e3,U0=10*1024,H0=100*1024,cu="t",R_="d",V0="s",k_="r",W0="e",D_="o",x_="a",L_="n",M_="p",j0="h";class B0{constructor(e,n,s,i,r,o,l,c,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Go("c:"+this.id+":"),this.transportManager_=new Po(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>H0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>U0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cu in e){const n=e[cu];n===x_?this.upgradeIfSecondaryHealthy_():n===k_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===D_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yr("t",e),s=Yr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:M_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:L_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yr("t",e),s=Yr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yr(cu,e);if(R_ in e){const s=e[R_];if(n===j0){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===L_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===V0?this.onConnectionShutdown_(s):n===k_?this.onReset_(s):n===W0?Zu("Server Error: "+s):n===D_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xh!==s&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:M_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends dy{static getInstance(){return new yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=32,F_=768;class $e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new $e("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ns(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $e(t.pieces_,e)}function fy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function K0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function py(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _y(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $e(e,0)}function tt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof $e)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new $e(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return Ct(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gy(t,e){if(Ns(t)!==Ns(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function _n(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Ns(t)>Ns(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class z0{constructor(e,n){this.errorPrefix_=n,this.parts_=py(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ql(this.parts_[s]);my(this)}}function q0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ql(e),my(t)}function G0(t){const e=t.parts_.pop();t.byteLength_-=ql(e),t.parts_.length>0&&(t.byteLength_-=1)}function my(t){if(t.byteLength_>F_)throw new Error(t.errorPrefix_+"has a key path longer than "+F_+" bytes ("+t.byteLength_+").");if(t.parts_.length>$_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$_+") or object contains a cycle "+ii(t))}function ii(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends dy{static getInstance(){return new ed}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=1e3,Y0=60*5*1e3,U_=30*1e3,Q0=1.3,X0=3e4,J0="server_kill",H_=3;class Zn extends hy{constructor(e,n,s,i,r,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Zn.nextPersistentConnectionId_++,this.log_=Go("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qr,this.maxReconnectDelay_=Y0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ed.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(et(r)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new zl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const c=l.d,h=l.s;Zn.warnOnListenWarnings_(c,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ls(e,"w")){const s=vr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=U_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nA(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zu("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X0&&(this.reconnectDelay_=Qr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Q0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Zn.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,s())},h=function(_){$(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(_)};this.realtime_={close:c,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=g&&g.token,l=new B0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,v=>{xt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(J0)},r))}catch(_){this.log_("Failed to get token: "+_),o||(this.repoInfo_.nodeAdmin&&xt(_),c())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wu(this.interruptReasons_)&&(this.reconnectDelay_=Qr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Qh(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new $e(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=H_&&(this.reconnectDelay_=U_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=H_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jv.replace(/\./g,"-")]=1,Mh()?e["framework.cordova"]=1:Zm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return Wu(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ge(br,e),i=new ge(br,n);return this.compare(s,i)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class vy extends Xl{static get __EMPTY_NODE(){return Ra}static set __EMPTY_NODE(e){Ra=e}compare(e,n){return Dr(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ge.MIN}maxPost(){return new ge(yi,Ra)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,Ra)}toString(){return".key"}}const gr=new vy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ot.RED,this.left=i??Dt.EMPTY_NODE,this.right=r??Dt.EMPTY_NODE}copy(e,n,s,i,r){return new ot(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class Z0{copy(e,n,s,i,r){return this}insert(e,n,s){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(e,n=Dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ka(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ka(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ka(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ka(this.root_,null,this.comparator_,!0,e)}}Dt.EMPTY_NODE=new Z0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){return Dr(t.name,e.name)}function td(t,e){return Dr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;function tP(t){th=t}const yy=function(t){return typeof t=="number"?"number:"+Gv(t):"string:"+t},by=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ls(e,".sv"),"Priority must be a string or number.")}else $(t===th||t.isEmpty(),"priority of unexpected type.");$(t===th||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_;class rt{static set __childrenNodeConstructor(e){V_=e}static get __childrenNodeConstructor(){return V_}constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),by(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:ve(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:($(s!==".priority"||Ns(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Gv(this.value_):e+=this.value_,this.lazyHash_=Kv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=rt.VALUE_TYPE_ORDER.indexOf(n),r=rt.VALUE_TYPE_ORDER.indexOf(s);return $(i>=0,"Unknown leaf type: "+n),$(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey,wy;function nP(t){Ey=t}function sP(t){wy=t}class iP extends Xl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Dr(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(yi,new rt("[PRIORITY-POST]",wy))}makePost(e,n){const s=Ey(e);return new ge(n,new rt("[PRIORITY-POST]",s))}toString(){return".priority"}}const qe=new iP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=Math.log(2);class oP{constructor(e){const n=r=>parseInt(Math.log(r)/rP,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bl=function(t,e,n,s){t.sort(e);const i=function(c,h){const d=h-c;let _,g;if(d===0)return null;if(d===1)return _=t[c],g=n?n(_):_,new ot(g,_.node,ot.BLACK,null,null);{const v=parseInt(d/2,10)+c,b=i(c,v),T=i(v+1,h);return _=t[v],g=n?n(_):_,new ot(g,_.node,ot.BLACK,b,T)}},r=function(c){let h=null,d=null,_=t.length;const g=function(b,T){const D=_-b,F=_;_-=b;const V=i(D+1,F),Y=t[D],x=n?n(Y):Y;v(new ot(x,Y.node,T,null,V))},v=function(b){h?(h.left=b,h=b):(d=b,h=b)};for(let b=0;b<c.count;++b){const T=c.nextBitIsOne(),D=Math.pow(2,c.count-(b+1));T?g(D,ot.BLACK):(g(D,ot.BLACK),g(D,ot.RED))}return d},o=new oP(t.length),l=r(o);return new Dt(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;const qi={};class Qn{static get Default(){return $(qi&&qe,"ChildrenNode.ts has not been loaded"),uu=uu||new Qn({".priority":qi},{".priority":qe}),uu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=vr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dt?n:null}hasIndex(e){return ls(this.indexSet_,e.toString())}addIndex(e,n){$(e!==gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(ge.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=bl(s,e.getCompare()):l=qi;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new Qn(d,h)}addToIndexes(e,n){const s=hl(this.indexes_,(i,r)=>{const o=vr(this.indexSet_,r);if($(o,"Missing index implementation for "+r),i===qi)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(ge.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),bl(l,o.getCompare())}else return qi;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new ge(e.name,l))),c.insert(e,e.node)}});return new Qn(s,this.indexSet_)}removeFromIndexes(e,n){const s=hl(this.indexes_,i=>{if(i===qi)return i;{const r=n.get(e.name);return r?i.remove(new ge(e.name,r)):i}});return new Qn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;class ne{static get EMPTY_NODE(){return Xr||(Xr=new ne(new Dt(td),null,Qn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&by(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xr}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xr:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ge(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Xr:this.priorityNode_;return new ne(i,o,r)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{$(ve(e)!==".priority"||Ns(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(He(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(qe,(o,l)=>{n[o]=l.val(e),s++,r&&ne.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yy(this.getPriority().val())+":"),this.forEachChild(qe,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Kv(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new ge(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ge(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ge.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yo?-1:0}withIndex(e){if(e===gr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===gr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(qe),i=n.getIterator(qe);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===gr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aP extends ne{constructor(){super(new Dt(td),ne.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Yo=new aP;Object.defineProperties(ge,{MIN:{value:new ge(br,ne.EMPTY_NODE)},MAX:{value:new ge(yi,Yo)}});vy.__EMPTY_NODE=ne.EMPTY_NODE;rt.__childrenNodeConstructor=ne;tP(Yo);sP(Yo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=!0;function at(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,at(e))}if(!(t instanceof Array)&&lP){const n=[];let s=!1;if(Lt(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=at(l);c.isEmpty()||(s=s||!c.getPriority().isEmpty(),n.push(new ge(o,c)))}}),n.length===0)return ne.EMPTY_NODE;const r=bl(n,eP,o=>o.name,td);if(s){const o=bl(n,qe.getCompare());return new ne(r,at(e),new Qn({".priority":o},{".priority":qe}))}else return new ne(r,at(e),Qn.Default)}else{let n=ne.EMPTY_NODE;return Lt(t,(s,i)=>{if(ls(t,s)&&s.substring(0,1)!=="."){const r=at(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(at(e))}}nP(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends Xl{constructor(e){super(),this.indexPath_=e,$(!me(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Dr(e.name,n.name):r}makePost(e,n){const s=at(e),i=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new ge(n,i)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Yo);return new ge(yi,e)}toString(){return py(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP extends Xl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Dr(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,n){const s=at(e);return new ge(n,s)}toString(){return".value"}}const hP=new uP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){return{type:"value",snapshotNode:t}}function Er(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ro(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ko(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Ro(n,l)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Er(n,s)):o.trackChildChange(ko(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(qe,(i,r)=>{n.hasChild(i)||s.trackChildChange(Ro(i,r))}),n.isLeafNode()||n.forEachChild(qe,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(ko(i,r,o))}else s.trackChildChange(Er(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.indexedFilter_=new nd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Do.getStartPost_(e),this.endPost_=Do.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new ge(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);const r=this;return n.forEachChild(qe,(o,l)=>{r.matches(new ge(o,l))||(i=i.updateImmediateChild(o,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Do(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new ge(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const _=this.index_.getCompare();o=(g,v)=>_(v,g)}else o=this.index_.getCompare();const l=e;$(l.numChildren()===this.limit_,"");const c=new ge(n,s),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(n)){const _=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,c);if(d&&!s.isEmpty()&&v>=0)return r!=null&&r.trackChildChange(ko(n,s,_)),l.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(Ro(n,_));const T=l.updateImmediateChild(n,ne.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(r!=null&&r.trackChildChange(Er(g.name,g.node)),T.updateImmediateChild(g.name,g.node)):T}}else return s.isEmpty()?e:d&&o(h,c)>=0?(r!=null&&(r.trackChildChange(Ro(h.name,h.node)),r.trackChildChange(Er(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(h.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:br}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pP(t){return t.loadsAllData()?new nd(t.getIndex()):t.hasLimit()?new fP(t):new Do(t)}function W_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===hP?n="$value":t.index_===gr?n="$key":($(t.index_ instanceof cP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=et(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=et(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+et(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=et(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function j_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends hy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Go("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=El.getListenId_(e,s),l={};this.listens_[o]=l;const c=W_(e._queryParams);this.restRequest_(r+".json",c,(h,d)=>{let _=d;if(h===404&&(_=null,h=null),h===null&&this.onDataUpdate_(r,_,!1,s),vr(this.listens_,o)===l){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,n){const s=El.getListenId_(e,n);delete this.listens_[s]}get(e){const n=W_(e._queryParams),s=e._path.toString(),i=new zl;return this.restRequest_(s+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pr(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Ao(l.responseText)}catch{xt("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,c)}else l.status!==401&&l.status!==404&&xt("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function Cy(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,wl());const i=t.children.get(s);e=He(e),Cy(i,e,n)}}function nh(t,e,n){t.value!==null?n(e,t.value):gP(t,(s,i)=>{const r=new $e(e.toString()+"/"+s);nh(i,r,n)})}function gP(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Lt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=10*1e3,vP=30*1e3,yP=5*60*1e3;class bP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mP(e);const s=B_+(vP-B_)*Math.random();po(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Lt(e,(i,r)=>{r>0&&ls(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),po(this.reportStats_.bind(this),Math.floor(Math.random()*2*yP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function Iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function id(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=gn.ACK_USER_WRITE,this.source=Iy()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $e(e));return new Tl(Ie(),n,this.revert)}}else return $(ve(this.path)===e,"operationForChild called for unrelated child."),new Tl(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.source=e,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new xo(this.source,Ie()):new xo(this.source,He(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=gn.OVERWRITE}operationForChild(e){return me(this.path)?new bi(this.source,Ie(),this.snap.getImmediateChild(e)):new bi(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=gn.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new $e(e));return n.isEmpty()?null:n.value?new bi(this.source,Ie(),n.value):new Lo(this.source,Ie(),n)}else return $(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lo(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wP(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(dP(o.childName,o.snapshotNode))}),Jr(t,i,"child_removed",e,s,n),Jr(t,i,"child_added",e,s,n),Jr(t,i,"child_moved",r,s,n),Jr(t,i,"child_changed",e,s,n),Jr(t,i,"value",e,s,n),i}function Jr(t,e,n,s,i,r){const o=s.filter(l=>l.type===n);o.sort((l,c)=>CP(t,l,c)),o.forEach(l=>{const c=TP(t,l,r);i.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,t.query_))})})}function TP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CP(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");const s=new ge(e.childName,e.snapshotNode),i=new ge(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t,e){return{eventCache:t,serverCache:e}}function _o(t,e,n,s){return Jl(new Ps(e,n,s),t.serverCache)}function Ay(t,e,n,s){return Jl(t.eventCache,new Ps(e,n,s))}function Cl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;const IP=()=>(hu||(hu=new Dt(u0)),hu);class Ve{static fromObject(e){let n=new Ve(null);return Lt(e,(s,i)=>{n=n.set(new $e(s),i)}),n}constructor(e,n=IP()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(me(e))return null;{const s=ve(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(He(e),n);return r!=null?{path:tt(new $e(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(He(e)):new Ve(null)}}set(e,n){if(me(e))return new Ve(n,this.children);{const s=ve(e),r=(this.children.get(s)||new Ve(null)).set(He(e),n),o=this.children.insert(s,r);return new Ve(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const i=s.remove(He(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new Ve(null):new Ve(this.value,r)}else return this}}get(e){if(me(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(He(e)):null}}setTree(e,n){if(me(e))return n;{const s=ve(e),r=(this.children.get(s)||new Ve(null)).setTree(He(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new Ve(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(tt(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(me(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_(He(e),tt(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const i=ve(e),r=this.children.get(i);return r?r.foreachOnPath_(He(e),tt(n,i),s):new Ve(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(tt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.writeTree_=e}static empty(){return new vn(new Ve(null))}}function go(t,e,n){if(me(e))return new vn(new Ve(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Ct(i,e);return r=r.updateChild(o,n),new vn(t.writeTree_.set(i,r))}else{const i=new Ve(n),r=t.writeTree_.setTree(e,i);return new vn(r)}}}function K_(t,e,n){let s=t;return Lt(n,(i,r)=>{s=go(s,tt(e,i),r)}),s}function z_(t,e){if(me(e))return vn.empty();{const n=t.writeTree_.setTree(e,new Ve(null));return new vn(n)}}function sh(t,e){return Oi(t,e)!=null}function Oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function q_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(s,i)=>{e.push(new ge(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new ge(s,i.value))}),e}function As(t,e){if(me(e))return t;{const n=Oi(t,e);return n!=null?new vn(new Ve(n)):new vn(t.writeTree_.subtree(e))}}function ih(t){return t.writeTree_.isEmpty()}function wr(t,e){return Sy(Ie(),t.writeTree_,e)}function Sy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?($(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Sy(tt(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(tt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t,e){return Ry(e,t)}function AP(t,e,n,s,i){$(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=go(t.visibleWrites,e,n)),t.lastWriteId=s}function SP(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function OP(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&NP(l,s.path)?i=!1:_n(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return PP(t),!0;if(s.snap)t.visibleWrites=z_(t.visibleWrites,s.path);else{const l=s.children;Lt(l,c=>{t.visibleWrites=z_(t.visibleWrites,tt(s.path,c))})}return!0}else return!1}function NP(t,e){if(t.snap)return _n(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_n(tt(t.path,n),e))return!0;return!1}function PP(t){t.visibleWrites=Oy(t.allWrites,RP,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RP(t){return t.visible}function Oy(t,e,n){let s=vn.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let l;if(r.snap)_n(n,o)?(l=Ct(n,o),s=go(s,l,r.snap)):_n(o,n)&&(l=Ct(o,n),s=go(s,Ie(),r.snap.getChild(l)));else if(r.children){if(_n(n,o))l=Ct(n,o),s=K_(s,l,r.children);else if(_n(o,n))if(l=Ct(o,n),me(l))s=K_(s,Ie(),r.children);else{const c=vr(r.children,ve(l));if(c){const h=c.getChild(He(l));s=go(s,Ie(),h)}}}else throw Nr("WriteRecord should have .snap or .children")}}return s}function Ny(t,e,n,s,i){if(!s&&!i){const r=Oi(t.visibleWrites,e);if(r!=null)return r;{const o=As(t.visibleWrites,e);if(ih(o))return n;if(n==null&&!sh(o,Ie()))return null;{const l=n||ne.EMPTY_NODE;return wr(o,l)}}}else{const r=As(t.visibleWrites,e);if(!i&&ih(r))return n;if(!i&&n==null&&!sh(r,Ie()))return null;{const o=function(h){return(h.visible||i)&&(!s||!~s.indexOf(h.writeId))&&(_n(h.path,e)||_n(e,h.path))},l=Oy(t.allWrites,o,e),c=n||ne.EMPTY_NODE;return wr(l,c)}}}function kP(t,e,n){let s=ne.EMPTY_NODE;const i=Oi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qe,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=As(t.visibleWrites,e);return n.forEachChild(qe,(o,l)=>{const c=wr(As(r,new $e(o)),l);s=s.updateImmediateChild(o,c)}),q_(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=As(t.visibleWrites,e);return q_(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function DP(t,e,n,s,i){$(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=tt(e,n);if(sh(t.visibleWrites,r))return null;{const o=As(t.visibleWrites,r);return ih(o)?i.getChild(n):wr(o,i.getChild(n))}}function xP(t,e,n,s){const i=tt(e,n),r=Oi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=As(t.visibleWrites,i);return wr(o,s.getNode().getImmediateChild(n))}else return null}function LP(t,e){return Oi(t.visibleWrites,e)}function MP(t,e,n,s,i,r,o){let l;const c=As(t.visibleWrites,e),h=Oi(c,Ie());if(h!=null)l=h;else if(n!=null)l=wr(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],_=o.getCompare(),g=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let v=g.getNext();for(;v&&d.length<i;)_(v,s)!==0&&d.push(v),v=g.getNext();return d}else return[]}function $P(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function Il(t,e,n,s){return Ny(t.writeTree,t.treePath,e,n,s)}function od(t,e){return kP(t.writeTree,t.treePath,e)}function G_(t,e,n,s){return DP(t.writeTree,t.treePath,e,n,s)}function Al(t,e){return LP(t.writeTree,tt(t.treePath,e))}function FP(t,e,n,s,i,r){return MP(t.writeTree,t.treePath,e,n,s,i,r)}function ad(t,e,n){return xP(t.writeTree,t.treePath,e,n)}function Py(t,e){return Ry(tt(t.treePath,e),t.writeTree)}function Ry(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,ko(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Ro(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Er(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,ko(s,e.snapshotNode,i.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const ky=new HP;class ld{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ps(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ad(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ei(this.viewCache_),r=FP(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){return{filter:t}}function WP(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jP(t,e,n,s,i){const r=new UP;let o,l;if(n.type===gn.OVERWRITE){const h=n;h.source.fromUser?o=rh(t,e,h.path,h.snap,s,i,r):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!me(h.path),o=Sl(t,e,h.path,h.snap,s,i,l,r))}else if(n.type===gn.MERGE){const h=n;h.source.fromUser?o=KP(t,e,h.path,h.children,s,i,r):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=oh(t,e,h.path,h.children,s,i,l,r))}else if(n.type===gn.ACK_USER_WRITE){const h=n;h.revert?o=GP(t,e,h.path,s,i,r):o=zP(t,e,h.path,h.affectedTree,s,i,r)}else if(n.type===gn.LISTEN_COMPLETE)o=qP(t,e,n.path,s,r);else throw Nr("Unknown operation type: "+n.type);const c=r.getChanges();return BP(e,o,c),{viewCache:o,changes:c}}function BP(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Cl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Ty(Cl(e)))}}function Dy(t,e,n,s,i,r){const o=e.eventCache;if(Al(s,n)!=null)return e;{let l,c;if(me(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Ei(e),d=h instanceof ne?h:ne.EMPTY_NODE,_=od(s,d);l=t.filter.updateFullNode(e.eventCache.getNode(),_,r)}else{const h=Il(s,Ei(e));l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const h=ve(n);if(h===".priority"){$(Ns(n)===1,"Can't have a priority with additional path components");const d=o.getNode();c=e.serverCache.getNode();const _=G_(s,n,d,c);_!=null?l=t.filter.updatePriority(d,_):l=o.getNode()}else{const d=He(n);let _;if(o.isCompleteForChild(h)){c=e.serverCache.getNode();const g=G_(s,n,o.getNode(),c);g!=null?_=o.getNode().getImmediateChild(h).updateChild(d,g):_=o.getNode().getImmediateChild(h)}else _=ad(s,h,e.serverCache);_!=null?l=t.filter.updateChild(o.getNode(),h,_,d,i,r):l=o.getNode()}}return _o(e,l,o.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function Sl(t,e,n,s,i,r,o,l){const c=e.serverCache;let h;const d=o?t.filter:t.filter.getIndexedFilter();if(me(n))h=d.updateFullNode(c.getNode(),s,null);else if(d.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,s);h=d.updateFullNode(c.getNode(),v,null)}else{const v=ve(n);if(!c.isCompleteForPath(n)&&Ns(n)>1)return e;const b=He(n),D=c.getNode().getImmediateChild(v).updateChild(b,s);v===".priority"?h=d.updatePriority(c.getNode(),D):h=d.updateChild(c.getNode(),v,D,b,ky,null)}const _=Ay(e,h,c.isFullyInitialized()||me(n),d.filtersNodes()),g=new ld(i,_,r);return Dy(t,_,n,i,g,l)}function rh(t,e,n,s,i,r,o){const l=e.eventCache;let c,h;const d=new ld(i,e,r);if(me(n))h=t.filter.updateFullNode(e.eventCache.getNode(),s,o),c=_o(e,h,!0,t.filter.filtersNodes());else{const _=ve(n);if(_===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),s),c=_o(e,h,l.isFullyInitialized(),l.isFiltered());else{const g=He(n),v=l.getNode().getImmediateChild(_);let b;if(me(g))b=s;else{const T=d.getCompleteChild(_);T!=null?fy(g)===".priority"&&T.getChild(_y(g)).isEmpty()?b=T:b=T.updateChild(g,s):b=ne.EMPTY_NODE}if(v.equals(b))c=e;else{const T=t.filter.updateChild(l.getNode(),_,b,g,d,o);c=_o(e,T,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Y_(t,e){return t.eventCache.isCompleteForChild(e)}function KP(t,e,n,s,i,r,o){let l=e;return s.foreach((c,h)=>{const d=tt(n,c);Y_(e,ve(d))&&(l=rh(t,l,d,h,i,r,o))}),s.foreach((c,h)=>{const d=tt(n,c);Y_(e,ve(d))||(l=rh(t,l,d,h,i,r,o))}),l}function Q_(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function oh(t,e,n,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;me(n)?h=s:h=new Ve(null).setTree(n,s);const d=e.serverCache.getNode();return h.children.inorderTraversal((_,g)=>{if(d.hasChild(_)){const v=e.serverCache.getNode().getImmediateChild(_),b=Q_(t,v,g);c=Sl(t,c,new $e(_),b,i,r,o,l)}}),h.children.inorderTraversal((_,g)=>{const v=!e.serverCache.isCompleteForChild(_)&&g.value===null;if(!d.hasChild(_)&&!v){const b=e.serverCache.getNode().getImmediateChild(_),T=Q_(t,b,g);c=Sl(t,c,new $e(_),T,i,r,o,l)}}),c}function zP(t,e,n,s,i,r,o){if(Al(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(s.value!=null){if(me(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Sl(t,e,n,c.getNode().getChild(n),i,r,l,o);if(me(n)){let h=new Ve(null);return c.getNode().forEachChild(gr,(d,_)=>{h=h.set(new $e(d),_)}),oh(t,e,n,h,i,r,l,o)}else return e}else{let h=new Ve(null);return s.foreach((d,_)=>{const g=tt(n,d);c.isCompleteForPath(g)&&(h=h.set(d,c.getNode().getChild(g)))}),oh(t,e,n,h,i,r,l,o)}}function qP(t,e,n,s,i){const r=e.serverCache,o=Ay(e,r.getNode(),r.isFullyInitialized()||me(n),r.isFiltered());return Dy(t,o,n,s,ky,i)}function GP(t,e,n,s,i,r){let o;if(Al(s,n)!=null)return e;{const l=new ld(s,e,i),c=e.eventCache.getNode();let h;if(me(n)||ve(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Il(s,Ei(e));else{const _=e.serverCache.getNode();$(_ instanceof ne,"serverChildren would be complete if leaf node"),d=od(s,_)}d=d,h=t.filter.updateFullNode(c,d,r)}else{const d=ve(n);let _=ad(s,d,e.serverCache);_==null&&e.serverCache.isCompleteForChild(d)&&(_=c.getImmediateChild(d)),_!=null?h=t.filter.updateChild(c,d,_,He(n),l,r):e.eventCache.getNode().hasChild(d)?h=t.filter.updateChild(c,d,ne.EMPTY_NODE,He(n),l,r):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Il(s,Ei(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,r)))}return o=e.serverCache.isFullyInitialized()||Al(s,Ie())!=null,_o(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new nd(s.getIndex()),r=pP(s);this.processor_=VP(r);const o=n.serverCache,l=n.eventCache,c=i.updateFullNode(ne.EMPTY_NODE,o.getNode(),null),h=r.updateFullNode(ne.EMPTY_NODE,l.getNode(),null),d=new Ps(c,o.isFullyInitialized(),i.filtersNodes()),_=new Ps(h,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Jl(_,d),this.eventGenerator_=new EP(this.query_)}get query(){return this.query_}}function QP(t){return t.viewCache_.serverCache.getNode()}function XP(t){return Cl(t.viewCache_)}function JP(t,e){const n=Ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function X_(t){return t.eventRegistrations_.length===0}function ZP(t,e){t.eventRegistrations_.push(e)}function J_(t,e,n){const s=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Z_(t,e,n,s){e.type===gn.MERGE&&e.source.queryId!==null&&($(Ei(t.viewCache_),"We should always have a full cache before handling merges"),$(Cl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=jP(t.processor_,i,e,n,s);return WP(t.processor_,r.viewCache),$(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,xy(t,r.changes,r.viewCache.eventCache.getNode(),null)}function eR(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qe,(r,o)=>{s.push(Er(r,o))}),n.isFullyInitialized()&&s.push(Ty(n.getNode())),xy(t,s,n.getNode(),e)}function xy(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return wP(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;class Ly{constructor(){this.views=new Map}}function tR(t){$(!Ol,"__referenceConstructor has already been defined"),Ol=t}function nR(){return $(Ol,"Reference.ts has not been loaded"),Ol}function sR(t){return t.views.size===0}function cd(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return $(r!=null,"SyncTree gave us an op for an invalid query."),Z_(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(Z_(o,e,n,s));return r}}function My(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Il(n,i?s:null),c=!1;l?c=!0:s instanceof ne?(l=od(n,s),c=!1):(l=ne.EMPTY_NODE,c=!1);const h=Jl(new Ps(l,c,!1),new Ps(s,i,!1));return new YP(e,h)}return o}function iR(t,e,n,s,i,r){const o=My(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ZP(o,n),eR(o,n)}function rR(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const l=Rs(t);if(i==="default")for(const[c,h]of t.views.entries())o=o.concat(J_(h,n,s)),X_(h)&&(t.views.delete(c),h.query._queryParams.loadsAllData()||r.push(h.query));else{const c=t.views.get(i);c&&(o=o.concat(J_(c,n,s)),X_(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||r.push(c.query)))}return l&&!Rs(t)&&r.push(new(nR())(e._repo,e._path)),{removed:r,events:o}}function $y(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ss(t,e){let n=null;for(const s of t.views.values())n=n||JP(s,e);return n}function Fy(t,e){if(e._queryParams.loadsAllData())return ec(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Uy(t,e){return Fy(t,e)!=null}function Rs(t){return ec(t)!=null}function ec(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;function oR(t){$(!Nl,"__referenceConstructor has already been defined"),Nl=t}function aR(){return $(Nl,"Reference.ts has not been loaded"),Nl}let lR=1;class eg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=$P(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hy(t,e,n,s,i){return AP(t.pendingWriteTree_,e,n,s,i),i?Xo(t,new bi(Iy(),e,n)):[]}function li(t,e,n=!1){const s=SP(t.pendingWriteTree_,e);if(OP(t.pendingWriteTree_,e)){let r=new Ve(null);return s.snap!=null?r=r.set(Ie(),!0):Lt(s.children,o=>{r=r.set(new $e(o),!0)}),Xo(t,new Tl(s.path,r,n))}else return[]}function Qo(t,e,n){return Xo(t,new bi(id(),e,n))}function cR(t,e,n){const s=Ve.fromObject(n);return Xo(t,new Lo(id(),e,s))}function uR(t,e){return Xo(t,new xo(id(),e))}function hR(t,e,n){const s=hd(t,n);if(s){const i=dd(s),r=i.path,o=i.queryId,l=Ct(r,e),c=new xo(rd(o),l);return fd(t,r,c)}else return[]}function Vy(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||Uy(o,e))){const c=rR(o,e,n,s);sR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const h=c.removed;if(l=c.events,!i){const d=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(r,(g,v)=>Rs(v));if(d&&!_){const g=t.syncPointTree_.subtree(r);if(!g.isEmpty()){const v=_R(g);for(let b=0;b<v.length;++b){const T=v[b],D=T.query,F=Ky(t,T);t.listenProvider_.startListening(mo(D),Mo(t,D),F.hashFn,F.onComplete)}}}!_&&h.length>0&&!s&&(d?t.listenProvider_.stopListening(mo(e),null):h.forEach(g=>{const v=t.queryToTagMap.get(tc(g));t.listenProvider_.stopListening(mo(g),v)}))}gR(t,h)}return l}function Wy(t,e,n,s){const i=hd(t,s);if(i!=null){const r=dd(i),o=r.path,l=r.queryId,c=Ct(o,e),h=new bi(rd(l),c,n);return fd(t,o,h)}else return[]}function dR(t,e,n,s){const i=hd(t,s);if(i){const r=dd(i),o=r.path,l=r.queryId,c=Ct(o,e),h=Ve.fromObject(n),d=new Lo(rd(l),c,h);return fd(t,o,d)}else return[]}function fR(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const b=Ct(g,i);r=r||Ss(v,b),o=o||Rs(v)});let l=t.syncPointTree_.get(i);l?(o=o||Rs(l),r=r||Ss(l,Ie())):(l=new Ly,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;r!=null?c=!0:(c=!1,r=ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,b)=>{const T=Ss(b,Ie());T&&(r=r.updateImmediateChild(v,T))}));const h=Uy(l,e);if(!h&&!e._queryParams.loadsAllData()){const g=tc(e);$(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=mR();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const d=Zl(t.pendingWriteTree_,i);let _=iR(l,e,n,d,r,c);if(!h&&!o&&!s){const g=Fy(l,e);_=_.concat(vR(t,e,g))}return _}function ud(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Ct(o,e),h=Ss(l,c);if(h)return h});return Ny(i,e,r,n,!0)}function pR(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(h,d)=>{const _=Ct(h,n);s=s||Ss(d,_)});let i=t.syncPointTree_.get(n);i?s=s||Ss(i,Ie()):(i=new Ly,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new Ps(s,!0,!1):null,l=Zl(t.pendingWriteTree_,e._path),c=My(i,e,l,r?o.getNode():ne.EMPTY_NODE,r);return XP(c)}function Xo(t,e){return jy(e,t.syncPointTree_,null,Zl(t.pendingWriteTree_,Ie()))}function jy(t,e,n,s){if(me(t.path))return By(t,e,n,s);{const i=e.get(Ie());n==null&&i!=null&&(n=Ss(i,Ie()));let r=[];const o=ve(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const h=n?n.getImmediateChild(o):null,d=Py(s,o);r=r.concat(jy(l,c,h,d))}return i&&(r=r.concat(cd(i,t,s,n))),r}}function By(t,e,n,s){const i=e.get(Ie());n==null&&i!=null&&(n=Ss(i,Ie()));let r=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,h=Py(s,o),d=t.operationForChild(o);d&&(r=r.concat(By(d,l,c,h)))}),i&&(r=r.concat(cd(i,t,s,n))),r}function Ky(t,e){const n=e.query,s=Mo(t,n);return{hashFn:()=>(QP(e)||ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?hR(t,n._path,s):uR(t,n._path);{const r=f0(i,n);return Vy(t,n,null,r)}}}}function Mo(t,e){const n=tc(e);return t.queryToTagMap.get(n)}function tc(t){return t._path.toString()+"$"+t._queryIdentifier}function hd(t,e){return t.tagToQueryMap.get(e)}function dd(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $e(t.substr(0,e))}}function fd(t,e,n){const s=t.syncPointTree_.get(e);$(s,"Missing sync point for query tag that we're tracking");const i=Zl(t.pendingWriteTree_,e);return cd(s,n,i,null)}function _R(t){return t.fold((e,n,s)=>{if(n&&Rs(n))return[ec(n)];{let i=[];return n&&(i=$y(n)),Lt(s,(r,o)=>{i=i.concat(o)}),i}})}function mo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aR())(t._repo,t._path):t}function gR(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=tc(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function mR(){return lR++}function vR(t,e,n){const s=e._path,i=Mo(t,e),r=Ky(t,n),o=t.listenProvider_.startListening(mo(e),i,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(s);if(i)$(!Rs(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((h,d,_)=>{if(!me(h)&&d&&Rs(d))return[ec(d).query];{let g=[];return d&&(g=g.concat($y(d).map(v=>v.query))),Lt(_,(v,b)=>{g=g.concat(b)}),g}});for(let h=0;h<c.length;++h){const d=c[h];t.listenProvider_.stopListening(mo(d),Mo(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pd(n)}node(){return this.node_}}class _d{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new _d(this.syncTree_,n)}node(){return ud(this.syncTree_,this.path_)}}const yR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tg=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ER(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},ER=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&$(!1,"Unexpected increment value: "+s);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},wR=function(t,e,n,s){return gd(e,new _d(n,t),s)},zy=function(t,e,n){return gd(t,new pd(e),n)};function gd(t,e,n){const s=t.getPriority().val(),i=tg(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=tg(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new rt(l,at(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new rt(i))),o.forEachChild(qe,(l,c)=>{const h=gd(c,e.getImmediateChild(l),n);h!==c&&(r=r.updateImmediateChild(l,h))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function vd(t,e){let n=e instanceof $e?e:new $e(e),s=t,i=ve(n);for(;i!==null;){const r=vr(s.node.children,i)||{children:{},childCount:0};s=new md(i,s,r),n=He(n),i=ve(n)}return s}function Lr(t){return t.node.value}function qy(t,e){t.node.value=e,ah(t)}function Gy(t){return t.node.childCount>0}function TR(t){return Lr(t)===void 0&&!Gy(t)}function nc(t,e){Lt(t.node.children,(n,s)=>{e(new md(n,t,s))})}function Yy(t,e,n,s){n&&e(t),nc(t,i=>{Yy(i,e,!0)})}function CR(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Jo(t){return new $e(t.parent===null?t.name:Jo(t.parent)+"/"+t.name)}function ah(t){t.parent!==null&&IR(t.parent,t.name,t)}function IR(t,e,n){const s=TR(n),i=ls(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,ah(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ah(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/[\[\].#$\/\u0000-\u001F\u007F]/,SR=/[\[\].#$\u0000-\u001F\u007F]/,du=10*1024*1024,Qy=function(t){return typeof t=="string"&&t.length!==0&&!AR.test(t)},Xy=function(t){return typeof t=="string"&&t.length!==0&&!SR.test(t)},OR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xy(t)},Jy=function(t,e,n,s){s&&e===void 0||yd($h(t,"value"),e,n)},yd=function(t,e,n){const s=n instanceof $e?new z0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ii(s));if(typeof e=="function")throw new Error(t+"contains a function "+ii(s)+" with contents = "+e.toString());if(zv(e))throw new Error(t+"contains "+e.toString()+" "+ii(s));if(typeof e=="string"&&e.length>du/3&&ql(e)>du)throw new Error(t+"contains a string greater than "+du+" utf8 bytes "+ii(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Lt(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Qy(o)))throw new Error(t+" contains an invalid key ("+o+") "+ii(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);q0(s,o),yd(t,l,s),G0(s)}),i&&r)throw new Error(t+' contains ".value" child '+ii(s)+" in addition to actual children.")}},Zy=function(t,e,n,s){if(!Xy(n))throw new Error($h(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NR=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zy(t,e,n)},bd=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OR(n))throw new Error($h(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eb(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!gy(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function $n(t,e,n){eb(t,n),kR(t,s=>_n(s,e)||_n(e,s))}function kR(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(DR(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();fo&&ft("event: "+n.toString()),xr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="repo_interrupt",LR=25;class MR{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $R(t,e,n){if(t.stats_=Jh(t.repoInfo_),t.forceRestClient_||m0())t.server_=new El(t.repoInfo_,(s,i,r,o)=>{ng(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Zn(t.repoInfo_,e,(s,i,r,o)=>{ng(t,s,i,r,o)},s=>{sg(t,s)},s=>{FR(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=w0(t.repoInfo_,()=>new bP(t.stats_,t.server_)),t.infoData_=new _P,t.infoSyncTree_=new eg({startListening:(s,i,r,o)=>{let l=[];const c=t.infoData_.getNode(s._path);return c.isEmpty()||(l=Qo(t.infoSyncTree_,s._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),wd(t,"connected",!1),t.serverSyncTree_=new eg({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(l,c)=>{const h=o(l,c);$n(t.eventQueue_,s._path,h)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function tb(t){const n=t.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ed(t){return yR({timestamp:tb(t)})}function ng(t,e,n,s,i){t.dataUpdateCount++;const r=new $e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const c=hl(n,h=>at(h));o=dR(t.serverSyncTree_,r,c,i)}else{const c=at(n);o=Wy(t.serverSyncTree_,r,c,i)}else if(s){const c=hl(n,h=>at(h));o=cR(t.serverSyncTree_,r,c)}else{const c=at(n);o=Qo(t.serverSyncTree_,r,c)}let l=r;o.length>0&&(l=ic(t,r)),$n(t.eventQueue_,l,o)}function sg(t,e){wd(t,"connected",e),e===!1&&VR(t)}function FR(t,e){Lt(e,(n,s)=>{wd(t,n,s)})}function wd(t,e,n){const s=new $e("/.info/"+e),i=at(n);t.infoData_.updateSnapshot(s,i);const r=Qo(t.infoSyncTree_,s,i);$n(t.eventQueue_,s,r)}function nb(t){return t.nextWriteId_++}function UR(t,e,n){const s=pR(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=at(i).withIndex(e._queryParams.getIndex());fR(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Qo(t.serverSyncTree_,e._path,r);else{const l=Mo(t.serverSyncTree_,e);o=Wy(t.serverSyncTree_,e._path,r,l)}return $n(t.eventQueue_,e._path,o),Vy(t.serverSyncTree_,e,n,null,!0),r},i=>(sc(t,"get for query "+et(e)+" failed: "+i),Promise.reject(new Error(i))))}function HR(t,e,n,s,i){sc(t,"set",{path:e.toString(),value:n,priority:s});const r=Ed(t),o=at(n,s),l=ud(t.serverSyncTree_,e),c=zy(o,l,r),h=nb(t),d=Hy(t.serverSyncTree_,e,c,h,!0);eb(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(g,v)=>{const b=g==="ok";b||xt("set at "+e+" failed: "+g);const T=li(t.serverSyncTree_,h,!b);$n(t.eventQueue_,e,T),jR(t,i,g,v)});const _=ab(t,e);ic(t,_),$n(t.eventQueue_,_,[])}function VR(t){sc(t,"onDisconnectEvents");const e=Ed(t),n=wl();nh(t.onDisconnect_,Ie(),(i,r)=>{const o=wR(i,r,t.serverSyncTree_,e);Cy(n,i,o)});let s=[];nh(n,Ie(),(i,r)=>{s=s.concat(Qo(t.serverSyncTree_,i,r));const o=ab(t,i);ic(t,o)}),t.onDisconnect_=wl(),$n(t.eventQueue_,Ie(),s)}function WR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xR)}function sc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ft(n,...e)}function jR(t,e,n,s){e&&xr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function sb(t,e,n){return ud(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Td(t,e=t.transactionQueueTree_){if(e||rc(t,e),Lr(e)){const n=rb(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BR(t,Jo(e),n)}else Gy(e)&&nc(e,n=>{Td(t,n)})}function BR(t,e,n){const s=n.map(h=>h.currentWriteId),i=sb(t,e,s);let r=i;const o=i.hash();for(let h=0;h<n.length;h++){const d=n[h];$(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const _=Ct(e,d.path);r=r.updateChild(_,d.currentOutputSnapshotRaw)}const l=r.val(!0),c=e;t.server_.put(c.toString(),l,h=>{sc(t,"transaction put response",{path:c.toString(),status:h});let d=[];if(h==="ok"){const _=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(li(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&_.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();rc(t,vd(t.transactionQueueTree_,e)),Td(t,t.transactionQueueTree_),$n(t.eventQueue_,e,d);for(let g=0;g<_.length;g++)xr(_[g])}else{if(h==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{xt("transaction at "+c.toString()+" failed: "+h);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=h}ic(t,e)}},o)}function ic(t,e){const n=ib(t,e),s=Jo(n),i=rb(t,n);return KR(t,i,s),s}function KR(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=Ct(n,c.path);let d=!1,_;if($(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,_=c.abortReason,i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=LR)d=!0,_="maxretry",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else{const g=sb(t,c.path,o);c.currentInputSnapshot=g;const v=e[l].update(g.val());if(v!==void 0){yd("transaction failed: Data returned ",v,c.path);let b=at(v);typeof v=="object"&&v!=null&&ls(v,".priority")||(b=b.updatePriority(g.getPriority()));const D=c.currentWriteId,F=Ed(t),V=zy(b,g,F);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=V,c.currentWriteId=nb(t),o.splice(o.indexOf(D),1),i=i.concat(Hy(t.serverSyncTree_,c.path,V,c.currentWriteId,c.applyLocally)),i=i.concat(li(t.serverSyncTree_,D,!0))}else d=!0,_="nodata",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0))}$n(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(_==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(_),!1,null))))}rc(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)xr(s[l]);Td(t,t.transactionQueueTree_)}function ib(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&Lr(s)===void 0;)s=vd(s,n),e=He(e),n=ve(e);return s}function rb(t,e){const n=[];return ob(t,e,n),n.sort((s,i)=>s.order-i.order),n}function ob(t,e,n){const s=Lr(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);nc(e,i=>{ob(t,i,n)})}function rc(t,e){const n=Lr(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,qy(e,n.length>0?n:void 0)}nc(e,s=>{rc(t,s)})}function ab(t,e){const n=Jo(ib(t,e)),s=vd(t.transactionQueueTree_,e);return CR(s,i=>{fu(t,i)}),fu(t,s),Yy(s,i=>{fu(t,i)}),n}function fu(t,e){const n=Lr(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(li(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?qy(e,void 0):n.length=r+1,$n(t.eventQueue_,Jo(e),i);for(let o=0;o<s.length;o++)xr(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function qR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):xt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ig=function(t,e){const n=GR(t),s=n.namespace;n.domain==="firebase.com"&&is(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&is("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new iy(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new $e(n.pathString)}},GR=function(t){let e="",n="",s="",i="",r="",o=!0,l="https",c=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(l=t.substring(0,h-1),t=t.substring(h+2));let d=t.indexOf("/");d===-1&&(d=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(d,_)),d<_&&(i=zR(t.substring(d,_)));const g=qR(t.substring(Math.min(t.length,_)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),r=s}"ns"in g&&(r=g.ns)}return{host:e,port:c,domain:n,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YR=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=rg.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=rg.charAt(e[i]);return $(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class XR{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return me(this._path)?null:fy(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=j_(this._queryParams),n=Qh(e);return n==="{}"?"default":n}get _queryObject(){return j_(this._queryParams)}isEqual(e){if(e=Nt(e),!(e instanceof Cd))return!1;const n=this._repo===e._repo,s=gy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+K0(this._path)}}class cs extends Cd{constructor(e,n){super(e,n,new sd,!1)}get parent(){const e=_y(this._path);return e===null?null:new cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $o{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $e(e),s=Fo(this.ref,e);return new $o(this._node.getChild(n),s,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new $o(i,Fo(this.ref,s),qe)))}hasChild(e){const n=new $e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pu(t,e){return t=Nt(t),t._checkNotDeleted("ref"),e!==void 0?Fo(t._root,e):t._root}function Fo(t,e){return t=Nt(t),ve(t._path)===null?NR("child","path",e):Zy("child","path",e),new cs(t._repo,tt(t._path,e))}function ZR(t,e){t=Nt(t),bd("push",t._path),Jy("push",e,t._path,!0);const n=tb(t._repo),s=YR(n),i=Fo(t,s),r=Fo(t,s);let o;return o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function ek(t){return bd("remove",t._path),lb(t,null)}function lb(t,e){t=Nt(t),bd("set",t._path),Jy("set",e,t._path,!1);const n=new zl;return HR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tk(t){t=Nt(t);const e=new JR(()=>{}),n=new Id(e);return UR(t._repo,t,n).then(s=>new $o(s,new cs(t._repo,t._path),t._queryParams.getIndex()))}class Id{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new QR("value",this,new $o(e.snapshotNode,new cs(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new XR(this,e,n):null}matches(e){return e instanceof Id?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tR(cs);oR(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="FIREBASE_DATABASE_EMULATOR_HOST",lh={};let sk=!1;function ik(t,e,n,s){t.repoInfo_=new iy(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function rk(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||is("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ig(r,i),l=o.repoInfo,c;typeof process<"u"&&I_&&(c=I_[nk]),c?(r=`http://${c}?ns=${l.namespace}`,o=ig(r,i),l=o.repoInfo):o.repoInfo.secure;const h=new y0(t.name,t.options,e);PR("Invalid Firebase Database URL",o),me(o.path)||is("Database URL must point to the root of a Firebase Database (not including a child path).");const d=ak(l,t,h,new v0(t,n));return new lk(d,t)}function ok(t,e){const n=lh[e];(!n||n[t.key]!==t)&&is(`Database ${e}(${t.repoInfo_}) has already been deleted.`),WR(t),delete n[t.key]}function ak(t,e,n,s){let i=lh[e.name];i||(i={},lh[e.name]=i);let r=i[t.toURLString()];return r&&is("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new MR(t,sk,n,s),i[t.toURLString()]=r,r}class lk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($R(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ok(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&is("Cannot call "+e+" on a deleted database.")}}function Qa(t=iv(),e){const n=Hh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=KI("database");s&&ck(n,...s)}return n}function ck(t,e,n,s={}){t=Nt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&_i(s,r.repoInfo_.emulatorOptions))return;is("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&is('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ya(Ya.OWNER);else if(s.mockUserToken){const l=typeof s.mockUserToken=="string"?s.mockUserToken:zI(s.mockUserToken,t.app.options.projectId);o=new Ya(l)}ik(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){n0(Rr),yr(new gi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return rk(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Is(A_,S_,t),Is(A_,S_,"esm2017")}Zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};uk();const hk={class:"container mt-4"},dk={class:"row"},fk={class:"card h-100 character-card"},pk={class:"card-body"},_k={class:"card-title"},gk={class:"d-flex gap-2 mb-3"},mk={class:"badge text-bg-primary"},vk={class:"badge text-bg-secondary"},yk={class:"d-flex gap-2"},bk=["onClick"],Ek=["onClick"],wk={class:"modal fade",id:"createCharacterModal",tabindex:"-1","aria-labelledby":"createCharacterModalLabel","aria-hidden":"true"},Tk={class:"modal-dialog"},Ck={class:"modal-content"},Ik={class:"modal-body"},Ak={class:"mb-3"},Sk={class:"mb-3"},Ok={class:"modal-footer"},Nk=["disabled"],Pk={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Rk={class:"modal fade",id:"characterDetailModal",tabindex:"-1","aria-labelledby":"characterDetailModalLabel","aria-hidden":"true"},kk={class:"modal-dialog"},Dk={class:"modal-content"},xk={key:0,class:"modal-body"},Lk={class:"modal-footer"},Mk=["disabled"],$k={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Fk={__name:"CharacterList",setup(t){const e=ct([]),n=ct(""),s=ct(""),i=ct(null),r=ct(!1),o=ct(null),l=ct(null);Wl(()=>{o.value=new Ju.Modal(document.getElementById("createCharacterModal")),l.value=new Ju.Modal(document.getElementById("characterDetailModal")),c()});const c=async()=>{var F;const b=(F=pr().currentUser)==null?void 0:F.uid;if(!b)return;const T=Qa(),D=pu(T,`users/${b}/characters`);try{const V=await tk(D);if(V.exists()){const Y=V.val();e.value=Object.entries(Y).map(([x,X])=>({id:x,...X}))}}catch(V){console.error("加载角色列表失败:",V)}},h=()=>{n.value="",o.value.show()},d=async()=>{var T;if(!n.value.trim())return;r.value=!0;const b=(T=pr().currentUser)==null?void 0:T.uid;try{const D=Qa(),F=pu(D,`users/${b}/characters`),V=ZR(F);await lb(V,{name:n.value,class:s.value,level:1,createdAt:new Date().toISOString()}),o.value.hide(),await c()}catch(D){console.error("创建角色失败:",D)}finally{r.value=!1}},_=async v=>{var D,F;if(!v||!confirm(`确定要删除角色「${v.name}」吗？
此操作不可恢复。`))return;r.value=!0;const T=(D=pr().currentUser)==null?void 0:D.uid;try{const V=Qa();await ek(pu(V,`users/${T}/characters/${v.id}`)),(F=l.value)==null||F.hide(),await c()}catch(V){console.error("删除角色失败:",V)}finally{r.value=!1}},g=()=>{console.log("开始游戏:",i.value)};return(v,b)=>(dt(),Bt("div",hk,[b[12]||(b[12]=M("h2",{class:"text-center mb-4"},"角色管理",-1)),M("div",dk,[(dt(!0),Bt(Nn,null,vC(e.value,T=>(dt(),Bt("div",{key:T.id,class:"col-md-4 mb-4"},[M("div",fk,[M("div",pk,[M("h5",_k,Bn(T.name),1),M("div",gk,[M("span",mk,"Lv"+Bn(T.level),1),M("span",vk,Bn(T.class),1)]),M("div",yk,[M("button",{class:"btn btn-sm btn-primary",onClick:D=>g()},"开始游戏",8,bk),M("button",{class:"btn btn-sm btn-danger",onClick:D=>_(T)},"删除角色",8,Ek)])])])]))),128)),M("div",{class:"col-md-4 mb-4"},[M("div",{class:"card h-100 create-character-card",onClick:h},b[3]||(b[3]=[M("div",{class:"card-body d-flex align-items-center justify-content-center"},[M("div",{class:"text-center"},[M("i",{class:"bi bi-plus-circle fs-1"}),M("h5",{class:"mt-2"},"创建新角色")])],-1)]))])]),M("div",wk,[M("div",Tk,[M("div",Ck,[b[9]||(b[9]=M("div",{class:"modal-header"},[M("h5",{class:"modal-title",id:"createCharacterModalLabel"},"创建新角色"),M("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),M("div",Ik,[M("form",{onSubmit:no(d,["prevent"])},[M("div",Ak,[b[4]||(b[4]=M("label",{for:"characterName",class:"form-label"},"角色名称",-1)),ri(M("input",{type:"text",class:"form-control",id:"characterName","onUpdate:modelValue":b[0]||(b[0]=T=>n.value=T),required:""},null,512),[[Xi,n.value]])]),M("div",Sk,[b[6]||(b[6]=M("label",{for:"characterClass",class:"form-label"},"职业",-1)),ri(M("select",{class:"form-select",id:"characterClass","onUpdate:modelValue":b[1]||(b[1]=T=>s.value=T),required:""},b[5]||(b[5]=[M("option",{value:""},"请选择职业",-1),M("option",{value:"鬼剑士"},"鬼剑士",-1),M("option",{value:"神枪手"},"神枪手",-1),M("option",{value:"格斗家"},"格斗家",-1)]),512),[[OI,s.value]])])],32)]),M("div",Ok,[b[8]||(b[8]=M("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),M("button",{type:"button",class:"btn btn-primary",onClick:d,disabled:r.value},[r.value?(dt(),Bt("span",Pk)):cr("",!0),b[7]||(b[7]=Co(" 创建 "))],8,Nk)])])])]),M("div",Rk,[M("div",kk,[M("div",Dk,[b[11]||(b[11]=M("div",{class:"modal-header"},[M("h5",{class:"modal-title",id:"characterDetailModalLabel"},"角色详情"),M("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),i.value?(dt(),Bt("div",xk,[M("h4",null,Bn(i.value.name),1),M("p",null,"等级: "+Bn(i.value.level),1)])):cr("",!0),M("div",Lk,[M("button",{type:"button",class:"btn btn-danger",onClick:b[2]||(b[2]=T=>_(i.value)),disabled:r.value},[r.value?(dt(),Bt("span",$k)):cr("",!0),b[10]||(b[10]=Co(" 删除角色 "))],8,Mk),M("button",{type:"button",class:"btn btn-primary",onClick:g}," 开始游戏 ")])])])])]))}},Uk=Wv(Fk,[["__scopeId","data-v-76fa441c"]]),Hk={__name:"App",setup(t){const e=ct(!1);return Wl(()=>{const n=pr();mO(n,s=>{e.value=!!s})}),(n,s)=>(dt(),Bt("div",null,[e.value?(dt(),Uu(Uk,{key:1})):(dt(),Uu(t0,{key:0}))]))}};var Vk="firebase",Wk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(Vk,Wk,"app");const jk={apiKey:"AIzaSyDjdEDogtnyU8YlhMOKV2k_f8XdcRblweA",authDomain:"minidnf-2626f.firebaseapp.com",projectId:"minidnf-2626f",storageBucket:"minidnf-2626f.firebasestorage.app",messagingSenderId:"736415077058",appId:"1:736415077058:web:f7dd041a5e2f850e56a15b",measurementId:"G-NVHCKJMK5L",databaseURL:"https://minidnf-2626f-default-rtdb.firebaseio.com"},cb=sv(jk);pr(cb);Qa(cb);var It="top",zt="bottom",qt="right",At="left",oc="auto",Mr=[It,zt,qt,At],wi="start",Tr="end",ub="clippingParents",Ad="viewport",Ji="popper",hb="reference",ch=Mr.reduce(function(t,e){return t.concat([e+"-"+wi,e+"-"+Tr])},[]),Sd=[].concat(Mr,[oc]).reduce(function(t,e){return t.concat([e,e+"-"+wi,e+"-"+Tr])},[]),db="beforeRead",fb="read",pb="afterRead",_b="beforeMain",gb="main",mb="afterMain",vb="beforeWrite",yb="write",bb="afterWrite",Eb=[db,fb,pb,_b,gb,mb,vb,yb,bb];function Fn(t){return t?(t.nodeName||"").toLowerCase():null}function Gt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ti(t){var e=Gt(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Gt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Od(t){if(typeof ShadowRoot>"u")return!1;var e=Gt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Bk(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!on(r)||!Fn(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function Kk(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(c,h){return c[h]="",c},{});!on(i)||!Fn(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const Nd={name:"applyStyles",enabled:!0,phase:"write",fn:Bk,effect:Kk,requires:["computeStyles"]};function xn(t){return t.split("-")[0]}var di=Math.max,Pl=Math.min,Cr=Math.round;function uh(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wb(){return!/^((?!chrome|android).)*safari/i.test(uh())}function Ir(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&on(t)&&(i=t.offsetWidth>0&&Cr(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&Cr(s.height)/t.offsetHeight||1);var o=Ti(t)?Gt(t):window,l=o.visualViewport,c=!wb()&&n,h=(s.left+(c&&l?l.offsetLeft:0))/i,d=(s.top+(c&&l?l.offsetTop:0))/r,_=s.width/i,g=s.height/r;return{width:_,height:g,top:d,right:h+_,bottom:d+g,left:h,x:h,y:d}}function Pd(t){var e=Ir(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Tb(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Od(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function rs(t){return Gt(t).getComputedStyle(t)}function zk(t){return["table","td","th"].indexOf(Fn(t))>=0}function Us(t){return((Ti(t)?t.ownerDocument:t.document)||window.document).documentElement}function ac(t){return Fn(t)==="html"?t:t.assignedSlot||t.parentNode||(Od(t)?t.host:null)||Us(t)}function og(t){return!on(t)||rs(t).position==="fixed"?null:t.offsetParent}function qk(t){var e=/firefox/i.test(uh()),n=/Trident/i.test(uh());if(n&&on(t)){var s=rs(t);if(s.position==="fixed")return null}var i=ac(t);for(Od(i)&&(i=i.host);on(i)&&["html","body"].indexOf(Fn(i))<0;){var r=rs(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Zo(t){for(var e=Gt(t),n=og(t);n&&zk(n)&&rs(n).position==="static";)n=og(n);return n&&(Fn(n)==="html"||Fn(n)==="body"&&rs(n).position==="static")?e:n||qk(t)||e}function Rd(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vo(t,e,n){return di(t,Pl(e,n))}function Gk(t,e,n){var s=vo(t,e,n);return s>n?n:s}function Cb(){return{top:0,right:0,bottom:0,left:0}}function Ib(t){return Object.assign({},Cb(),t)}function Ab(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var Yk=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ib(typeof e!="number"?e:Ab(e,Mr))};function Qk(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=xn(n.placement),c=Rd(l),h=[At,qt].indexOf(l)>=0,d=h?"height":"width";if(!(!r||!o)){var _=Yk(i.padding,n),g=Pd(r),v=c==="y"?It:At,b=c==="y"?zt:qt,T=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],D=o[c]-n.rects.reference[c],F=Zo(r),V=F?c==="y"?F.clientHeight||0:F.clientWidth||0:0,Y=T/2-D/2,x=_[v],X=V-g[d]-_[b],ae=V/2-g[d]/2+Y,pe=vo(x,ae,X),we=c;n.modifiersData[s]=(e={},e[we]=pe,e.centerOffset=pe-ae,e)}}function Xk(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Tb(e.elements.popper,i)&&(e.elements.arrow=i))}const Sb={name:"arrow",enabled:!0,phase:"main",fn:Qk,effect:Xk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ar(t){return t.split("-")[1]}var Jk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zk(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:Cr(n*i)/i||0,y:Cr(s*i)/i||0}}function ag(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,d=t.roundOffsets,_=t.isFixed,g=o.x,v=g===void 0?0:g,b=o.y,T=b===void 0?0:b,D=typeof d=="function"?d({x:v,y:T}):{x:v,y:T};v=D.x,T=D.y;var F=o.hasOwnProperty("x"),V=o.hasOwnProperty("y"),Y=At,x=It,X=window;if(h){var ae=Zo(n),pe="clientHeight",we="clientWidth";if(ae===Gt(n)&&(ae=Us(n),rs(ae).position!=="static"&&l==="absolute"&&(pe="scrollHeight",we="scrollWidth")),ae=ae,i===It||(i===At||i===qt)&&r===Tr){x=zt;var Se=_&&ae===X&&X.visualViewport?X.visualViewport.height:ae[pe];T-=Se-s.height,T*=c?1:-1}if(i===At||(i===It||i===zt)&&r===Tr){Y=qt;var Te=_&&ae===X&&X.visualViewport?X.visualViewport.width:ae[we];v-=Te-s.width,v*=c?1:-1}}var je=Object.assign({position:l},h&&Jk),Xe=d===!0?Zk({x:v,y:T},Gt(n)):{x:v,y:T};if(v=Xe.x,T=Xe.y,c){var Be;return Object.assign({},je,(Be={},Be[x]=V?"0":"",Be[Y]=F?"0":"",Be.transform=(X.devicePixelRatio||1)<=1?"translate("+v+"px, "+T+"px)":"translate3d("+v+"px, "+T+"px, 0)",Be))}return Object.assign({},je,(e={},e[x]=V?T+"px":"",e[Y]=F?v+"px":"",e.transform="",e))}function eD(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:xn(e.placement),variation:Ar(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ag(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ag(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eD,data:{}};var Da={passive:!0};function tD(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,c=Gt(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",n.update,Da)}),l&&c.addEventListener("resize",n.update,Da),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",n.update,Da)}),l&&c.removeEventListener("resize",n.update,Da)}}const Dd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tD,data:{}};var nD={left:"right",right:"left",bottom:"top",top:"bottom"};function Xa(t){return t.replace(/left|right|bottom|top/g,function(e){return nD[e]})}var sD={start:"end",end:"start"};function lg(t){return t.replace(/start|end/g,function(e){return sD[e]})}function xd(t){var e=Gt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Ld(t){return Ir(Us(t)).left+xd(t).scrollLeft}function iD(t,e){var n=Gt(t),s=Us(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){r=i.width,o=i.height;var h=wb();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:l+Ld(t),y:c}}function rD(t){var e,n=Us(t),s=xd(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=di(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=di(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+Ld(t),c=-s.scrollTop;return rs(i||n).direction==="rtl"&&(l+=di(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function Md(t){var e=rs(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function Ob(t){return["html","body","#document"].indexOf(Fn(t))>=0?t.ownerDocument.body:on(t)&&Md(t)?t:Ob(ac(t))}function yo(t,e){var n;e===void 0&&(e=[]);var s=Ob(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=Gt(s),o=i?[r].concat(r.visualViewport||[],Md(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(yo(ac(o)))}function hh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function oD(t,e){var n=Ir(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cg(t,e,n){return e===Ad?hh(iD(t,n)):Ti(e)?oD(e,n):hh(rD(Us(t)))}function aD(t){var e=yo(ac(t)),n=["absolute","fixed"].indexOf(rs(t).position)>=0,s=n&&on(t)?Zo(t):t;return Ti(s)?e.filter(function(i){return Ti(i)&&Tb(i,s)&&Fn(i)!=="body"}):[]}function lD(t,e,n,s){var i=e==="clippingParents"?aD(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(c,h){var d=cg(t,h,s);return c.top=di(d.top,c.top),c.right=Pl(d.right,c.right),c.bottom=Pl(d.bottom,c.bottom),c.left=di(d.left,c.left),c},cg(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Nb(t){var e=t.reference,n=t.element,s=t.placement,i=s?xn(s):null,r=s?Ar(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case It:c={x:o,y:e.y-n.height};break;case zt:c={x:o,y:e.y+e.height};break;case qt:c={x:e.x+e.width,y:l};break;case At:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?Rd(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(r){case wi:c[h]=c[h]-(e[d]/2-n[d]/2);break;case Tr:c[h]=c[h]+(e[d]/2-n[d]/2);break}}return c}function Sr(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,c=l===void 0?ub:l,h=n.rootBoundary,d=h===void 0?Ad:h,_=n.elementContext,g=_===void 0?Ji:_,v=n.altBoundary,b=v===void 0?!1:v,T=n.padding,D=T===void 0?0:T,F=Ib(typeof D!="number"?D:Ab(D,Mr)),V=g===Ji?hb:Ji,Y=t.rects.popper,x=t.elements[b?V:g],X=lD(Ti(x)?x:x.contextElement||Us(t.elements.popper),c,d,o),ae=Ir(t.elements.reference),pe=Nb({reference:ae,element:Y,placement:i}),we=hh(Object.assign({},Y,pe)),Se=g===Ji?we:ae,Te={top:X.top-Se.top+F.top,bottom:Se.bottom-X.bottom+F.bottom,left:X.left-Se.left+F.left,right:Se.right-X.right+F.right},je=t.modifiersData.offset;if(g===Ji&&je){var Xe=je[i];Object.keys(Te).forEach(function(Be){var Pt=[qt,zt].indexOf(Be)>=0?1:-1,Mt=[It,zt].indexOf(Be)>=0?"y":"x";Te[Be]+=Xe[Mt]*Pt})}return Te}function cD(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?Sd:c,d=Ar(s),_=d?l?ch:ch.filter(function(b){return Ar(b)===d}):Mr,g=_.filter(function(b){return h.indexOf(b)>=0});g.length===0&&(g=_);var v=g.reduce(function(b,T){return b[T]=Sr(t,{placement:T,boundary:i,rootBoundary:r,padding:o})[xn(T)],b},{});return Object.keys(v).sort(function(b,T){return v[b]-v[T]})}function uD(t){if(xn(t)===oc)return[];var e=Xa(t);return[lg(t),e,lg(e)]}function hD(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,d=n.boundary,_=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,b=v===void 0?!0:v,T=n.allowedAutoPlacements,D=e.options.placement,F=xn(D),V=F===D,Y=c||(V||!b?[Xa(D)]:uD(D)),x=[D].concat(Y).reduce(function(st,lt){return st.concat(xn(lt)===oc?cD(e,{placement:lt,boundary:d,rootBoundary:_,padding:h,flipVariations:b,allowedAutoPlacements:T}):lt)},[]),X=e.rects.reference,ae=e.rects.popper,pe=new Map,we=!0,Se=x[0],Te=0;Te<x.length;Te++){var je=x[Te],Xe=xn(je),Be=Ar(je)===wi,Pt=[It,zt].indexOf(Xe)>=0,Mt=Pt?"width":"height",Ce=Sr(e,{placement:je,boundary:d,rootBoundary:_,altBoundary:g,padding:h}),de=Pt?Be?qt:At:Be?zt:It;X[Mt]>ae[Mt]&&(de=Xa(de));var Ee=Xa(de),nt=[];if(r&&nt.push(Ce[Xe]<=0),l&&nt.push(Ce[de]<=0,Ce[Ee]<=0),nt.every(function(st){return st})){Se=je,we=!1;break}pe.set(je,nt)}if(we)for(var A=b?3:1,_t=function(lt){var Ke=x.find(function($t){var z=pe.get($t);if(z)return z.slice(0,lt).every(function(hn){return hn})});if(Ke)return Se=Ke,"break"},Je=A;Je>0;Je--){var un=_t(Je);if(un==="break")break}e.placement!==Se&&(e.modifiersData[s]._skip=!0,e.placement=Se,e.reset=!0)}}const Pb={name:"flip",enabled:!0,phase:"main",fn:hD,requiresIfExists:["offset"],data:{_skip:!1}};function ug(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function hg(t){return[It,qt,zt,At].some(function(e){return t[e]>=0})}function dD(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=Sr(e,{elementContext:"reference"}),l=Sr(e,{altBoundary:!0}),c=ug(o,s),h=ug(l,i,r),d=hg(c),_=hg(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":_})}const Rb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dD};function fD(t,e,n){var s=xn(t),i=[At,It].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[At,qt].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function pD(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=Sd.reduce(function(d,_){return d[_]=fD(_,e.rects,r),d},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}const kb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pD};function _D(t){var e=t.state,n=t.name;e.modifiersData[n]=Nb({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const $d={name:"popperOffsets",enabled:!0,phase:"read",fn:_D,data:{}};function gD(t){return t==="x"?"y":"x"}function mD(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,_=n.padding,g=n.tether,v=g===void 0?!0:g,b=n.tetherOffset,T=b===void 0?0:b,D=Sr(e,{boundary:c,rootBoundary:h,padding:_,altBoundary:d}),F=xn(e.placement),V=Ar(e.placement),Y=!V,x=Rd(F),X=gD(x),ae=e.modifiersData.popperOffsets,pe=e.rects.reference,we=e.rects.popper,Se=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,Te=typeof Se=="number"?{mainAxis:Se,altAxis:Se}:Object.assign({mainAxis:0,altAxis:0},Se),je=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Xe={x:0,y:0};if(ae){if(r){var Be,Pt=x==="y"?It:At,Mt=x==="y"?zt:qt,Ce=x==="y"?"height":"width",de=ae[x],Ee=de+D[Pt],nt=de-D[Mt],A=v?-we[Ce]/2:0,_t=V===wi?pe[Ce]:we[Ce],Je=V===wi?-we[Ce]:-pe[Ce],un=e.elements.arrow,st=v&&un?Pd(un):{width:0,height:0},lt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Cb(),Ke=lt[Pt],$t=lt[Mt],z=vo(0,pe[Ce],st[Ce]),hn=Y?pe[Ce]/2-A-z-Ke-Te.mainAxis:_t-z-Ke-Te.mainAxis,wn=Y?-pe[Ce]/2+A+z+$t+Te.mainAxis:Je+z+$t+Te.mainAxis,ki=e.elements.arrow&&Zo(e.elements.arrow),m=ki?x==="y"?ki.clientTop||0:ki.clientLeft||0:0,y=(Be=je==null?void 0:je[x])!=null?Be:0,I=de+hn-y-m,N=de+wn-y,S=vo(v?Pl(Ee,I):Ee,de,v?di(nt,N):nt);ae[x]=S,Xe[x]=S-de}if(l){var R,W=x==="x"?It:At,U=x==="x"?zt:qt,L=ae[X],k=X==="y"?"height":"width",J=L+D[W],j=L-D[U],G=[It,At].indexOf(F)!==-1,Q=(R=je==null?void 0:je[X])!=null?R:0,ue=G?J:L-pe[k]-we[k]-Q+Te.altAxis,ye=G?L+pe[k]+we[k]-Q-Te.altAxis:j,fe=v&&G?Gk(ue,L,ye):vo(v?ue:J,L,v?ye:j);ae[X]=fe,Xe[X]=fe-L}e.modifiersData[s]=Xe}}const Db={name:"preventOverflow",enabled:!0,phase:"main",fn:mD,requiresIfExists:["offset"]};function vD(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yD(t){return t===Gt(t)||!on(t)?xd(t):vD(t)}function bD(t){var e=t.getBoundingClientRect(),n=Cr(e.width)/t.offsetWidth||1,s=Cr(e.height)/t.offsetHeight||1;return n!==1||s!==1}function ED(t,e,n){n===void 0&&(n=!1);var s=on(e),i=on(e)&&bD(e),r=Us(e),o=Ir(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((Fn(e)!=="body"||Md(r))&&(l=yD(e)),on(e)?(c=Ir(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=Ld(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function wD(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function TD(t){var e=wD(t);return Eb.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function CD(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function ID(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var dg={placement:"bottom",modifiers:[],strategy:"absolute"};function fg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function lc(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?dg:i;return function(l,c,h){h===void 0&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},dg,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},_=[],g=!1,v={state:d,setOptions:function(F){var V=typeof F=="function"?F(d.options):F;T(),d.options=Object.assign({},r,d.options,V),d.scrollParents={reference:Ti(l)?yo(l):l.contextElement?yo(l.contextElement):[],popper:yo(c)};var Y=TD(ID([].concat(s,d.options.modifiers)));return d.orderedModifiers=Y.filter(function(x){return x.enabled}),b(),v.update()},forceUpdate:function(){if(!g){var F=d.elements,V=F.reference,Y=F.popper;if(fg(V,Y)){d.rects={reference:ED(V,Zo(Y),d.options.strategy==="fixed"),popper:Pd(Y)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Te){return d.modifiersData[Te.name]=Object.assign({},Te.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var X=d.orderedModifiers[x],ae=X.fn,pe=X.options,we=pe===void 0?{}:pe,Se=X.name;typeof ae=="function"&&(d=ae({state:d,options:we,name:Se,instance:v})||d)}}}},update:CD(function(){return new Promise(function(D){v.forceUpdate(),D(d)})}),destroy:function(){T(),g=!0}};if(!fg(l,c))return v;v.setOptions(h).then(function(D){!g&&h.onFirstUpdate&&h.onFirstUpdate(D)});function b(){d.orderedModifiers.forEach(function(D){var F=D.name,V=D.options,Y=V===void 0?{}:V,x=D.effect;if(typeof x=="function"){var X=x({state:d,name:F,instance:v,options:Y}),ae=function(){};_.push(X||ae)}})}function T(){_.forEach(function(D){return D()}),_=[]}return v}}var AD=lc(),SD=[Dd,$d,kd,Nd],OD=lc({defaultModifiers:SD}),ND=[Dd,$d,kd,Nd,kb,Pb,Db,Sb,Rb],Fd=lc({defaultModifiers:ND});const xb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:mb,afterRead:pb,afterWrite:bb,applyStyles:Nd,arrow:Sb,auto:oc,basePlacements:Mr,beforeMain:_b,beforeRead:db,beforeWrite:vb,bottom:zt,clippingParents:ub,computeStyles:kd,createPopper:Fd,createPopperBase:AD,createPopperLite:OD,detectOverflow:Sr,end:Tr,eventListeners:Dd,flip:Pb,hide:Rb,left:At,main:gb,modifierPhases:Eb,offset:kb,placements:Sd,popper:Ji,popperGenerator:lc,popperOffsets:$d,preventOverflow:Db,read:fb,reference:hb,right:qt,start:wi,top:It,variationPlacements:ch,viewport:Ad,write:yb},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const _s=new Map,_u={set(t,e,n){_s.has(t)||_s.set(t,new Map);const s=_s.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return _s.has(t)&&_s.get(t).get(e)||null},remove(t,e){if(!_s.has(t))return;const n=_s.get(t);n.delete(e),n.size===0&&_s.delete(t)}},PD=1e6,RD=1e3,dh="transitionend",Lb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),kD=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),DD=t=>{do t+=Math.floor(Math.random()*PD);while(document.getElementById(t));return t},xD=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*RD)},Mb=t=>{t.dispatchEvent(new Event(dh))},es=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),ks=t=>es(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Lb(t)):null,$r=t=>{if(!es(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Ds=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",$b=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?$b(t.parentNode):null},Rl=()=>{},ea=t=>{t.offsetHeight},Fb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gu=[],LD=t=>{document.readyState==="loading"?(gu.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of gu)e()}),gu.push(t)):t()},an=()=>document.documentElement.dir==="rtl",cn=t=>{LD(()=>{const e=Fb();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},kt=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Ub=(t,e,n=!0)=>{if(!n){kt(t);return}const i=xD(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(dh,o),kt(t))};e.addEventListener(dh,o),setTimeout(()=>{r||Mb(e)},i)},Ud=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},MD=/[^.]*(?=\..*)\.|.*/,$D=/\..*/,FD=/::\d+$/,mu={};let pg=1;const Hb={mouseenter:"mouseover",mouseleave:"mouseout"},UD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Vb(t,e){return e&&`${e}::${pg++}`||t.uidEvent||pg++}function Wb(t){const e=Vb(t);return t.uidEvent=e,mu[e]=mu[e]||{},mu[e]}function HD(t,e){return function n(s){return Hd(s,{delegateTarget:t}),n.oneOff&&P.off(t,s.type,e),e.apply(t,[s])}}function VD(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return Hd(i,{delegateTarget:o}),s.oneOff&&P.off(t,i.type,e,n),n.apply(o,[i])}}function jb(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function Bb(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=Kb(t);return UD.has(r)||(r=t),[s,i,r]}function _g(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,l]=Bb(e,n,s);e in Hb&&(o=(b=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return b.call(this,T)})(o));const c=Wb(t),h=c[l]||(c[l]={}),d=jb(h,o,r?n:null);if(d){d.oneOff=d.oneOff&&i;return}const _=Vb(o,e.replace(MD,"")),g=r?VD(t,n,o):HD(t,o);g.delegationSelector=r?n:null,g.callable=o,g.oneOff=i,g.uidEvent=_,h[_]=g,t.addEventListener(l,g,r)}function fh(t,e,n,s,i){const r=jb(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function WD(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&fh(t,e,n,o.callable,o.delegationSelector)}function Kb(t){return t=t.replace($D,""),Hb[t]||t}const P={on(t,e,n,s){_g(t,e,n,s,!1)},one(t,e,n,s){_g(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=Bb(e,n,s),l=o!==e,c=Wb(t),h=c[o]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;fh(t,c,o,r,i?n:null);return}if(d)for(const _ of Object.keys(c))WD(t,c,_,e.slice(1));for(const[_,g]of Object.entries(h)){const v=_.replace(FD,"");(!l||e.includes(v))&&fh(t,c,o,g.callable,g.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=Fb(),i=Kb(e),r=e!==i;let o=null,l=!0,c=!0,h=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const d=Hd(new Event(e,{bubbles:l,cancelable:!0}),n);return h&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function Hd(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function gg(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function vu(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ts={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${vu(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${vu(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=gg(t.dataset[s])}return e},getDataAttribute(t,e){return gg(t.getAttribute(`data-bs-${vu(e)}`))}};class ta{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=es(n)?ts.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...es(n)?ts.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=es(r)?"element":kD(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const jD="5.3.3";class En extends ta{constructor(e,n){super(),e=ks(e),e&&(this._element=e,this._config=this._getConfig(n),_u.set(this._element,this.constructor.DATA_KEY,this))}dispose(){_u.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){Ub(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return _u.get(ks(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return jD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const yu=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Lb(n)).join(","):null},Z={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Ds(n)&&$r(n))},getSelectorFromElement(t){const e=yu(t);return e&&Z.findOne(e)?e:null},getElementFromSelector(t){const e=yu(t);return e?Z.findOne(e):null},getMultipleElementsFromSelector(t){const e=yu(t);return e?Z.find(e):[]}},cc=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;P.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ds(this))return;const r=Z.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},BD="alert",KD="bs.alert",zb=`.${KD}`,zD=`close${zb}`,qD=`closed${zb}`,GD="fade",YD="show";class na extends En{static get NAME(){return BD}close(){if(P.trigger(this._element,zD).defaultPrevented)return;this._element.classList.remove(YD);const n=this._element.classList.contains(GD);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),P.trigger(this._element,qD),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=na.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cc(na,"close");cn(na);const QD="button",XD="bs.button",JD=`.${XD}`,ZD=".data-api",ex="active",mg='[data-bs-toggle="button"]',tx=`click${JD}${ZD}`;class sa extends En{static get NAME(){return QD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ex))}static jQueryInterface(e){return this.each(function(){const n=sa.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}P.on(document,tx,mg,t=>{t.preventDefault();const e=t.target.closest(mg);sa.getOrCreateInstance(e).toggle()});cn(sa);const nx="swipe",Fr=".bs.swipe",sx=`touchstart${Fr}`,ix=`touchmove${Fr}`,rx=`touchend${Fr}`,ox=`pointerdown${Fr}`,ax=`pointerup${Fr}`,lx="touch",cx="pen",ux="pointer-event",hx=40,dx={endCallback:null,leftCallback:null,rightCallback:null},fx={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kl extends ta{constructor(e,n){super(),this._element=e,!(!e||!kl.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return dx}static get DefaultType(){return fx}static get NAME(){return nx}dispose(){P.off(this._element,Fr)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),kt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=hx)return;const n=e/this._deltaX;this._deltaX=0,n&&kt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,ox,e=>this._start(e)),P.on(this._element,ax,e=>this._end(e)),this._element.classList.add(ux)):(P.on(this._element,sx,e=>this._start(e)),P.on(this._element,ix,e=>this._move(e)),P.on(this._element,rx,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===cx||e.pointerType===lx)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const px="carousel",_x="bs.carousel",Hs=`.${_x}`,qb=".data-api",gx="ArrowLeft",mx="ArrowRight",vx=500,Zr="next",Gi="prev",Zi="left",Ja="right",yx=`slide${Hs}`,bu=`slid${Hs}`,bx=`keydown${Hs}`,Ex=`mouseenter${Hs}`,wx=`mouseleave${Hs}`,Tx=`dragstart${Hs}`,Cx=`load${Hs}${qb}`,Ix=`click${Hs}${qb}`,Gb="carousel",xa="active",Ax="slide",Sx="carousel-item-end",Ox="carousel-item-start",Nx="carousel-item-next",Px="carousel-item-prev",Yb=".active",Qb=".carousel-item",Rx=Yb+Qb,kx=".carousel-item img",Dx=".carousel-indicators",xx="[data-bs-slide], [data-bs-slide-to]",Lx='[data-bs-ride="carousel"]',Mx={[gx]:Ja,[mx]:Zi},$x={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Fx={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ur extends En{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Z.findOne(Dx,this._element),this._addEventListeners(),this._config.ride===Gb&&this.cycle()}static get Default(){return $x}static get DefaultType(){return Fx}static get NAME(){return px}next(){this._slide(Zr)}nextWhenVisible(){!document.hidden&&$r(this._element)&&this.next()}prev(){this._slide(Gi)}pause(){this._isSliding&&Mb(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){P.one(this._element,bu,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){P.one(this._element,bu,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Zr:Gi;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&P.on(this._element,bx,e=>this._keydown(e)),this._config.pause==="hover"&&(P.on(this._element,Ex,()=>this.pause()),P.on(this._element,wx,()=>this._maybeEnableCycle())),this._config.touch&&kl.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Z.find(kx,this._element))P.on(s,Tx,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Zi)),rightCallback:()=>this._slide(this._directionToOrder(Ja)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),vx+this._config.interval))}};this._swipeHelper=new kl(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Mx[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Z.findOne(Yb,this._indicatorsElement);n.classList.remove(xa),n.removeAttribute("aria-current");const s=Z.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(xa),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===Zr,r=n||Ud(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=v=>P.trigger(this._element,v,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(yx).defaultPrevented||!s||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=i?Ox:Sx,_=i?Nx:Px;r.classList.add(_),ea(r),s.classList.add(d),r.classList.add(d);const g=()=>{r.classList.remove(d,_),r.classList.add(xa),s.classList.remove(xa,_,d),this._isSliding=!1,l(bu)};this._queueCallback(g,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ax)}_getActive(){return Z.findOne(Rx,this._element)}_getItems(){return Z.find(Qb,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return an()?e===Zi?Gi:Zr:e===Zi?Zr:Gi}_orderToDirection(e){return an()?e===Gi?Zi:Ja:e===Gi?Ja:Zi}static jQueryInterface(e){return this.each(function(){const n=Ur.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(document,Ix,xx,function(t){const e=Z.getElementFromSelector(this);if(!e||!e.classList.contains(Gb))return;t.preventDefault();const n=Ur.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(ts.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});P.on(window,Cx,()=>{const t=Z.find(Lx);for(const e of t)Ur.getOrCreateInstance(e)});cn(Ur);const Ux="collapse",Hx="bs.collapse",ia=`.${Hx}`,Vx=".data-api",Wx=`show${ia}`,jx=`shown${ia}`,Bx=`hide${ia}`,Kx=`hidden${ia}`,zx=`click${ia}${Vx}`,Eu="show",sr="collapse",La="collapsing",qx="collapsed",Gx=`:scope .${sr} .${sr}`,Yx="collapse-horizontal",Qx="width",Xx="height",Jx=".collapse.show, .collapse.collapsing",ph='[data-bs-toggle="collapse"]',Zx={parent:null,toggle:!0},eL={parent:"(null|element)",toggle:"boolean"};class Or extends En{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Z.find(ph);for(const i of s){const r=Z.getSelectorFromElement(i),o=Z.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Zx}static get DefaultType(){return eL}static get NAME(){return Ux}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Jx).filter(l=>l!==this._element).map(l=>Or.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||P.trigger(this._element,Wx).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(sr),this._element.classList.add(La),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(La),this._element.classList.add(sr,Eu),this._element.style[s]="",P.trigger(this._element,jx)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,Bx).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,ea(this._element),this._element.classList.add(La),this._element.classList.remove(sr,Eu);for(const i of this._triggerArray){const r=Z.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(La),this._element.classList.add(sr),P.trigger(this._element,Kx)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Eu)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ks(e.parent),e}_getDimension(){return this._element.classList.contains(Yx)?Qx:Xx}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ph);for(const n of e){const s=Z.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Z.find(Gx,this._config.parent);return Z.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(qx,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Or.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}P.on(document,zx,ph,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Z.getMultipleElementsFromSelector(this))Or.getOrCreateInstance(e,{toggle:!1}).toggle()});cn(Or);const vg="dropdown",tL="bs.dropdown",Ni=`.${tL}`,Vd=".data-api",nL="Escape",yg="Tab",sL="ArrowUp",bg="ArrowDown",iL=2,rL=`hide${Ni}`,oL=`hidden${Ni}`,aL=`show${Ni}`,lL=`shown${Ni}`,Xb=`click${Ni}${Vd}`,Jb=`keydown${Ni}${Vd}`,cL=`keyup${Ni}${Vd}`,er="show",uL="dropup",hL="dropend",dL="dropstart",fL="dropup-center",pL="dropdown-center",ci='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',_L=`${ci}.${er}`,Za=".dropdown-menu",gL=".navbar",mL=".navbar-nav",vL=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yL=an()?"top-end":"top-start",bL=an()?"top-start":"top-end",EL=an()?"bottom-end":"bottom-start",wL=an()?"bottom-start":"bottom-end",TL=an()?"left-start":"right-start",CL=an()?"right-start":"left-start",IL="top",AL="bottom",SL={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},OL={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class yn extends En{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Z.next(this._element,Za)[0]||Z.prev(this._element,Za)[0]||Z.findOne(Za,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return SL}static get DefaultType(){return OL}static get NAME(){return vg}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ds(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!P.trigger(this._element,aL,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(mL))for(const s of[].concat(...document.body.children))P.on(s,"mouseover",Rl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(er),this._element.classList.add(er),P.trigger(this._element,lL,e)}}hide(){if(Ds(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!P.trigger(this._element,rL,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))P.off(s,"mouseover",Rl);this._popper&&this._popper.destroy(),this._menu.classList.remove(er),this._element.classList.remove(er),this._element.setAttribute("aria-expanded","false"),ts.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,oL,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!es(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${vg.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof xb>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:es(this._config.reference)?e=ks(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Fd(e,this._menu,n)}_isShown(){return this._menu.classList.contains(er)}_getPlacement(){const e=this._parent;if(e.classList.contains(hL))return TL;if(e.classList.contains(dL))return CL;if(e.classList.contains(fL))return IL;if(e.classList.contains(pL))return AL;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(uL)?n?bL:yL:n?wL:EL}_detectNavbar(){return this._element.closest(gL)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ts.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...kt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=Z.find(vL,this._menu).filter(i=>$r(i));s.length&&Ud(s,n,e===bg,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=yn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===iL||e.type==="keyup"&&e.key!==yg)return;const n=Z.find(_L);for(const s of n){const i=yn.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===yg||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===nL,i=[sL,bg].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(ci)?this:Z.prev(this,ci)[0]||Z.next(this,ci)[0]||Z.findOne(ci,e.delegateTarget.parentNode),o=yn.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}P.on(document,Jb,ci,yn.dataApiKeydownHandler);P.on(document,Jb,Za,yn.dataApiKeydownHandler);P.on(document,Xb,yn.clearMenus);P.on(document,cL,yn.clearMenus);P.on(document,Xb,ci,function(t){t.preventDefault(),yn.getOrCreateInstance(this).toggle()});cn(yn);const Zb="backdrop",NL="fade",Eg="show",wg=`mousedown.bs.${Zb}`,PL={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},RL={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class eE extends ta{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return PL}static get DefaultType(){return RL}static get NAME(){return Zb}show(e){if(!this._config.isVisible){kt(e);return}this._append();const n=this._getElement();this._config.isAnimated&&ea(n),n.classList.add(Eg),this._emulateAnimation(()=>{kt(e)})}hide(e){if(!this._config.isVisible){kt(e);return}this._getElement().classList.remove(Eg),this._emulateAnimation(()=>{this.dispose(),kt(e)})}dispose(){this._isAppended&&(P.off(this._element,wg),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(NL),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ks(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),P.on(e,wg,()=>{kt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Ub(e,this._getElement(),this._config.isAnimated)}}const kL="focustrap",DL="bs.focustrap",Dl=`.${DL}`,xL=`focusin${Dl}`,LL=`keydown.tab${Dl}`,ML="Tab",$L="forward",Tg="backward",FL={autofocus:!0,trapElement:null},UL={autofocus:"boolean",trapElement:"element"};class tE extends ta{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return FL}static get DefaultType(){return UL}static get NAME(){return kL}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Dl),P.on(document,xL,e=>this._handleFocusin(e)),P.on(document,LL,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Dl))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Z.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Tg?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===ML&&(this._lastTabNavDirection=e.shiftKey?Tg:$L)}}const Cg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ig=".sticky-top",Ma="padding-right",Ag="margin-right";class _h{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ma,n=>n+e),this._setElementAttributes(Cg,Ma,n=>n+e),this._setElementAttributes(Ig,Ag,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ma),this._resetElementAttributes(Cg,Ma),this._resetElementAttributes(Ig,Ag)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&ts.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=ts.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}ts.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(es(e)){n(e);return}for(const s of Z.find(e,this._element))n(s)}}const HL="modal",VL="bs.modal",ln=`.${VL}`,WL=".data-api",jL="Escape",BL=`hide${ln}`,KL=`hidePrevented${ln}`,nE=`hidden${ln}`,sE=`show${ln}`,zL=`shown${ln}`,qL=`resize${ln}`,GL=`click.dismiss${ln}`,YL=`mousedown.dismiss${ln}`,QL=`keydown.dismiss${ln}`,XL=`click${ln}${WL}`,Sg="modal-open",JL="fade",Og="show",wu="modal-static",ZL=".modal.show",eM=".modal-dialog",tM=".modal-body",nM='[data-bs-toggle="modal"]',sM={backdrop:!0,focus:!0,keyboard:!0},iM={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ci extends En{constructor(e,n){super(e,n),this._dialog=Z.findOne(eM,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _h,this._addEventListeners()}static get Default(){return sM}static get DefaultType(){return iM}static get NAME(){return HL}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||P.trigger(this._element,sE,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Sg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||P.trigger(this._element,BL).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Og),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){P.off(window,ln),P.off(this._dialog,ln),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new eE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new tE({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Z.findOne(tM,this._dialog);n&&(n.scrollTop=0),ea(this._element),this._element.classList.add(Og);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,zL,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,QL,e=>{if(e.key===jL){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),P.on(window,qL,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,YL,e=>{P.one(this._element,GL,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Sg),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,nE)})}_isAnimated(){return this._element.classList.contains(JL)}_triggerBackdropTransition(){if(P.trigger(this._element,KL).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(wu)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(wu),this._queueCallback(()=>{this._element.classList.remove(wu),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=an()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=an()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Ci.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}P.on(document,XL,nM,function(t){const e=Z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),P.one(e,sE,i=>{i.defaultPrevented||P.one(e,nE,()=>{$r(this)&&this.focus()})});const n=Z.findOne(ZL);n&&Ci.getInstance(n).hide(),Ci.getOrCreateInstance(e).toggle(this)});cc(Ci);cn(Ci);const rM="offcanvas",oM="bs.offcanvas",us=`.${oM}`,iE=".data-api",aM=`load${us}${iE}`,lM="Escape",Ng="show",Pg="showing",Rg="hiding",cM="offcanvas-backdrop",rE=".offcanvas.show",uM=`show${us}`,hM=`shown${us}`,dM=`hide${us}`,kg=`hidePrevented${us}`,oE=`hidden${us}`,fM=`resize${us}`,pM=`click${us}${iE}`,_M=`keydown.dismiss${us}`,gM='[data-bs-toggle="offcanvas"]',mM={backdrop:!0,keyboard:!0,scroll:!1},vM={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class os extends En{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mM}static get DefaultType(){return vM}static get NAME(){return rM}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||P.trigger(this._element,uM,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _h().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pg);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ng),this._element.classList.remove(Pg),P.trigger(this._element,hM,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||P.trigger(this._element,dM).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Rg),this._backdrop.hide();const n=()=>{this._element.classList.remove(Ng,Rg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _h().reset(),P.trigger(this._element,oE)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){P.trigger(this._element,kg);return}this.hide()},n=!!this._config.backdrop;return new eE({className:cM,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new tE({trapElement:this._element})}_addEventListeners(){P.on(this._element,_M,e=>{if(e.key===lM){if(this._config.keyboard){this.hide();return}P.trigger(this._element,kg)}})}static jQueryInterface(e){return this.each(function(){const n=os.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}P.on(document,pM,gM,function(t){const e=Z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ds(this))return;P.one(e,oE,()=>{$r(this)&&this.focus()});const n=Z.findOne(rE);n&&n!==e&&os.getInstance(n).hide(),os.getOrCreateInstance(e).toggle(this)});P.on(window,aM,()=>{for(const t of Z.find(rE))os.getOrCreateInstance(t).show()});P.on(window,fM,()=>{for(const t of Z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&os.getOrCreateInstance(t).hide()});cc(os);cn(os);const yM=/^aria-[\w-]*$/i,aE={"*":["class","dir","id","lang","role",yM],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bM=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),EM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wM=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?bM.has(n)?!!EM.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function TM(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const d of c)wM(d,h)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const CM="TemplateFactory",IM={allowList:aE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},AM={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},SM={entry:"(string|element|function|null)",selector:"(string|element)"};class OM extends ta{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return IM}static get DefaultType(){return AM}static get NAME(){return CM}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},SM)}_setContent(e,n,s){const i=Z.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(es(n)){this._putElementInTemplate(ks(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?TM(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return kt(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const NM="tooltip",PM=new Set(["sanitize","allowList","sanitizeFn"]),Tu="fade",RM="modal",$a="show",kM=".tooltip-inner",Dg=`.${RM}`,xg="hide.bs.modal",eo="hover",Cu="focus",DM="click",xM="manual",LM="hide",MM="hidden",$M="show",FM="shown",UM="inserted",HM="click",VM="focusin",WM="focusout",jM="mouseenter",BM="mouseleave",KM={AUTO:"auto",TOP:"top",RIGHT:an()?"left":"right",BOTTOM:"bottom",LEFT:an()?"right":"left"},zM={allowList:aE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qM={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Pi extends En{constructor(e,n){if(typeof xb>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zM}static get DefaultType(){return qM}static get NAME(){return NM}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(Dg),xg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=P.trigger(this._element,this.constructor.eventName($M)),s=($b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),P.trigger(this._element,this.constructor.eventName(UM))),this._popper=this._createPopper(i),i.classList.add($a),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))P.on(l,"mouseover",Rl);const o=()=>{P.trigger(this._element,this.constructor.eventName(FM)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||P.trigger(this._element,this.constructor.eventName(LM)).defaultPrevented)return;if(this._getTipElement().classList.remove($a),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))P.off(i,"mouseover",Rl);this._activeTrigger[DM]=!1,this._activeTrigger[Cu]=!1,this._activeTrigger[eo]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName(MM)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Tu,$a),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=DD(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Tu),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new OM({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[kM]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tu)}_isShown(){return this.tip&&this.tip.classList.contains($a)}_createPopper(e){const n=kt(this._config.placement,[this,e,this._element]),s=KM[n.toUpperCase()];return Fd(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return kt(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...kt(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")P.on(this._element,this.constructor.eventName(HM),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==xM){const s=n===eo?this.constructor.eventName(jM):this.constructor.eventName(VM),i=n===eo?this.constructor.eventName(BM):this.constructor.eventName(WM);P.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Cu:eo]=!0,o._enter()}),P.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Cu:eo]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(Dg),xg,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=ts.getDataAttributes(this._element);for(const s of Object.keys(n))PM.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ks(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Pi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}cn(Pi);const GM="popover",YM=".popover-header",QM=".popover-body",XM={...Pi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},JM={...Pi.DefaultType,content:"(null|string|element|function)"};class uc extends Pi{static get Default(){return XM}static get DefaultType(){return JM}static get NAME(){return GM}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[YM]:this._getTitle(),[QM]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=uc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}cn(uc);const ZM="scrollspy",e$="bs.scrollspy",Wd=`.${e$}`,t$=".data-api",n$=`activate${Wd}`,Lg=`click${Wd}`,s$=`load${Wd}${t$}`,i$="dropdown-item",Yi="active",r$='[data-bs-spy="scroll"]',Iu="[href]",o$=".nav, .list-group",Mg=".nav-link",a$=".nav-item",l$=".list-group-item",c$=`${Mg}, ${a$} > ${Mg}, ${l$}`,u$=".dropdown",h$=".dropdown-toggle",d$={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},f$={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ra extends En{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return d$}static get DefaultType(){return f$}static get NAME(){return ZM}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ks(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,Lg),P.on(this._config.target,Lg,Iu,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Z.find(Iu,this._config.target);for(const n of e){if(!n.hash||Ds(n))continue;const s=Z.findOne(decodeURI(n.hash),this._element);$r(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Yi),this._activateParents(e),P.trigger(this._element,n$,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(i$)){Z.findOne(h$,e.closest(u$)).classList.add(Yi);return}for(const n of Z.parents(e,o$))for(const s of Z.prev(n,c$))s.classList.add(Yi)}_clearActiveClass(e){e.classList.remove(Yi);const n=Z.find(`${Iu}.${Yi}`,e);for(const s of n)s.classList.remove(Yi)}static jQueryInterface(e){return this.each(function(){const n=ra.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(window,s$,()=>{for(const t of Z.find(r$))ra.getOrCreateInstance(t)});cn(ra);const p$="tab",_$="bs.tab",Ri=`.${_$}`,g$=`hide${Ri}`,m$=`hidden${Ri}`,v$=`show${Ri}`,y$=`shown${Ri}`,b$=`click${Ri}`,E$=`keydown${Ri}`,w$=`load${Ri}`,T$="ArrowLeft",$g="ArrowRight",C$="ArrowUp",Fg="ArrowDown",Au="Home",Ug="End",ui="active",Hg="fade",Su="show",I$="dropdown",lE=".dropdown-toggle",A$=".dropdown-menu",Ou=`:not(${lE})`,S$='.list-group, .nav, [role="tablist"]',O$=".nav-item, .list-group-item",N$=`.nav-link${Ou}, .list-group-item${Ou}, [role="tab"]${Ou}`,cE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Nu=`${N$}, ${cE}`,P$=`.${ui}[data-bs-toggle="tab"], .${ui}[data-bs-toggle="pill"], .${ui}[data-bs-toggle="list"]`;class Ii extends En{constructor(e){super(e),this._parent=this._element.closest(S$),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,E$,n=>this._keydown(n)))}static get NAME(){return p$}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?P.trigger(n,g$,{relatedTarget:e}):null;P.trigger(e,v$,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ui),this._activate(Z.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Su);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),P.trigger(e,y$,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Hg))}_deactivate(e,n){if(!e)return;e.classList.remove(ui),e.blur(),this._deactivate(Z.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Su);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),P.trigger(e,m$,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Hg))}_keydown(e){if(![T$,$g,C$,Fg,Au,Ug].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!Ds(i));let s;if([Au,Ug].includes(e.key))s=n[e.key===Au?0:n.length-1];else{const i=[$g,Fg].includes(e.key);s=Ud(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Ii.getOrCreateInstance(s).show())}_getChildren(){return Z.find(Nu,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Z.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(I$))return;const i=(r,o)=>{const l=Z.findOne(r,s);l&&l.classList.toggle(o,n)};i(lE,ui),i(A$,Su),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(ui)}_getInnerElement(e){return e.matches(Nu)?e:Z.findOne(Nu,e)}_getOuterElement(e){return e.closest(O$)||e}static jQueryInterface(e){return this.each(function(){const n=Ii.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}P.on(document,b$,cE,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Ds(this)&&Ii.getOrCreateInstance(this).show()});P.on(window,w$,()=>{for(const t of Z.find(P$))Ii.getOrCreateInstance(t)});cn(Ii);const R$="toast",k$="bs.toast",Vs=`.${k$}`,D$=`mouseover${Vs}`,x$=`mouseout${Vs}`,L$=`focusin${Vs}`,M$=`focusout${Vs}`,$$=`hide${Vs}`,F$=`hidden${Vs}`,U$=`show${Vs}`,H$=`shown${Vs}`,V$="fade",Vg="hide",Fa="show",Ua="showing",W$={animation:"boolean",autohide:"boolean",delay:"number"},j$={animation:!0,autohide:!0,delay:5e3};class oa extends En{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return j$}static get DefaultType(){return W$}static get NAME(){return R$}show(){if(P.trigger(this._element,U$).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(V$);const n=()=>{this._element.classList.remove(Ua),P.trigger(this._element,H$),this._maybeScheduleHide()};this._element.classList.remove(Vg),ea(this._element),this._element.classList.add(Fa,Ua),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||P.trigger(this._element,$$).defaultPrevented)return;const n=()=>{this._element.classList.add(Vg),this._element.classList.remove(Ua,Fa),P.trigger(this._element,F$)};this._element.classList.add(Ua),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Fa),super.dispose()}isShown(){return this._element.classList.contains(Fa)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,D$,e=>this._onInteraction(e,!0)),P.on(this._element,x$,e=>this._onInteraction(e,!1)),P.on(this._element,L$,e=>this._onInteraction(e,!0)),P.on(this._element,M$,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=oa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cc(oa);cn(oa);const B$=Object.freeze(Object.defineProperty({__proto__:null,Alert:na,Button:sa,Carousel:Ur,Collapse:Or,Dropdown:yn,Modal:Ci,Offcanvas:os,Popover:uc,ScrollSpy:ra,Tab:Ii,Toast:oa,Tooltip:Pi},Symbol.toStringTag,{value:"Module"})),uE=DI(Hk);uE.config.globalProperties.$bootstrap=B$;uE.mount("#app");
